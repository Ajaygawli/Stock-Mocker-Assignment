{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport RcTable from 'rc-table';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport FilterDropdown from './filterDropdown';\nimport createStore from './createStore';\nimport SelectionBox from './SelectionBox';\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\nimport Column from './Column';\nimport ColumnGroup from './ColumnGroup';\nimport createBodyRow from './createBodyRow';\nimport { flatArray, treeMap, flatFilter, normalizeColumns } from './util';\nimport Pagination from '../pagination';\nimport Icon from '../icon';\nimport Spin from '../spin';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\nfunction noop() {}\nfunction stopPropagation(e) {\n  e.stopPropagation();\n  if (e.nativeEvent.stopImmediatePropagation) {\n    e.nativeEvent.stopImmediatePropagation();\n  }\n}\nfunction getRowSelection(props) {\n  return props.rowSelection || {};\n}\nvar defaultPagination = {\n  onChange: noop,\n  onShowSizeChange: noop\n};\nvar ROW_SELECTION_COLUMN_WIDTH = '62px';\n/**\r\n * Avoid creating new object, so that parent component's shouldComponentUpdate\r\n * can works appropriately。\r\n */\n\nvar emptyObject = {};\nvar Table = /*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Table, _React$Component);\n  function Table(props) {\n    var _this;\n    _classCallCheck(this, Table);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Table).call(this, props));\n    _this.getCheckboxPropsByItem = function (item, index) {\n      var rowSelection = getRowSelection(_this.props);\n      if (!rowSelection.getCheckboxProps) {\n        return {};\n      }\n      var key = _this.getRecordKey(item, index); // Cache checkboxProps\n\n      if (!_this.CheckboxPropsCache[key]) {\n        var checkboxProps = _this.CheckboxPropsCache[key] = rowSelection.getCheckboxProps(item);\n        warning(!('checked' in checkboxProps) && !('defaultChecked' in checkboxProps), 'Table', 'Do not set `checked` or `defaultChecked` in `getCheckboxProps`. Please use `selectedRowKeys` instead.');\n      }\n      return _this.CheckboxPropsCache[key];\n    };\n    _this.onRow = function (prefixCls, record, index) {\n      var onRow = _this.props.onRow;\n      var custom = onRow ? onRow(record, index) : {};\n      return _extends({}, custom, {\n        prefixCls: prefixCls,\n        store: _this.store,\n        rowKey: _this.getRecordKey(record, index)\n      });\n    };\n    _this.handleFilter = function (column, nextFilters) {\n      var props = _this.props;\n      var pagination = _extends({}, _this.state.pagination);\n      var filters = _extends({}, _this.state.filters, _defineProperty({}, _this.getColumnKey(column), nextFilters)); // Remove filters not in current columns\n\n      var currentColumnKeys = [];\n      treeMap(_this.columns, function (c) {\n        if (!c.children) {\n          currentColumnKeys.push(_this.getColumnKey(c));\n        }\n      });\n      Object.keys(filters).forEach(function (columnKey) {\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\n          delete filters[columnKey];\n        }\n      });\n      if (props.pagination) {\n        // Reset current prop\n        pagination.current = 1;\n        pagination.onChange(pagination.current);\n      }\n      var newState = {\n        pagination: pagination,\n        filters: {}\n      };\n      var filtersToSetState = _extends({}, filters); // Remove filters which is controlled\n\n      _this.getFilteredValueColumns().forEach(function (col) {\n        var columnKey = _this.getColumnKey(col);\n        if (columnKey) {\n          delete filtersToSetState[columnKey];\n        }\n      });\n      if (Object.keys(filtersToSetState).length > 0) {\n        newState.filters = filtersToSetState;\n      } // Controlled current prop will not respond user interaction\n\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends({}, pagination, {\n          current: _this.state.pagination.current\n        });\n      }\n      _this.setState(newState, function () {\n        _this.store.setState({\n          selectionDirty: false\n        });\n        var onChange = _this.props.onChange;\n        if (onChange) {\n          onChange.apply(null, _this.prepareParamsArguments(_extends({}, _this.state, {\n            selectionDirty: false,\n            filters: filters,\n            pagination: pagination\n          })));\n        }\n      });\n    };\n    _this.handleSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var defaultSelection = _this.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n      var selectedRowKeys = _this.store.getState().selectedRowKeys.concat(defaultSelection);\n      var key = _this.getRecordKey(record, rowIndex);\n      var pivot = _this.state.pivot;\n      var rows = _this.getFlatCurrentPageData(_this.props.childrenColumnName);\n      var realIndex = rowIndex;\n      if (_this.props.expandedRowRender) {\n        realIndex = rows.findIndex(function (row) {\n          return _this.getRecordKey(row, rowIndex) === key;\n        });\n      }\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\n        var changeRowKeys = [];\n        var direction = Math.sign(pivot - realIndex);\n        var dist = Math.abs(pivot - realIndex);\n        var step = 0;\n        var _loop = function _loop() {\n          var i = realIndex + step * direction;\n          step += 1;\n          var row = rows[i];\n          var rowKey = _this.getRecordKey(row, i);\n          var checkboxProps = _this.getCheckboxPropsByItem(row, i);\n          if (!checkboxProps.disabled) {\n            if (selectedRowKeys.includes(rowKey)) {\n              if (!checked) {\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\n                  return rowKey !== j;\n                });\n                changeRowKeys.push(rowKey);\n              }\n            } else if (checked) {\n              selectedRowKeys.push(rowKey);\n              changeRowKeys.push(rowKey);\n            }\n          }\n        };\n        while (step <= dist) {\n          _loop();\n        }\n        _this.setState({\n          pivot: realIndex\n        });\n        _this.store.setState({\n          selectionDirty: true\n        });\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelectMultiple',\n          record: record,\n          checked: checked,\n          changeRowKeys: changeRowKeys,\n          nativeEvent: nativeEvent\n        });\n      } else {\n        if (checked) {\n          selectedRowKeys.push(_this.getRecordKey(record, realIndex));\n        } else {\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\n            return key !== i;\n          });\n        }\n        _this.setState({\n          pivot: realIndex\n        });\n        _this.store.setState({\n          selectionDirty: true\n        });\n        _this.setSelectedRowKeys(selectedRowKeys, {\n          selectWay: 'onSelect',\n          record: record,\n          checked: checked,\n          changeRowKeys: void 0,\n          nativeEvent: nativeEvent\n        });\n      }\n    };\n    _this.handleRadioSelect = function (record, rowIndex, e) {\n      var checked = e.target.checked;\n      var nativeEvent = e.nativeEvent;\n      var key = _this.getRecordKey(record, rowIndex);\n      var selectedRowKeys = [key];\n      _this.store.setState({\n        selectionDirty: true\n      });\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: 'onSelect',\n        record: record,\n        checked: checked,\n        changeRowKeys: void 0,\n        nativeEvent: nativeEvent\n      });\n    };\n    _this.handleSelectRow = function (selectionKey, index, onSelectFunc) {\n      var data = _this.getFlatCurrentPageData(_this.props.childrenColumnName);\n      var defaultSelection = _this.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\n      var selectedRowKeys = _this.store.getState().selectedRowKeys.concat(defaultSelection);\n      var changeableRowKeys = data.filter(function (item, i) {\n        return !_this.getCheckboxPropsByItem(item, i).disabled;\n      }).map(function (item, i) {\n        return _this.getRecordKey(item, i);\n      });\n      var changeRowKeys = [];\n      var selectWay = 'onSelectAll';\n      var checked; // handle default selection\n\n      switch (selectionKey) {\n        case 'all':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = true;\n          break;\n        case 'removeAll':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) >= 0) {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n              changeRowKeys.push(key);\n            }\n          });\n          selectWay = 'onSelectAll';\n          checked = false;\n          break;\n        case 'invert':\n          changeableRowKeys.forEach(function (key) {\n            if (selectedRowKeys.indexOf(key) < 0) {\n              selectedRowKeys.push(key);\n            } else {\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\n            }\n            changeRowKeys.push(key);\n            selectWay = 'onSelectInvert';\n          });\n          break;\n        default:\n          break;\n      }\n      _this.store.setState({\n        selectionDirty: true\n      }); // when select custom selection, callback selections[n].onSelect\n\n      var rowSelection = _this.props.rowSelection;\n      var customSelectionStartIndex = 2;\n      if (rowSelection && rowSelection.hideDefaultSelections) {\n        customSelectionStartIndex = 0;\n      }\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\n        return onSelectFunc(changeableRowKeys);\n      }\n      _this.setSelectedRowKeys(selectedRowKeys, {\n        selectWay: selectWay,\n        checked: checked,\n        changeRowKeys: changeRowKeys\n      });\n    };\n    _this.handlePageChange = function (current) {\n      var props = _this.props;\n      var pagination = _extends({}, _this.state.pagination);\n      if (current) {\n        pagination.current = current;\n      } else {\n        pagination.current = pagination.current || 1;\n      }\n      for (var _len = arguments.length, otherArguments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        otherArguments[_key - 1] = arguments[_key];\n      }\n      pagination.onChange.apply(pagination, [pagination.current].concat(otherArguments));\n      var newState = {\n        pagination: pagination\n      }; // Controlled current prop will not respond user interaction\n\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\n        newState.pagination = _extends({}, pagination, {\n          current: _this.state.pagination.current\n        });\n      }\n      _this.setState(newState);\n      _this.store.setState({\n        selectionDirty: false\n      });\n      var onChange = _this.props.onChange;\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends({}, _this.state, {\n          selectionDirty: false,\n          pagination: pagination\n        })));\n      }\n    };\n    _this.renderSelectionBox = function (type) {\n      return function (_, record, index) {\n        var rowKey = _this.getRecordKey(record, index);\n        var props = _this.getCheckboxPropsByItem(record, index);\n        var handleChange = function handleChange(e) {\n          type === 'radio' ? _this.handleRadioSelect(record, index, e) : _this.handleSelect(record, index, e);\n        };\n        return React.createElement(\"span\", {\n          onClick: stopPropagation\n        }, React.createElement(SelectionBox, _extends({\n          type: type,\n          store: _this.store,\n          rowIndex: rowKey,\n          onChange: handleChange,\n          defaultSelection: _this.getDefaultSelection()\n        }, props)));\n      };\n    };\n    _this.getRecordKey = function (record, index) {\n      var rowKey = _this.props.rowKey;\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ' + 'see https://u.ant.design/table-row-key');\n      return recordKey === undefined ? index : recordKey;\n    };\n    _this.getPopupContainer = function () {\n      return ReactDOM.findDOMNode(_assertThisInitialized(_this));\n    };\n    _this.generatePopupContainerFunc = function () {\n      var scroll = _this.props.scroll; // Use undefined to let rc component use default logic.\n\n      return scroll ? _this.getPopupContainer : undefined;\n    };\n    _this.handleShowSizeChange = function (current, pageSize) {\n      var pagination = _this.state.pagination;\n      pagination.onShowSizeChange(current, pageSize);\n      var nextPagination = _extends({}, pagination, {\n        pageSize: pageSize,\n        current: current\n      });\n      _this.setState({\n        pagination: nextPagination\n      });\n      var onChange = _this.props.onChange;\n      if (onChange) {\n        onChange.apply(null, _this.prepareParamsArguments(_extends({}, _this.state, {\n          pagination: nextPagination\n        })));\n      }\n    };\n    _this.renderTable = function (prefixCls, renderEmpty, dropdownPrefixCls, contextLocale) {\n      var _classNames;\n      var _a = _this.props,\n        style = _a.style,\n        className = _a.className,\n        showHeader = _a.showHeader,\n        locale = _a.locale,\n        restProps = __rest(_a, [\"style\", \"className\", \"showHeader\", \"locale\"]);\n      var data = _this.getCurrentPageData();\n      var expandIconAsCell = _this.props.expandedRowRender && _this.props.expandIconAsCell !== false;\n      var mergedLocale = _extends({}, contextLocale, locale);\n      if (!locale || !locale.emptyText) {\n        mergedLocale.emptyText = renderEmpty('Table');\n      }\n      var classString = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(_this.props.size), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), _this.props.bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-empty\"), !data.length), _defineProperty(_classNames, \"\".concat(prefixCls, \"-without-column-header\"), !showHeader), _classNames));\n      var columns = _this.renderRowSelection(prefixCls, mergedLocale);\n      columns = _this.renderColumnsDropdown(prefixCls, dropdownPrefixCls, columns, mergedLocale);\n      columns = columns.map(function (column, i) {\n        var newColumn = _extends({}, column);\n        newColumn.key = _this.getColumnKey(newColumn, i);\n        return newColumn;\n      });\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\n      if ('expandIconColumnIndex' in restProps) {\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\n      }\n      return React.createElement(RcTable, _extends({\n        key: \"table\"\n      }, restProps, {\n        onRow: function onRow(record, index) {\n          return _this.onRow(prefixCls, record, index);\n        },\n        components: _this.components,\n        prefixCls: prefixCls,\n        data: data,\n        columns: columns,\n        showHeader: showHeader,\n        className: classString,\n        expandIconColumnIndex: expandIconColumnIndex,\n        expandIconAsCell: expandIconAsCell,\n        emptyText: mergedLocale.emptyText\n      }));\n    };\n    _this.renderComponent = function (_ref) {\n      var getPrefixCls = _ref.getPrefixCls,\n        renderEmpty = _ref.renderEmpty;\n      var _this$props = _this.props,\n        customizePrefixCls = _this$props.prefixCls,\n        customizeDropdownPrefixCls = _this$props.dropdownPrefixCls,\n        style = _this$props.style,\n        className = _this$props.className;\n      var data = _this.getCurrentPageData();\n      var loading = _this.props.loading;\n      if (typeof loading === 'boolean') {\n        loading = {\n          spinning: loading\n        };\n      }\n      var prefixCls = getPrefixCls('table', customizePrefixCls);\n      var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\n      var table = React.createElement(LocaleReceiver, {\n        componentName: \"Table\",\n        defaultLocale: defaultLocale.Table\n      }, function (locale) {\n        return _this.renderTable(prefixCls, renderEmpty, dropdownPrefixCls, locale);\n      }); // if there is no pagination or no data,\n      // the height of spin should decrease by half of pagination\n\n      var paginationPatchClass = _this.hasPagination() && data && data.length !== 0 ? \"\".concat(prefixCls, \"-with-pagination\") : \"\".concat(prefixCls, \"-without-pagination\");\n      return React.createElement(\"div\", {\n        className: classNames(\"\".concat(prefixCls, \"-wrapper\"), className),\n        style: style\n      }, React.createElement(Spin, _extends({}, loading, {\n        className: loading.spinning ? \"\".concat(paginationPatchClass, \" \").concat(prefixCls, \"-spin-holder\") : ''\n      }), _this.renderPagination(prefixCls, 'top'), table, _this.renderPagination(prefixCls, 'bottom')));\n    };\n    warning(!('columnsPageRange' in props || 'columnsPageSize' in props), 'Table', '`columnsPageRange` and `columnsPageSize` are removed, please use ' + 'fixed columns instead, see: https://u.ant.design/fixed-columns.');\n    warning(!('expandedRowRender' in props) || !('scroll' in props), 'Table', '`expandedRowRender` and `scroll` are not compatible. Please use one of them at one time.');\n    _this.columns = props.columns || normalizeColumns(props.children);\n    _this.createComponents(props.components);\n    _this.state = _extends({}, _this.getDefaultSortOrder(_this.columns), {\n      // 减少状态\n      filters: _this.getFiltersFromColumns(),\n      pagination: _this.getDefaultPagination(props),\n      pivot: undefined\n    });\n    _this.CheckboxPropsCache = {};\n    _this.store = createStore({\n      selectedRowKeys: getRowSelection(props).selectedRowKeys || [],\n      selectionDirty: false\n    });\n    return _this;\n  }\n  _createClass(Table, [{\n    key: \"getDefaultSelection\",\n    value: function getDefaultSelection() {\n      var _this2 = this;\n      var rowSelection = getRowSelection(this.props);\n      if (!rowSelection.getCheckboxProps) {\n        return [];\n      }\n      return this.getFlatData().filter(function (item, rowIndex) {\n        return _this2.getCheckboxPropsByItem(item, rowIndex).defaultChecked;\n      }).map(function (record, rowIndex) {\n        return _this2.getRecordKey(record, rowIndex);\n      });\n    }\n  }, {\n    key: \"getDefaultPagination\",\n    value: function getDefaultPagination(props) {\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\n      var current;\n      if ('current' in pagination) {\n        current = pagination.current;\n      } else if ('defaultCurrent' in pagination) {\n        current = pagination.defaultCurrent;\n      }\n      var pageSize;\n      if ('pageSize' in pagination) {\n        pageSize = pagination.pageSize;\n      } else if ('defaultPageSize' in pagination) {\n        pageSize = pagination.defaultPageSize;\n      }\n      return this.hasPagination(props) ? _extends({}, defaultPagination, pagination, {\n        current: current || 1,\n        pageSize: pageSize || 10\n      }) : {};\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.columns = nextProps.columns || normalizeColumns(nextProps.children);\n      if ('pagination' in nextProps || 'pagination' in this.props) {\n        this.setState(function (previousState) {\n          var newPagination = _extends({}, defaultPagination, previousState.pagination, nextProps.pagination);\n          newPagination.current = newPagination.current || 1;\n          newPagination.pageSize = newPagination.pageSize || 10;\n          return {\n            pagination: nextProps.pagination !== false ? newPagination : emptyObject\n          };\n        });\n      }\n      if (nextProps.rowSelection && 'selectedRowKeys' in nextProps.rowSelection) {\n        this.store.setState({\n          selectedRowKeys: nextProps.rowSelection.selectedRowKeys || []\n        });\n      } else if (this.props.rowSelection && !nextProps.rowSelection) {\n        this.store.setState({\n          selectedRowKeys: []\n        });\n      }\n      if ('dataSource' in nextProps && nextProps.dataSource !== this.props.dataSource) {\n        this.store.setState({\n          selectionDirty: false\n        });\n      } // https://github.com/ant-design/ant-design/issues/10133\n\n      this.CheckboxPropsCache = {};\n      if (this.getSortOrderColumns(this.columns).length > 0) {\n        var sortState = this.getSortStateFromColumns(this.columns);\n        if (sortState.sortColumn !== this.state.sortColumn || sortState.sortOrder !== this.state.sortOrder) {\n          this.setState(sortState);\n        }\n      }\n      var filteredValueColumns = this.getFilteredValueColumns(this.columns);\n      if (filteredValueColumns.length > 0) {\n        var filtersFromColumns = this.getFiltersFromColumns(this.columns);\n        var newFilters = _extends({}, this.state.filters);\n        Object.keys(filtersFromColumns).forEach(function (key) {\n          newFilters[key] = filtersFromColumns[key];\n        });\n        if (this.isFiltersChanged(newFilters)) {\n          this.setState({\n            filters: newFilters\n          });\n        }\n      }\n      this.createComponents(nextProps.components, this.props.components);\n    }\n  }, {\n    key: \"setSelectedRowKeys\",\n    value: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\n      var _this3 = this;\n      var selectWay = selectionInfo.selectWay,\n        record = selectionInfo.record,\n        checked = selectionInfo.checked,\n        changeRowKeys = selectionInfo.changeRowKeys,\n        nativeEvent = selectionInfo.nativeEvent;\n      var rowSelection = getRowSelection(this.props);\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\n        this.store.setState({\n          selectedRowKeys: selectedRowKeys\n        });\n      }\n      var data = this.getFlatData();\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\n        return;\n      }\n      var selectedRows = data.filter(function (row, i) {\n        return selectedRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n      });\n      if (rowSelection.onChange) {\n        rowSelection.onChange(selectedRowKeys, selectedRows);\n      }\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\n        var changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\n        var _changeRows = data.filter(function (row, i) {\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\n        });\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\n        rowSelection.onSelectInvert(selectedRowKeys);\n      }\n    }\n  }, {\n    key: \"hasPagination\",\n    value: function hasPagination(props) {\n      return (props || this.props).pagination !== false;\n    }\n  }, {\n    key: \"isFiltersChanged\",\n    value: function isFiltersChanged(filters) {\n      var _this4 = this;\n      var filtersChanged = false;\n      if (Object.keys(filters).length !== Object.keys(this.state.filters).length) {\n        filtersChanged = true;\n      } else {\n        Object.keys(filters).forEach(function (columnKey) {\n          if (filters[columnKey] !== _this4.state.filters[columnKey]) {\n            filtersChanged = true;\n          }\n        });\n      }\n      return filtersChanged;\n    }\n  }, {\n    key: \"getSortOrderColumns\",\n    value: function getSortOrderColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return 'sortOrder' in column;\n      });\n    }\n  }, {\n    key: \"getFilteredValueColumns\",\n    value: function getFilteredValueColumns(columns) {\n      return flatFilter(columns || this.columns || [], function (column) {\n        return typeof column.filteredValue !== 'undefined';\n      });\n    }\n  }, {\n    key: \"getFiltersFromColumns\",\n    value: function getFiltersFromColumns(columns) {\n      var _this5 = this;\n      var filters = {};\n      this.getFilteredValueColumns(columns).forEach(function (col) {\n        var colKey = _this5.getColumnKey(col);\n        filters[colKey] = col.filteredValue;\n      });\n      return filters;\n    }\n  }, {\n    key: \"getDefaultSortOrder\",\n    value: function getDefaultSortOrder(columns) {\n      var definedSortState = this.getSortStateFromColumns(columns);\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\n        return column.defaultSortOrder != null;\n      })[0];\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\n        return {\n          sortColumn: defaultSortedColumn,\n          sortOrder: defaultSortedColumn.defaultSortOrder\n        };\n      }\n      return definedSortState;\n    }\n  }, {\n    key: \"getSortStateFromColumns\",\n    value: function getSortStateFromColumns(columns) {\n      // return first column which sortOrder is not falsy\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\n        return col.sortOrder;\n      })[0];\n      if (sortedColumn) {\n        return {\n          sortColumn: sortedColumn,\n          sortOrder: sortedColumn.sortOrder\n        };\n      }\n      return {\n        sortColumn: null,\n        sortOrder: null\n      };\n    }\n  }, {\n    key: \"getSorterFn\",\n    value: function getSorterFn(state) {\n      var _ref2 = state || this.state,\n        sortOrder = _ref2.sortOrder,\n        sortColumn = _ref2.sortColumn;\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\n        return;\n      }\n      return function (a, b) {\n        var result = sortColumn.sorter(a, b, sortOrder);\n        if (result !== 0) {\n          return sortOrder === 'descend' ? -result : result;\n        }\n        return 0;\n      };\n    }\n  }, {\n    key: \"isSameColumn\",\n    value: function isSameColumn(a, b) {\n      if (a && b && a.key && a.key === b.key) {\n        return true;\n      }\n      return a === b || shallowEqual(a, b, function (value, other) {\n        if (typeof value === 'function' && typeof other === 'function') {\n          return value === other || value.toString() === other.toString();\n        }\n      });\n    }\n  }, {\n    key: \"toggleSortOrder\",\n    value: function toggleSortOrder(column) {\n      if (!column.sorter) {\n        return;\n      }\n      var sortDirections = column.sortDirections || this.props.sortDirections;\n      var _this$state = this.state,\n        sortOrder = _this$state.sortOrder,\n        sortColumn = _this$state.sortColumn; // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\n\n      var newSortOrder; // 切换另一列时，丢弃 sortOrder 的状态\n\n      if (this.isSameColumn(sortColumn, column) && sortOrder !== undefined) {\n        // 按照sortDirections的内容依次切换排序状态\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\n      } else {\n        newSortOrder = sortDirections[0];\n      }\n      var newState = {\n        sortOrder: newSortOrder,\n        sortColumn: newSortOrder ? column : null\n      }; // Controlled\n\n      if (this.getSortOrderColumns().length === 0) {\n        this.setState(newState);\n      }\n      var onChange = this.props.onChange;\n      if (onChange) {\n        onChange.apply(null, this.prepareParamsArguments(_extends({}, this.state, newState)));\n      }\n    }\n  }, {\n    key: \"renderRowSelection\",\n    value: function renderRowSelection(prefixCls, locale) {\n      var _this6 = this;\n      var _this$props2 = this.props,\n        rowSelection = _this$props2.rowSelection,\n        childrenColumnName = _this$props2.childrenColumnName;\n      var columns = this.columns.concat();\n      if (rowSelection) {\n        var data = this.getFlatCurrentPageData(childrenColumnName).filter(function (item, index) {\n          if (rowSelection.getCheckboxProps) {\n            return !_this6.getCheckboxPropsByItem(item, index).disabled;\n          }\n          return true;\n        });\n        var selectionColumnClass = classNames(\"\".concat(prefixCls, \"-selection-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-selection-column-custom\"), rowSelection.selections));\n        var selectionColumn = {\n          key: 'selection-column',\n          render: this.renderSelectionBox(rowSelection.type),\n          className: selectionColumnClass,\n          fixed: rowSelection.fixed,\n          width: rowSelection.columnWidth || ROW_SELECTION_COLUMN_WIDTH,\n          title: rowSelection.columnTitle\n        };\n        if (rowSelection.type !== 'radio') {\n          var checkboxAllDisabled = data.every(function (item, index) {\n            return _this6.getCheckboxPropsByItem(item, index).disabled;\n          });\n          selectionColumn.title = selectionColumn.title || React.createElement(SelectionCheckboxAll, {\n            store: this.store,\n            locale: locale,\n            data: data,\n            getCheckboxPropsByItem: this.getCheckboxPropsByItem,\n            getRecordKey: this.getRecordKey,\n            disabled: checkboxAllDisabled,\n            prefixCls: prefixCls,\n            onSelect: this.handleSelectRow,\n            selections: rowSelection.selections,\n            hideDefaultSelections: rowSelection.hideDefaultSelections,\n            getPopupContainer: this.generatePopupContainerFunc()\n          });\n        }\n        if ('fixed' in rowSelection) {\n          selectionColumn.fixed = rowSelection.fixed;\n        } else if (columns.some(function (column) {\n          return column.fixed === 'left' || column.fixed === true;\n        })) {\n          selectionColumn.fixed = 'left';\n        }\n        if (columns[0] && columns[0].key === 'selection-column') {\n          columns[0] = selectionColumn;\n        } else {\n          columns.unshift(selectionColumn);\n        }\n      }\n      return columns;\n    }\n  }, {\n    key: \"getColumnKey\",\n    value: function getColumnKey(column, index) {\n      return column.key || column.dataIndex || index;\n    }\n  }, {\n    key: \"getMaxCurrent\",\n    value: function getMaxCurrent(total) {\n      var _this$state$paginatio = this.state.pagination,\n        current = _this$state$paginatio.current,\n        pageSize = _this$state$paginatio.pageSize;\n      if ((current - 1) * pageSize >= total) {\n        return Math.floor((total - 1) / pageSize) + 1;\n      }\n      return current;\n    }\n  }, {\n    key: \"isSortColumn\",\n    value: function isSortColumn(column) {\n      var sortColumn = this.state.sortColumn;\n      if (!column || !sortColumn) {\n        return false;\n      }\n      return this.getColumnKey(sortColumn) === this.getColumnKey(column);\n    }\n  }, {\n    key: \"renderColumnsDropdown\",\n    value: function renderColumnsDropdown(prefixCls, dropdownPrefixCls, columns, locale) {\n      var _this7 = this;\n      var _this$state2 = this.state,\n        sortOrder = _this$state2.sortOrder,\n        filters = _this$state2.filters;\n      return treeMap(columns, function (column, i) {\n        var _classNames3;\n        var key = _this7.getColumnKey(column, i);\n        var filterDropdown;\n        var sortButton;\n        var onHeaderCell = column.onHeaderCell;\n        var isSortColumn = _this7.isSortColumn(column);\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\n          var colFilters = key in filters ? filters[key] : [];\n          filterDropdown = React.createElement(FilterDropdown, {\n            locale: locale,\n            column: column,\n            selectedKeys: colFilters,\n            confirmFilter: _this7.handleFilter,\n            prefixCls: \"\".concat(prefixCls, \"-filter\"),\n            dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\n            getPopupContainer: _this7.generatePopupContainerFunc(),\n            key: \"filter-dropdown\"\n          });\n        }\n        if (column.sorter) {\n          var sortDirections = column.sortDirections || _this7.props.sortDirections;\n          var isAscend = isSortColumn && sortOrder === 'ascend';\n          var isDescend = isSortColumn && sortOrder === 'descend';\n          var ascend = sortDirections.indexOf('ascend') !== -1 && React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-up \").concat(isAscend ? 'on' : 'off'),\n            type: \"caret-up\",\n            theme: \"filled\"\n          });\n          var descend = sortDirections.indexOf('descend') !== -1 && React.createElement(Icon, {\n            className: \"\".concat(prefixCls, \"-column-sorter-down \").concat(isDescend ? 'on' : 'off'),\n            type: \"caret-down\",\n            theme: \"filled\"\n          });\n          sortButton = React.createElement(\"div\", {\n            title: locale.sortTitle,\n            className: \"\".concat(prefixCls, \"-column-sorter\"),\n            key: \"sorter\"\n          }, ascend, descend);\n          onHeaderCell = function onHeaderCell(col) {\n            var colProps = {}; // Get original first\n\n            if (column.onHeaderCell) {\n              colProps = _extends({}, column.onHeaderCell(col));\n            } // Add sorter logic\n\n            var onHeaderCellClick = colProps.onClick;\n            colProps.onClick = function () {\n              _this7.toggleSortOrder(column);\n              if (onHeaderCellClick) {\n                onHeaderCellClick.apply(void 0, arguments);\n              }\n            };\n            return colProps;\n          };\n        }\n        return _extends({}, column, {\n          className: classNames(column.className, (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-actions\"), sortButton || filterDropdown), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-filters\"), filterDropdown), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-sorters\"), sortButton), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-sort\"), isSortColumn && sortOrder), _classNames3)),\n          title: [React.createElement(\"div\", {\n            key: \"title\",\n            className: sortButton ? \"\".concat(prefixCls, \"-column-sorters\") : undefined\n          }, _this7.renderColumnTitle(column.title), sortButton), filterDropdown],\n          onHeaderCell: onHeaderCell\n        });\n      });\n    }\n  }, {\n    key: \"renderColumnTitle\",\n    value: function renderColumnTitle(title) {\n      var _this$state3 = this.state,\n        filters = _this$state3.filters,\n        sortOrder = _this$state3.sortOrder; // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\n\n      if (title instanceof Function) {\n        return title({\n          filters: filters,\n          sortOrder: sortOrder\n        });\n      }\n      return title;\n    }\n  }, {\n    key: \"renderPagination\",\n    value: function renderPagination(prefixCls, paginationPosition) {\n      // 强制不需要分页\n      if (!this.hasPagination()) {\n        return null;\n      }\n      var size = 'default';\n      var pagination = this.state.pagination;\n      if (pagination.size) {\n        size = pagination.size;\n      } else if (this.props.size === 'middle' || this.props.size === 'small') {\n        size = 'small';\n      }\n      var position = pagination.position || 'bottom';\n      var total = pagination.total || this.getLocalData().length;\n      return total > 0 && (position === paginationPosition || position === 'both') ? React.createElement(Pagination, _extends({\n        key: \"pagination-\".concat(paginationPosition)\n      }, pagination, {\n        className: classNames(pagination.className, \"\".concat(prefixCls, \"-pagination\")),\n        onChange: this.handlePageChange,\n        total: total,\n        size: size,\n        current: this.getMaxCurrent(total),\n        onShowSizeChange: this.handleShowSizeChange\n      })) : null;\n    } // Get pagination, filters, sorter\n  }, {\n    key: \"prepareParamsArguments\",\n    value: function prepareParamsArguments(state) {\n      var pagination = _extends({}, state.pagination); // remove useless handle function in Table.onChange\n\n      delete pagination.onChange;\n      delete pagination.onShowSizeChange;\n      var filters = state.filters;\n      var sorter = {};\n      if (state.sortColumn && state.sortOrder) {\n        sorter.column = state.sortColumn;\n        sorter.order = state.sortOrder;\n        sorter.field = state.sortColumn.dataIndex;\n        sorter.columnKey = this.getColumnKey(state.sortColumn);\n      }\n      var extra = {\n        currentDataSource: this.getLocalData(state)\n      };\n      return [pagination, filters, sorter, extra];\n    }\n  }, {\n    key: \"findColumn\",\n    value: function findColumn(myKey) {\n      var _this8 = this;\n      var column;\n      treeMap(this.columns, function (c) {\n        if (_this8.getColumnKey(c) === myKey) {\n          column = c;\n        }\n      });\n      return column;\n    }\n  }, {\n    key: \"getCurrentPageData\",\n    value: function getCurrentPageData() {\n      var data = this.getLocalData();\n      var current;\n      var pageSize;\n      var state = this.state; // 如果没有分页的话，默认全部展示\n\n      if (!this.hasPagination()) {\n        pageSize = Number.MAX_VALUE;\n        current = 1;\n      } else {\n        pageSize = state.pagination.pageSize;\n        current = this.getMaxCurrent(state.pagination.total || data.length);\n      } // 分页\n      // ---\n      // 当数据量少于等于每页数量时，直接设置数据\n      // 否则进行读取分页数据\n\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\n        data = data.filter(function (_, i) {\n          return i >= (current - 1) * pageSize && i < current * pageSize;\n        });\n      }\n      return data;\n    }\n  }, {\n    key: \"getFlatData\",\n    value: function getFlatData() {\n      return flatArray(this.getLocalData(null, false));\n    }\n  }, {\n    key: \"getFlatCurrentPageData\",\n    value: function getFlatCurrentPageData(childrenColumnName) {\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\n    }\n  }, {\n    key: \"recursiveSort\",\n    value: function recursiveSort(data, sorterFn) {\n      var _this9 = this;\n      var _this$props$childrenC = this.props.childrenColumnName,\n        childrenColumnName = _this$props$childrenC === void 0 ? 'children' : _this$props$childrenC;\n      return data.sort(sorterFn).map(function (item) {\n        return item[childrenColumnName] ? _extends({}, item, _defineProperty({}, childrenColumnName, _this9.recursiveSort(item[childrenColumnName], sorterFn))) : item;\n      });\n    }\n  }, {\n    key: \"getLocalData\",\n    value: function getLocalData(state) {\n      var _this10 = this;\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var currentState = state || this.state;\n      var dataSource = this.props.dataSource;\n      var data = dataSource || []; // 优化本地排序\n\n      data = data.slice(0);\n      var sorterFn = this.getSorterFn(currentState);\n      if (sorterFn) {\n        data = this.recursiveSort(data, sorterFn);\n      } // 筛选\n\n      if (filter && currentState.filters) {\n        Object.keys(currentState.filters).forEach(function (columnKey) {\n          var col = _this10.findColumn(columnKey);\n          if (!col) {\n            return;\n          }\n          var values = currentState.filters[columnKey] || [];\n          if (values.length === 0) {\n            return;\n          }\n          var onFilter = col.onFilter;\n          data = onFilter ? data.filter(function (record) {\n            return values.some(function (v) {\n              return onFilter(v, record);\n            });\n          }) : data;\n        });\n      }\n      return data;\n    }\n  }, {\n    key: \"createComponents\",\n    value: function createComponents() {\n      var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var prevComponents = arguments.length > 1 ? arguments[1] : undefined;\n      var bodyRow = components && components.body && components.body.row;\n      var preBodyRow = prevComponents && prevComponents.body && prevComponents.body.row;\n      if (!this.row || bodyRow !== preBodyRow) {\n        this.row = createBodyRow(bodyRow);\n      }\n      this.components = _extends({}, components, {\n        body: _extends({}, components.body, {\n          row: this.row\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderComponent);\n    }\n  }]);\n  return Table;\n}(React.Component);\nexport { Table as default };\nTable.Column = Column;\nTable.ColumnGroup = ColumnGroup;\nTable.propTypes = {\n  dataSource: PropTypes.array,\n  columns: PropTypes.array,\n  prefixCls: PropTypes.string,\n  useFixedHeader: PropTypes.bool,\n  rowSelection: PropTypes.object,\n  className: PropTypes.string,\n  size: PropTypes.string,\n  loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  bordered: PropTypes.bool,\n  onChange: PropTypes.func,\n  locale: PropTypes.object,\n  dropdownPrefixCls: PropTypes.string,\n  sortDirections: PropTypes.array\n};\nTable.defaultProps = {\n  dataSource: [],\n  useFixedHeader: false,\n  className: '',\n  size: 'default',\n  loading: false,\n  bordered: false,\n  indentSize: 20,\n  locale: {},\n  rowKey: 'key',\n  showHeader: true,\n  sortDirections: ['ascend', 'descend']\n};","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","hasOwnProperty","call","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","__rest","s","e","t","indexOf","getOwnPropertySymbols","React","ReactDOM","RcTable","PropTypes","classNames","shallowEqual","FilterDropdown","createStore","SelectionBox","SelectionCheckboxAll","Column","ColumnGroup","createBodyRow","flatArray","treeMap","flatFilter","normalizeColumns","Pagination","Icon","Spin","LocaleReceiver","defaultLocale","ConfigConsumer","warning","noop","stopPropagation","nativeEvent","stopImmediatePropagation","getRowSelection","rowSelection","defaultPagination","onChange","onShowSizeChange","ROW_SELECTION_COLUMN_WIDTH","emptyObject","Table","_React$Component","_this","getCheckboxPropsByItem","item","index","getCheckboxProps","getRecordKey","CheckboxPropsCache","checkboxProps","onRow","prefixCls","record","custom","store","rowKey","handleFilter","column","nextFilters","pagination","state","filters","getColumnKey","currentColumnKeys","columns","c","children","push","keys","forEach","columnKey","current","newState","filtersToSetState","getFilteredValueColumns","col","setState","selectionDirty","prepareParamsArguments","handleSelect","rowIndex","checked","defaultSelection","getState","getDefaultSelection","selectedRowKeys","concat","pivot","rows","getFlatCurrentPageData","childrenColumnName","realIndex","expandedRowRender","findIndex","row","shiftKey","undefined","changeRowKeys","direction","Math","sign","dist","abs","step","_loop","disabled","includes","filter","j","setSelectedRowKeys","selectWay","handleRadioSelect","handleSelectRow","selectionKey","onSelectFunc","data","changeableRowKeys","map","splice","customSelectionStartIndex","hideDefaultSelections","handlePageChange","_len","otherArguments","Array","_key","renderSelectionBox","type","_","handleChange","createElement","onClick","recordKey","getPopupContainer","findDOMNode","generatePopupContainerFunc","scroll","handleShowSizeChange","pageSize","nextPagination","renderTable","renderEmpty","dropdownPrefixCls","contextLocale","_classNames","_a","style","className","showHeader","locale","restProps","getCurrentPageData","expandIconAsCell","mergedLocale","emptyText","classString","size","bordered","renderRowSelection","renderColumnsDropdown","newColumn","expandIconColumnIndex","components","renderComponent","_ref","getPrefixCls","_this$props","customizePrefixCls","customizeDropdownPrefixCls","loading","spinning","table","componentName","paginationPatchClass","hasPagination","renderPagination","createComponents","getDefaultSortOrder","getFiltersFromColumns","getDefaultPagination","_this2","getFlatData","defaultChecked","defaultCurrent","defaultPageSize","componentWillReceiveProps","nextProps","previousState","newPagination","dataSource","getSortOrderColumns","sortState","getSortStateFromColumns","sortColumn","sortOrder","filteredValueColumns","filtersFromColumns","newFilters","isFiltersChanged","selectionInfo","_this3","selectedRows","onSelect","onSelectMultiple","changeRows","onSelectAll","_changeRows","onSelectInvert","_this4","filtersChanged","filteredValue","_this5","colKey","definedSortState","defaultSortedColumn","defaultSortOrder","sortedColumn","getSorterFn","_ref2","sorter","a","b","result","isSameColumn","other","toString","toggleSortOrder","sortDirections","_this$state","newSortOrder","methodIndex","_this6","_this$props2","selectionColumnClass","selections","selectionColumn","render","fixed","width","columnWidth","title","columnTitle","checkboxAllDisabled","every","some","unshift","dataIndex","getMaxCurrent","total","_this$state$paginatio","floor","isSortColumn","_this7","_this$state2","_classNames3","filterDropdown","sortButton","onHeaderCell","colFilters","selectedKeys","confirmFilter","isAscend","isDescend","ascend","theme","descend","sortTitle","colProps","onHeaderCellClick","renderColumnTitle","_this$state3","Function","paginationPosition","position","getLocalData","order","field","extra","currentDataSource","findColumn","myKey","_this8","Number","MAX_VALUE","recursiveSort","sorterFn","_this9","_this$props$childrenC","sort","_this10","currentState","slice","values","onFilter","v","prevComponents","bodyRow","body","preBodyRow","Component","default","propTypes","array","string","useFixedHeader","bool","object","oneOfType","func","defaultProps","indentSize"],"sources":["C:/Users/ajayg/Desktop/vssample/stock_mocker/client/node_modules/antd/es/table/Table.js"],"sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\r\n\r\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\r\n\r\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\r\n\r\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\r\n\r\nvar __rest = this && this.__rest || function (s, e) {\r\n  var t = {};\r\n\r\n  for (var p in s) {\r\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\r\n  }\r\n\r\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\r\n  }\r\n  return t;\r\n};\r\n\r\nimport * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport RcTable from 'rc-table';\r\nimport * as PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport shallowEqual from 'shallowequal';\r\nimport FilterDropdown from './filterDropdown';\r\nimport createStore from './createStore';\r\nimport SelectionBox from './SelectionBox';\r\nimport SelectionCheckboxAll from './SelectionCheckboxAll';\r\nimport Column from './Column';\r\nimport ColumnGroup from './ColumnGroup';\r\nimport createBodyRow from './createBodyRow';\r\nimport { flatArray, treeMap, flatFilter, normalizeColumns } from './util';\r\nimport Pagination from '../pagination';\r\nimport Icon from '../icon';\r\nimport Spin from '../spin';\r\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\r\nimport defaultLocale from '../locale-provider/default';\r\nimport { ConfigConsumer } from '../config-provider';\r\nimport warning from '../_util/warning';\r\n\r\nfunction noop() {}\r\n\r\nfunction stopPropagation(e) {\r\n  e.stopPropagation();\r\n\r\n  if (e.nativeEvent.stopImmediatePropagation) {\r\n    e.nativeEvent.stopImmediatePropagation();\r\n  }\r\n}\r\n\r\nfunction getRowSelection(props) {\r\n  return props.rowSelection || {};\r\n}\r\n\r\nvar defaultPagination = {\r\n  onChange: noop,\r\n  onShowSizeChange: noop\r\n};\r\nvar ROW_SELECTION_COLUMN_WIDTH = '62px';\r\n/**\r\n * Avoid creating new object, so that parent component's shouldComponentUpdate\r\n * can works appropriately。\r\n */\r\n\r\nvar emptyObject = {};\r\n\r\nvar Table =\r\n/*#__PURE__*/\r\nfunction (_React$Component) {\r\n  _inherits(Table, _React$Component);\r\n\r\n  function Table(props) {\r\n    var _this;\r\n\r\n    _classCallCheck(this, Table);\r\n\r\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Table).call(this, props));\r\n\r\n    _this.getCheckboxPropsByItem = function (item, index) {\r\n      var rowSelection = getRowSelection(_this.props);\r\n\r\n      if (!rowSelection.getCheckboxProps) {\r\n        return {};\r\n      }\r\n\r\n      var key = _this.getRecordKey(item, index); // Cache checkboxProps\r\n\r\n\r\n      if (!_this.CheckboxPropsCache[key]) {\r\n        var checkboxProps = _this.CheckboxPropsCache[key] = rowSelection.getCheckboxProps(item);\r\n        warning(!('checked' in checkboxProps) && !('defaultChecked' in checkboxProps), 'Table', 'Do not set `checked` or `defaultChecked` in `getCheckboxProps`. Please use `selectedRowKeys` instead.');\r\n      }\r\n\r\n      return _this.CheckboxPropsCache[key];\r\n    };\r\n\r\n    _this.onRow = function (prefixCls, record, index) {\r\n      var onRow = _this.props.onRow;\r\n      var custom = onRow ? onRow(record, index) : {};\r\n      return _extends({}, custom, {\r\n        prefixCls: prefixCls,\r\n        store: _this.store,\r\n        rowKey: _this.getRecordKey(record, index)\r\n      });\r\n    };\r\n\r\n    _this.handleFilter = function (column, nextFilters) {\r\n      var props = _this.props;\r\n\r\n      var pagination = _extends({}, _this.state.pagination);\r\n\r\n      var filters = _extends({}, _this.state.filters, _defineProperty({}, _this.getColumnKey(column), nextFilters)); // Remove filters not in current columns\r\n\r\n\r\n      var currentColumnKeys = [];\r\n      treeMap(_this.columns, function (c) {\r\n        if (!c.children) {\r\n          currentColumnKeys.push(_this.getColumnKey(c));\r\n        }\r\n      });\r\n      Object.keys(filters).forEach(function (columnKey) {\r\n        if (currentColumnKeys.indexOf(columnKey) < 0) {\r\n          delete filters[columnKey];\r\n        }\r\n      });\r\n\r\n      if (props.pagination) {\r\n        // Reset current prop\r\n        pagination.current = 1;\r\n        pagination.onChange(pagination.current);\r\n      }\r\n\r\n      var newState = {\r\n        pagination: pagination,\r\n        filters: {}\r\n      };\r\n\r\n      var filtersToSetState = _extends({}, filters); // Remove filters which is controlled\r\n\r\n\r\n      _this.getFilteredValueColumns().forEach(function (col) {\r\n        var columnKey = _this.getColumnKey(col);\r\n\r\n        if (columnKey) {\r\n          delete filtersToSetState[columnKey];\r\n        }\r\n      });\r\n\r\n      if (Object.keys(filtersToSetState).length > 0) {\r\n        newState.filters = filtersToSetState;\r\n      } // Controlled current prop will not respond user interaction\r\n\r\n\r\n      if (_typeof(props.pagination) === 'object' && 'current' in props.pagination) {\r\n        newState.pagination = _extends({}, pagination, {\r\n          current: _this.state.pagination.current\r\n        });\r\n      }\r\n\r\n      _this.setState(newState, function () {\r\n        _this.store.setState({\r\n          selectionDirty: false\r\n        });\r\n\r\n        var onChange = _this.props.onChange;\r\n\r\n        if (onChange) {\r\n          onChange.apply(null, _this.prepareParamsArguments(_extends({}, _this.state, {\r\n            selectionDirty: false,\r\n            filters: filters,\r\n            pagination: pagination\r\n          })));\r\n        }\r\n      });\r\n    };\r\n\r\n    _this.handleSelect = function (record, rowIndex, e) {\r\n      var checked = e.target.checked;\r\n      var nativeEvent = e.nativeEvent;\r\n      var defaultSelection = _this.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\r\n\r\n      var selectedRowKeys = _this.store.getState().selectedRowKeys.concat(defaultSelection);\r\n\r\n      var key = _this.getRecordKey(record, rowIndex);\r\n\r\n      var pivot = _this.state.pivot;\r\n\r\n      var rows = _this.getFlatCurrentPageData(_this.props.childrenColumnName);\r\n\r\n      var realIndex = rowIndex;\r\n\r\n      if (_this.props.expandedRowRender) {\r\n        realIndex = rows.findIndex(function (row) {\r\n          return _this.getRecordKey(row, rowIndex) === key;\r\n        });\r\n      }\r\n\r\n      if (nativeEvent.shiftKey && pivot !== undefined && realIndex !== pivot) {\r\n        var changeRowKeys = [];\r\n        var direction = Math.sign(pivot - realIndex);\r\n        var dist = Math.abs(pivot - realIndex);\r\n        var step = 0;\r\n\r\n        var _loop = function _loop() {\r\n          var i = realIndex + step * direction;\r\n          step += 1;\r\n          var row = rows[i];\r\n\r\n          var rowKey = _this.getRecordKey(row, i);\r\n\r\n          var checkboxProps = _this.getCheckboxPropsByItem(row, i);\r\n\r\n          if (!checkboxProps.disabled) {\r\n            if (selectedRowKeys.includes(rowKey)) {\r\n              if (!checked) {\r\n                selectedRowKeys = selectedRowKeys.filter(function (j) {\r\n                  return rowKey !== j;\r\n                });\r\n                changeRowKeys.push(rowKey);\r\n              }\r\n            } else if (checked) {\r\n              selectedRowKeys.push(rowKey);\r\n              changeRowKeys.push(rowKey);\r\n            }\r\n          }\r\n        };\r\n\r\n        while (step <= dist) {\r\n          _loop();\r\n        }\r\n\r\n        _this.setState({\r\n          pivot: realIndex\r\n        });\r\n\r\n        _this.store.setState({\r\n          selectionDirty: true\r\n        });\r\n\r\n        _this.setSelectedRowKeys(selectedRowKeys, {\r\n          selectWay: 'onSelectMultiple',\r\n          record: record,\r\n          checked: checked,\r\n          changeRowKeys: changeRowKeys,\r\n          nativeEvent: nativeEvent\r\n        });\r\n      } else {\r\n        if (checked) {\r\n          selectedRowKeys.push(_this.getRecordKey(record, realIndex));\r\n        } else {\r\n          selectedRowKeys = selectedRowKeys.filter(function (i) {\r\n            return key !== i;\r\n          });\r\n        }\r\n\r\n        _this.setState({\r\n          pivot: realIndex\r\n        });\r\n\r\n        _this.store.setState({\r\n          selectionDirty: true\r\n        });\r\n\r\n        _this.setSelectedRowKeys(selectedRowKeys, {\r\n          selectWay: 'onSelect',\r\n          record: record,\r\n          checked: checked,\r\n          changeRowKeys: void 0,\r\n          nativeEvent: nativeEvent\r\n        });\r\n      }\r\n    };\r\n\r\n    _this.handleRadioSelect = function (record, rowIndex, e) {\r\n      var checked = e.target.checked;\r\n      var nativeEvent = e.nativeEvent;\r\n\r\n      var key = _this.getRecordKey(record, rowIndex);\r\n\r\n      var selectedRowKeys = [key];\r\n\r\n      _this.store.setState({\r\n        selectionDirty: true\r\n      });\r\n\r\n      _this.setSelectedRowKeys(selectedRowKeys, {\r\n        selectWay: 'onSelect',\r\n        record: record,\r\n        checked: checked,\r\n        changeRowKeys: void 0,\r\n        nativeEvent: nativeEvent\r\n      });\r\n    };\r\n\r\n    _this.handleSelectRow = function (selectionKey, index, onSelectFunc) {\r\n      var data = _this.getFlatCurrentPageData(_this.props.childrenColumnName);\r\n\r\n      var defaultSelection = _this.store.getState().selectionDirty ? [] : _this.getDefaultSelection();\r\n\r\n      var selectedRowKeys = _this.store.getState().selectedRowKeys.concat(defaultSelection);\r\n\r\n      var changeableRowKeys = data.filter(function (item, i) {\r\n        return !_this.getCheckboxPropsByItem(item, i).disabled;\r\n      }).map(function (item, i) {\r\n        return _this.getRecordKey(item, i);\r\n      });\r\n      var changeRowKeys = [];\r\n      var selectWay = 'onSelectAll';\r\n      var checked; // handle default selection\r\n\r\n      switch (selectionKey) {\r\n        case 'all':\r\n          changeableRowKeys.forEach(function (key) {\r\n            if (selectedRowKeys.indexOf(key) < 0) {\r\n              selectedRowKeys.push(key);\r\n              changeRowKeys.push(key);\r\n            }\r\n          });\r\n          selectWay = 'onSelectAll';\r\n          checked = true;\r\n          break;\r\n\r\n        case 'removeAll':\r\n          changeableRowKeys.forEach(function (key) {\r\n            if (selectedRowKeys.indexOf(key) >= 0) {\r\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\r\n              changeRowKeys.push(key);\r\n            }\r\n          });\r\n          selectWay = 'onSelectAll';\r\n          checked = false;\r\n          break;\r\n\r\n        case 'invert':\r\n          changeableRowKeys.forEach(function (key) {\r\n            if (selectedRowKeys.indexOf(key) < 0) {\r\n              selectedRowKeys.push(key);\r\n            } else {\r\n              selectedRowKeys.splice(selectedRowKeys.indexOf(key), 1);\r\n            }\r\n\r\n            changeRowKeys.push(key);\r\n            selectWay = 'onSelectInvert';\r\n          });\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n\r\n      _this.store.setState({\r\n        selectionDirty: true\r\n      }); // when select custom selection, callback selections[n].onSelect\r\n\r\n\r\n      var rowSelection = _this.props.rowSelection;\r\n      var customSelectionStartIndex = 2;\r\n\r\n      if (rowSelection && rowSelection.hideDefaultSelections) {\r\n        customSelectionStartIndex = 0;\r\n      }\r\n\r\n      if (index >= customSelectionStartIndex && typeof onSelectFunc === 'function') {\r\n        return onSelectFunc(changeableRowKeys);\r\n      }\r\n\r\n      _this.setSelectedRowKeys(selectedRowKeys, {\r\n        selectWay: selectWay,\r\n        checked: checked,\r\n        changeRowKeys: changeRowKeys\r\n      });\r\n    };\r\n\r\n    _this.handlePageChange = function (current) {\r\n      var props = _this.props;\r\n\r\n      var pagination = _extends({}, _this.state.pagination);\r\n\r\n      if (current) {\r\n        pagination.current = current;\r\n      } else {\r\n        pagination.current = pagination.current || 1;\r\n      }\r\n\r\n      for (var _len = arguments.length, otherArguments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\r\n        otherArguments[_key - 1] = arguments[_key];\r\n      }\r\n\r\n      pagination.onChange.apply(pagination, [pagination.current].concat(otherArguments));\r\n      var newState = {\r\n        pagination: pagination\r\n      }; // Controlled current prop will not respond user interaction\r\n\r\n      if (props.pagination && _typeof(props.pagination) === 'object' && 'current' in props.pagination) {\r\n        newState.pagination = _extends({}, pagination, {\r\n          current: _this.state.pagination.current\r\n        });\r\n      }\r\n\r\n      _this.setState(newState);\r\n\r\n      _this.store.setState({\r\n        selectionDirty: false\r\n      });\r\n\r\n      var onChange = _this.props.onChange;\r\n\r\n      if (onChange) {\r\n        onChange.apply(null, _this.prepareParamsArguments(_extends({}, _this.state, {\r\n          selectionDirty: false,\r\n          pagination: pagination\r\n        })));\r\n      }\r\n    };\r\n\r\n    _this.renderSelectionBox = function (type) {\r\n      return function (_, record, index) {\r\n        var rowKey = _this.getRecordKey(record, index);\r\n\r\n        var props = _this.getCheckboxPropsByItem(record, index);\r\n\r\n        var handleChange = function handleChange(e) {\r\n          type === 'radio' ? _this.handleRadioSelect(record, index, e) : _this.handleSelect(record, index, e);\r\n        };\r\n\r\n        return React.createElement(\"span\", {\r\n          onClick: stopPropagation\r\n        }, React.createElement(SelectionBox, _extends({\r\n          type: type,\r\n          store: _this.store,\r\n          rowIndex: rowKey,\r\n          onChange: handleChange,\r\n          defaultSelection: _this.getDefaultSelection()\r\n        }, props)));\r\n      };\r\n    };\r\n\r\n    _this.getRecordKey = function (record, index) {\r\n      var rowKey = _this.props.rowKey;\r\n      var recordKey = typeof rowKey === 'function' ? rowKey(record, index) : record[rowKey];\r\n      warning(recordKey !== undefined, 'Table', 'Each record in dataSource of table should have a unique `key` prop, ' + 'or set `rowKey` of Table to an unique primary key, ' + 'see https://u.ant.design/table-row-key');\r\n      return recordKey === undefined ? index : recordKey;\r\n    };\r\n\r\n    _this.getPopupContainer = function () {\r\n      return ReactDOM.findDOMNode(_assertThisInitialized(_this));\r\n    };\r\n\r\n    _this.generatePopupContainerFunc = function () {\r\n      var scroll = _this.props.scroll; // Use undefined to let rc component use default logic.\r\n\r\n      return scroll ? _this.getPopupContainer : undefined;\r\n    };\r\n\r\n    _this.handleShowSizeChange = function (current, pageSize) {\r\n      var pagination = _this.state.pagination;\r\n      pagination.onShowSizeChange(current, pageSize);\r\n\r\n      var nextPagination = _extends({}, pagination, {\r\n        pageSize: pageSize,\r\n        current: current\r\n      });\r\n\r\n      _this.setState({\r\n        pagination: nextPagination\r\n      });\r\n\r\n      var onChange = _this.props.onChange;\r\n\r\n      if (onChange) {\r\n        onChange.apply(null, _this.prepareParamsArguments(_extends({}, _this.state, {\r\n          pagination: nextPagination\r\n        })));\r\n      }\r\n    };\r\n\r\n    _this.renderTable = function (prefixCls, renderEmpty, dropdownPrefixCls, contextLocale) {\r\n      var _classNames;\r\n\r\n      var _a = _this.props,\r\n          style = _a.style,\r\n          className = _a.className,\r\n          showHeader = _a.showHeader,\r\n          locale = _a.locale,\r\n          restProps = __rest(_a, [\"style\", \"className\", \"showHeader\", \"locale\"]);\r\n\r\n      var data = _this.getCurrentPageData();\r\n\r\n      var expandIconAsCell = _this.props.expandedRowRender && _this.props.expandIconAsCell !== false;\r\n\r\n      var mergedLocale = _extends({}, contextLocale, locale);\r\n\r\n      if (!locale || !locale.emptyText) {\r\n        mergedLocale.emptyText = renderEmpty('Table');\r\n      }\r\n\r\n      var classString = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(_this.props.size), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), _this.props.bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-empty\"), !data.length), _defineProperty(_classNames, \"\".concat(prefixCls, \"-without-column-header\"), !showHeader), _classNames));\r\n\r\n      var columns = _this.renderRowSelection(prefixCls, mergedLocale);\r\n\r\n      columns = _this.renderColumnsDropdown(prefixCls, dropdownPrefixCls, columns, mergedLocale);\r\n      columns = columns.map(function (column, i) {\r\n        var newColumn = _extends({}, column);\r\n\r\n        newColumn.key = _this.getColumnKey(newColumn, i);\r\n        return newColumn;\r\n      });\r\n      var expandIconColumnIndex = columns[0] && columns[0].key === 'selection-column' ? 1 : 0;\r\n\r\n      if ('expandIconColumnIndex' in restProps) {\r\n        expandIconColumnIndex = restProps.expandIconColumnIndex;\r\n      }\r\n\r\n      return React.createElement(RcTable, _extends({\r\n        key: \"table\"\r\n      }, restProps, {\r\n        onRow: function onRow(record, index) {\r\n          return _this.onRow(prefixCls, record, index);\r\n        },\r\n        components: _this.components,\r\n        prefixCls: prefixCls,\r\n        data: data,\r\n        columns: columns,\r\n        showHeader: showHeader,\r\n        className: classString,\r\n        expandIconColumnIndex: expandIconColumnIndex,\r\n        expandIconAsCell: expandIconAsCell,\r\n        emptyText: mergedLocale.emptyText\r\n      }));\r\n    };\r\n\r\n    _this.renderComponent = function (_ref) {\r\n      var getPrefixCls = _ref.getPrefixCls,\r\n          renderEmpty = _ref.renderEmpty;\r\n      var _this$props = _this.props,\r\n          customizePrefixCls = _this$props.prefixCls,\r\n          customizeDropdownPrefixCls = _this$props.dropdownPrefixCls,\r\n          style = _this$props.style,\r\n          className = _this$props.className;\r\n\r\n      var data = _this.getCurrentPageData();\r\n\r\n      var loading = _this.props.loading;\r\n\r\n      if (typeof loading === 'boolean') {\r\n        loading = {\r\n          spinning: loading\r\n        };\r\n      }\r\n\r\n      var prefixCls = getPrefixCls('table', customizePrefixCls);\r\n      var dropdownPrefixCls = getPrefixCls('dropdown', customizeDropdownPrefixCls);\r\n      var table = React.createElement(LocaleReceiver, {\r\n        componentName: \"Table\",\r\n        defaultLocale: defaultLocale.Table\r\n      }, function (locale) {\r\n        return _this.renderTable(prefixCls, renderEmpty, dropdownPrefixCls, locale);\r\n      }); // if there is no pagination or no data,\r\n      // the height of spin should decrease by half of pagination\r\n\r\n      var paginationPatchClass = _this.hasPagination() && data && data.length !== 0 ? \"\".concat(prefixCls, \"-with-pagination\") : \"\".concat(prefixCls, \"-without-pagination\");\r\n      return React.createElement(\"div\", {\r\n        className: classNames(\"\".concat(prefixCls, \"-wrapper\"), className),\r\n        style: style\r\n      }, React.createElement(Spin, _extends({}, loading, {\r\n        className: loading.spinning ? \"\".concat(paginationPatchClass, \" \").concat(prefixCls, \"-spin-holder\") : ''\r\n      }), _this.renderPagination(prefixCls, 'top'), table, _this.renderPagination(prefixCls, 'bottom')));\r\n    };\r\n\r\n    warning(!('columnsPageRange' in props || 'columnsPageSize' in props), 'Table', '`columnsPageRange` and `columnsPageSize` are removed, please use ' + 'fixed columns instead, see: https://u.ant.design/fixed-columns.');\r\n    warning(!('expandedRowRender' in props) || !('scroll' in props), 'Table', '`expandedRowRender` and `scroll` are not compatible. Please use one of them at one time.');\r\n    _this.columns = props.columns || normalizeColumns(props.children);\r\n\r\n    _this.createComponents(props.components);\r\n\r\n    _this.state = _extends({}, _this.getDefaultSortOrder(_this.columns), {\r\n      // 减少状态\r\n      filters: _this.getFiltersFromColumns(),\r\n      pagination: _this.getDefaultPagination(props),\r\n      pivot: undefined\r\n    });\r\n    _this.CheckboxPropsCache = {};\r\n    _this.store = createStore({\r\n      selectedRowKeys: getRowSelection(props).selectedRowKeys || [],\r\n      selectionDirty: false\r\n    });\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Table, [{\r\n    key: \"getDefaultSelection\",\r\n    value: function getDefaultSelection() {\r\n      var _this2 = this;\r\n\r\n      var rowSelection = getRowSelection(this.props);\r\n\r\n      if (!rowSelection.getCheckboxProps) {\r\n        return [];\r\n      }\r\n\r\n      return this.getFlatData().filter(function (item, rowIndex) {\r\n        return _this2.getCheckboxPropsByItem(item, rowIndex).defaultChecked;\r\n      }).map(function (record, rowIndex) {\r\n        return _this2.getRecordKey(record, rowIndex);\r\n      });\r\n    }\r\n  }, {\r\n    key: \"getDefaultPagination\",\r\n    value: function getDefaultPagination(props) {\r\n      var pagination = _typeof(props.pagination) === 'object' ? props.pagination : {};\r\n      var current;\r\n\r\n      if ('current' in pagination) {\r\n        current = pagination.current;\r\n      } else if ('defaultCurrent' in pagination) {\r\n        current = pagination.defaultCurrent;\r\n      }\r\n\r\n      var pageSize;\r\n\r\n      if ('pageSize' in pagination) {\r\n        pageSize = pagination.pageSize;\r\n      } else if ('defaultPageSize' in pagination) {\r\n        pageSize = pagination.defaultPageSize;\r\n      }\r\n\r\n      return this.hasPagination(props) ? _extends({}, defaultPagination, pagination, {\r\n        current: current || 1,\r\n        pageSize: pageSize || 10\r\n      }) : {};\r\n    }\r\n  }, {\r\n    key: \"componentWillReceiveProps\",\r\n    value: function componentWillReceiveProps(nextProps) {\r\n      this.columns = nextProps.columns || normalizeColumns(nextProps.children);\r\n\r\n      if ('pagination' in nextProps || 'pagination' in this.props) {\r\n        this.setState(function (previousState) {\r\n          var newPagination = _extends({}, defaultPagination, previousState.pagination, nextProps.pagination);\r\n\r\n          newPagination.current = newPagination.current || 1;\r\n          newPagination.pageSize = newPagination.pageSize || 10;\r\n          return {\r\n            pagination: nextProps.pagination !== false ? newPagination : emptyObject\r\n          };\r\n        });\r\n      }\r\n\r\n      if (nextProps.rowSelection && 'selectedRowKeys' in nextProps.rowSelection) {\r\n        this.store.setState({\r\n          selectedRowKeys: nextProps.rowSelection.selectedRowKeys || []\r\n        });\r\n      } else if (this.props.rowSelection && !nextProps.rowSelection) {\r\n        this.store.setState({\r\n          selectedRowKeys: []\r\n        });\r\n      }\r\n\r\n      if ('dataSource' in nextProps && nextProps.dataSource !== this.props.dataSource) {\r\n        this.store.setState({\r\n          selectionDirty: false\r\n        });\r\n      } // https://github.com/ant-design/ant-design/issues/10133\r\n\r\n\r\n      this.CheckboxPropsCache = {};\r\n\r\n      if (this.getSortOrderColumns(this.columns).length > 0) {\r\n        var sortState = this.getSortStateFromColumns(this.columns);\r\n\r\n        if (sortState.sortColumn !== this.state.sortColumn || sortState.sortOrder !== this.state.sortOrder) {\r\n          this.setState(sortState);\r\n        }\r\n      }\r\n\r\n      var filteredValueColumns = this.getFilteredValueColumns(this.columns);\r\n\r\n      if (filteredValueColumns.length > 0) {\r\n        var filtersFromColumns = this.getFiltersFromColumns(this.columns);\r\n\r\n        var newFilters = _extends({}, this.state.filters);\r\n\r\n        Object.keys(filtersFromColumns).forEach(function (key) {\r\n          newFilters[key] = filtersFromColumns[key];\r\n        });\r\n\r\n        if (this.isFiltersChanged(newFilters)) {\r\n          this.setState({\r\n            filters: newFilters\r\n          });\r\n        }\r\n      }\r\n\r\n      this.createComponents(nextProps.components, this.props.components);\r\n    }\r\n  }, {\r\n    key: \"setSelectedRowKeys\",\r\n    value: function setSelectedRowKeys(selectedRowKeys, selectionInfo) {\r\n      var _this3 = this;\r\n\r\n      var selectWay = selectionInfo.selectWay,\r\n          record = selectionInfo.record,\r\n          checked = selectionInfo.checked,\r\n          changeRowKeys = selectionInfo.changeRowKeys,\r\n          nativeEvent = selectionInfo.nativeEvent;\r\n      var rowSelection = getRowSelection(this.props);\r\n\r\n      if (rowSelection && !('selectedRowKeys' in rowSelection)) {\r\n        this.store.setState({\r\n          selectedRowKeys: selectedRowKeys\r\n        });\r\n      }\r\n\r\n      var data = this.getFlatData();\r\n\r\n      if (!rowSelection.onChange && !rowSelection[selectWay]) {\r\n        return;\r\n      }\r\n\r\n      var selectedRows = data.filter(function (row, i) {\r\n        return selectedRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\r\n      });\r\n\r\n      if (rowSelection.onChange) {\r\n        rowSelection.onChange(selectedRowKeys, selectedRows);\r\n      }\r\n\r\n      if (selectWay === 'onSelect' && rowSelection.onSelect) {\r\n        rowSelection.onSelect(record, checked, selectedRows, nativeEvent);\r\n      } else if (selectWay === 'onSelectMultiple' && rowSelection.onSelectMultiple) {\r\n        var changeRows = data.filter(function (row, i) {\r\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\r\n        });\r\n        rowSelection.onSelectMultiple(checked, selectedRows, changeRows);\r\n      } else if (selectWay === 'onSelectAll' && rowSelection.onSelectAll) {\r\n        var _changeRows = data.filter(function (row, i) {\r\n          return changeRowKeys.indexOf(_this3.getRecordKey(row, i)) >= 0;\r\n        });\r\n\r\n        rowSelection.onSelectAll(checked, selectedRows, _changeRows);\r\n      } else if (selectWay === 'onSelectInvert' && rowSelection.onSelectInvert) {\r\n        rowSelection.onSelectInvert(selectedRowKeys);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"hasPagination\",\r\n    value: function hasPagination(props) {\r\n      return (props || this.props).pagination !== false;\r\n    }\r\n  }, {\r\n    key: \"isFiltersChanged\",\r\n    value: function isFiltersChanged(filters) {\r\n      var _this4 = this;\r\n\r\n      var filtersChanged = false;\r\n\r\n      if (Object.keys(filters).length !== Object.keys(this.state.filters).length) {\r\n        filtersChanged = true;\r\n      } else {\r\n        Object.keys(filters).forEach(function (columnKey) {\r\n          if (filters[columnKey] !== _this4.state.filters[columnKey]) {\r\n            filtersChanged = true;\r\n          }\r\n        });\r\n      }\r\n\r\n      return filtersChanged;\r\n    }\r\n  }, {\r\n    key: \"getSortOrderColumns\",\r\n    value: function getSortOrderColumns(columns) {\r\n      return flatFilter(columns || this.columns || [], function (column) {\r\n        return 'sortOrder' in column;\r\n      });\r\n    }\r\n  }, {\r\n    key: \"getFilteredValueColumns\",\r\n    value: function getFilteredValueColumns(columns) {\r\n      return flatFilter(columns || this.columns || [], function (column) {\r\n        return typeof column.filteredValue !== 'undefined';\r\n      });\r\n    }\r\n  }, {\r\n    key: \"getFiltersFromColumns\",\r\n    value: function getFiltersFromColumns(columns) {\r\n      var _this5 = this;\r\n\r\n      var filters = {};\r\n      this.getFilteredValueColumns(columns).forEach(function (col) {\r\n        var colKey = _this5.getColumnKey(col);\r\n\r\n        filters[colKey] = col.filteredValue;\r\n      });\r\n      return filters;\r\n    }\r\n  }, {\r\n    key: \"getDefaultSortOrder\",\r\n    value: function getDefaultSortOrder(columns) {\r\n      var definedSortState = this.getSortStateFromColumns(columns);\r\n      var defaultSortedColumn = flatFilter(columns || [], function (column) {\r\n        return column.defaultSortOrder != null;\r\n      })[0];\r\n\r\n      if (defaultSortedColumn && !definedSortState.sortColumn) {\r\n        return {\r\n          sortColumn: defaultSortedColumn,\r\n          sortOrder: defaultSortedColumn.defaultSortOrder\r\n        };\r\n      }\r\n\r\n      return definedSortState;\r\n    }\r\n  }, {\r\n    key: \"getSortStateFromColumns\",\r\n    value: function getSortStateFromColumns(columns) {\r\n      // return first column which sortOrder is not falsy\r\n      var sortedColumn = this.getSortOrderColumns(columns).filter(function (col) {\r\n        return col.sortOrder;\r\n      })[0];\r\n\r\n      if (sortedColumn) {\r\n        return {\r\n          sortColumn: sortedColumn,\r\n          sortOrder: sortedColumn.sortOrder\r\n        };\r\n      }\r\n\r\n      return {\r\n        sortColumn: null,\r\n        sortOrder: null\r\n      };\r\n    }\r\n  }, {\r\n    key: \"getSorterFn\",\r\n    value: function getSorterFn(state) {\r\n      var _ref2 = state || this.state,\r\n          sortOrder = _ref2.sortOrder,\r\n          sortColumn = _ref2.sortColumn;\r\n\r\n      if (!sortOrder || !sortColumn || typeof sortColumn.sorter !== 'function') {\r\n        return;\r\n      }\r\n\r\n      return function (a, b) {\r\n        var result = sortColumn.sorter(a, b, sortOrder);\r\n\r\n        if (result !== 0) {\r\n          return sortOrder === 'descend' ? -result : result;\r\n        }\r\n\r\n        return 0;\r\n      };\r\n    }\r\n  }, {\r\n    key: \"isSameColumn\",\r\n    value: function isSameColumn(a, b) {\r\n      if (a && b && a.key && a.key === b.key) {\r\n        return true;\r\n      }\r\n\r\n      return a === b || shallowEqual(a, b, function (value, other) {\r\n        if (typeof value === 'function' && typeof other === 'function') {\r\n          return value === other || value.toString() === other.toString();\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: \"toggleSortOrder\",\r\n    value: function toggleSortOrder(column) {\r\n      if (!column.sorter) {\r\n        return;\r\n      }\r\n\r\n      var sortDirections = column.sortDirections || this.props.sortDirections;\r\n      var _this$state = this.state,\r\n          sortOrder = _this$state.sortOrder,\r\n          sortColumn = _this$state.sortColumn; // 只同时允许一列进行排序，否则会导致排序顺序的逻辑问题\r\n\r\n      var newSortOrder; // 切换另一列时，丢弃 sortOrder 的状态\r\n\r\n      if (this.isSameColumn(sortColumn, column) && sortOrder !== undefined) {\r\n        // 按照sortDirections的内容依次切换排序状态\r\n        var methodIndex = sortDirections.indexOf(sortOrder) + 1;\r\n        newSortOrder = methodIndex === sortDirections.length ? undefined : sortDirections[methodIndex];\r\n      } else {\r\n        newSortOrder = sortDirections[0];\r\n      }\r\n\r\n      var newState = {\r\n        sortOrder: newSortOrder,\r\n        sortColumn: newSortOrder ? column : null\r\n      }; // Controlled\r\n\r\n      if (this.getSortOrderColumns().length === 0) {\r\n        this.setState(newState);\r\n      }\r\n\r\n      var onChange = this.props.onChange;\r\n\r\n      if (onChange) {\r\n        onChange.apply(null, this.prepareParamsArguments(_extends({}, this.state, newState)));\r\n      }\r\n    }\r\n  }, {\r\n    key: \"renderRowSelection\",\r\n    value: function renderRowSelection(prefixCls, locale) {\r\n      var _this6 = this;\r\n\r\n      var _this$props2 = this.props,\r\n          rowSelection = _this$props2.rowSelection,\r\n          childrenColumnName = _this$props2.childrenColumnName;\r\n      var columns = this.columns.concat();\r\n\r\n      if (rowSelection) {\r\n        var data = this.getFlatCurrentPageData(childrenColumnName).filter(function (item, index) {\r\n          if (rowSelection.getCheckboxProps) {\r\n            return !_this6.getCheckboxPropsByItem(item, index).disabled;\r\n          }\r\n\r\n          return true;\r\n        });\r\n        var selectionColumnClass = classNames(\"\".concat(prefixCls, \"-selection-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-selection-column-custom\"), rowSelection.selections));\r\n        var selectionColumn = {\r\n          key: 'selection-column',\r\n          render: this.renderSelectionBox(rowSelection.type),\r\n          className: selectionColumnClass,\r\n          fixed: rowSelection.fixed,\r\n          width: rowSelection.columnWidth || ROW_SELECTION_COLUMN_WIDTH,\r\n          title: rowSelection.columnTitle\r\n        };\r\n\r\n        if (rowSelection.type !== 'radio') {\r\n          var checkboxAllDisabled = data.every(function (item, index) {\r\n            return _this6.getCheckboxPropsByItem(item, index).disabled;\r\n          });\r\n          selectionColumn.title = selectionColumn.title || React.createElement(SelectionCheckboxAll, {\r\n            store: this.store,\r\n            locale: locale,\r\n            data: data,\r\n            getCheckboxPropsByItem: this.getCheckboxPropsByItem,\r\n            getRecordKey: this.getRecordKey,\r\n            disabled: checkboxAllDisabled,\r\n            prefixCls: prefixCls,\r\n            onSelect: this.handleSelectRow,\r\n            selections: rowSelection.selections,\r\n            hideDefaultSelections: rowSelection.hideDefaultSelections,\r\n            getPopupContainer: this.generatePopupContainerFunc()\r\n          });\r\n        }\r\n\r\n        if ('fixed' in rowSelection) {\r\n          selectionColumn.fixed = rowSelection.fixed;\r\n        } else if (columns.some(function (column) {\r\n          return column.fixed === 'left' || column.fixed === true;\r\n        })) {\r\n          selectionColumn.fixed = 'left';\r\n        }\r\n\r\n        if (columns[0] && columns[0].key === 'selection-column') {\r\n          columns[0] = selectionColumn;\r\n        } else {\r\n          columns.unshift(selectionColumn);\r\n        }\r\n      }\r\n\r\n      return columns;\r\n    }\r\n  }, {\r\n    key: \"getColumnKey\",\r\n    value: function getColumnKey(column, index) {\r\n      return column.key || column.dataIndex || index;\r\n    }\r\n  }, {\r\n    key: \"getMaxCurrent\",\r\n    value: function getMaxCurrent(total) {\r\n      var _this$state$paginatio = this.state.pagination,\r\n          current = _this$state$paginatio.current,\r\n          pageSize = _this$state$paginatio.pageSize;\r\n\r\n      if ((current - 1) * pageSize >= total) {\r\n        return Math.floor((total - 1) / pageSize) + 1;\r\n      }\r\n\r\n      return current;\r\n    }\r\n  }, {\r\n    key: \"isSortColumn\",\r\n    value: function isSortColumn(column) {\r\n      var sortColumn = this.state.sortColumn;\r\n\r\n      if (!column || !sortColumn) {\r\n        return false;\r\n      }\r\n\r\n      return this.getColumnKey(sortColumn) === this.getColumnKey(column);\r\n    }\r\n  }, {\r\n    key: \"renderColumnsDropdown\",\r\n    value: function renderColumnsDropdown(prefixCls, dropdownPrefixCls, columns, locale) {\r\n      var _this7 = this;\r\n\r\n      var _this$state2 = this.state,\r\n          sortOrder = _this$state2.sortOrder,\r\n          filters = _this$state2.filters;\r\n      return treeMap(columns, function (column, i) {\r\n        var _classNames3;\r\n\r\n        var key = _this7.getColumnKey(column, i);\r\n\r\n        var filterDropdown;\r\n        var sortButton;\r\n        var onHeaderCell = column.onHeaderCell;\r\n\r\n        var isSortColumn = _this7.isSortColumn(column);\r\n\r\n        if (column.filters && column.filters.length > 0 || column.filterDropdown) {\r\n          var colFilters = key in filters ? filters[key] : [];\r\n          filterDropdown = React.createElement(FilterDropdown, {\r\n            locale: locale,\r\n            column: column,\r\n            selectedKeys: colFilters,\r\n            confirmFilter: _this7.handleFilter,\r\n            prefixCls: \"\".concat(prefixCls, \"-filter\"),\r\n            dropdownPrefixCls: dropdownPrefixCls || 'ant-dropdown',\r\n            getPopupContainer: _this7.generatePopupContainerFunc(),\r\n            key: \"filter-dropdown\"\r\n          });\r\n        }\r\n\r\n        if (column.sorter) {\r\n          var sortDirections = column.sortDirections || _this7.props.sortDirections;\r\n          var isAscend = isSortColumn && sortOrder === 'ascend';\r\n          var isDescend = isSortColumn && sortOrder === 'descend';\r\n          var ascend = sortDirections.indexOf('ascend') !== -1 && React.createElement(Icon, {\r\n            className: \"\".concat(prefixCls, \"-column-sorter-up \").concat(isAscend ? 'on' : 'off'),\r\n            type: \"caret-up\",\r\n            theme: \"filled\"\r\n          });\r\n          var descend = sortDirections.indexOf('descend') !== -1 && React.createElement(Icon, {\r\n            className: \"\".concat(prefixCls, \"-column-sorter-down \").concat(isDescend ? 'on' : 'off'),\r\n            type: \"caret-down\",\r\n            theme: \"filled\"\r\n          });\r\n          sortButton = React.createElement(\"div\", {\r\n            title: locale.sortTitle,\r\n            className: \"\".concat(prefixCls, \"-column-sorter\"),\r\n            key: \"sorter\"\r\n          }, ascend, descend);\r\n\r\n          onHeaderCell = function onHeaderCell(col) {\r\n            var colProps = {}; // Get original first\r\n\r\n            if (column.onHeaderCell) {\r\n              colProps = _extends({}, column.onHeaderCell(col));\r\n            } // Add sorter logic\r\n\r\n\r\n            var onHeaderCellClick = colProps.onClick;\r\n\r\n            colProps.onClick = function () {\r\n              _this7.toggleSortOrder(column);\r\n\r\n              if (onHeaderCellClick) {\r\n                onHeaderCellClick.apply(void 0, arguments);\r\n              }\r\n            };\r\n\r\n            return colProps;\r\n          };\r\n        }\r\n\r\n        return _extends({}, column, {\r\n          className: classNames(column.className, (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-actions\"), sortButton || filterDropdown), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-filters\"), filterDropdown), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-has-sorters\"), sortButton), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-column-sort\"), isSortColumn && sortOrder), _classNames3)),\r\n          title: [React.createElement(\"div\", {\r\n            key: \"title\",\r\n            className: sortButton ? \"\".concat(prefixCls, \"-column-sorters\") : undefined\r\n          }, _this7.renderColumnTitle(column.title), sortButton), filterDropdown],\r\n          onHeaderCell: onHeaderCell\r\n        });\r\n      });\r\n    }\r\n  }, {\r\n    key: \"renderColumnTitle\",\r\n    value: function renderColumnTitle(title) {\r\n      var _this$state3 = this.state,\r\n          filters = _this$state3.filters,\r\n          sortOrder = _this$state3.sortOrder; // https://github.com/ant-design/ant-design/issues/11246#issuecomment-405009167\r\n\r\n      if (title instanceof Function) {\r\n        return title({\r\n          filters: filters,\r\n          sortOrder: sortOrder\r\n        });\r\n      }\r\n\r\n      return title;\r\n    }\r\n  }, {\r\n    key: \"renderPagination\",\r\n    value: function renderPagination(prefixCls, paginationPosition) {\r\n      // 强制不需要分页\r\n      if (!this.hasPagination()) {\r\n        return null;\r\n      }\r\n\r\n      var size = 'default';\r\n      var pagination = this.state.pagination;\r\n\r\n      if (pagination.size) {\r\n        size = pagination.size;\r\n      } else if (this.props.size === 'middle' || this.props.size === 'small') {\r\n        size = 'small';\r\n      }\r\n\r\n      var position = pagination.position || 'bottom';\r\n      var total = pagination.total || this.getLocalData().length;\r\n      return total > 0 && (position === paginationPosition || position === 'both') ? React.createElement(Pagination, _extends({\r\n        key: \"pagination-\".concat(paginationPosition)\r\n      }, pagination, {\r\n        className: classNames(pagination.className, \"\".concat(prefixCls, \"-pagination\")),\r\n        onChange: this.handlePageChange,\r\n        total: total,\r\n        size: size,\r\n        current: this.getMaxCurrent(total),\r\n        onShowSizeChange: this.handleShowSizeChange\r\n      })) : null;\r\n    } // Get pagination, filters, sorter\r\n\r\n  }, {\r\n    key: \"prepareParamsArguments\",\r\n    value: function prepareParamsArguments(state) {\r\n      var pagination = _extends({}, state.pagination); // remove useless handle function in Table.onChange\r\n\r\n\r\n      delete pagination.onChange;\r\n      delete pagination.onShowSizeChange;\r\n      var filters = state.filters;\r\n      var sorter = {};\r\n\r\n      if (state.sortColumn && state.sortOrder) {\r\n        sorter.column = state.sortColumn;\r\n        sorter.order = state.sortOrder;\r\n        sorter.field = state.sortColumn.dataIndex;\r\n        sorter.columnKey = this.getColumnKey(state.sortColumn);\r\n      }\r\n\r\n      var extra = {\r\n        currentDataSource: this.getLocalData(state)\r\n      };\r\n      return [pagination, filters, sorter, extra];\r\n    }\r\n  }, {\r\n    key: \"findColumn\",\r\n    value: function findColumn(myKey) {\r\n      var _this8 = this;\r\n\r\n      var column;\r\n      treeMap(this.columns, function (c) {\r\n        if (_this8.getColumnKey(c) === myKey) {\r\n          column = c;\r\n        }\r\n      });\r\n      return column;\r\n    }\r\n  }, {\r\n    key: \"getCurrentPageData\",\r\n    value: function getCurrentPageData() {\r\n      var data = this.getLocalData();\r\n      var current;\r\n      var pageSize;\r\n      var state = this.state; // 如果没有分页的话，默认全部展示\r\n\r\n      if (!this.hasPagination()) {\r\n        pageSize = Number.MAX_VALUE;\r\n        current = 1;\r\n      } else {\r\n        pageSize = state.pagination.pageSize;\r\n        current = this.getMaxCurrent(state.pagination.total || data.length);\r\n      } // 分页\r\n      // ---\r\n      // 当数据量少于等于每页数量时，直接设置数据\r\n      // 否则进行读取分页数据\r\n\r\n\r\n      if (data.length > pageSize || pageSize === Number.MAX_VALUE) {\r\n        data = data.filter(function (_, i) {\r\n          return i >= (current - 1) * pageSize && i < current * pageSize;\r\n        });\r\n      }\r\n\r\n      return data;\r\n    }\r\n  }, {\r\n    key: \"getFlatData\",\r\n    value: function getFlatData() {\r\n      return flatArray(this.getLocalData(null, false));\r\n    }\r\n  }, {\r\n    key: \"getFlatCurrentPageData\",\r\n    value: function getFlatCurrentPageData(childrenColumnName) {\r\n      return flatArray(this.getCurrentPageData(), childrenColumnName);\r\n    }\r\n  }, {\r\n    key: \"recursiveSort\",\r\n    value: function recursiveSort(data, sorterFn) {\r\n      var _this9 = this;\r\n\r\n      var _this$props$childrenC = this.props.childrenColumnName,\r\n          childrenColumnName = _this$props$childrenC === void 0 ? 'children' : _this$props$childrenC;\r\n      return data.sort(sorterFn).map(function (item) {\r\n        return item[childrenColumnName] ? _extends({}, item, _defineProperty({}, childrenColumnName, _this9.recursiveSort(item[childrenColumnName], sorterFn))) : item;\r\n      });\r\n    }\r\n  }, {\r\n    key: \"getLocalData\",\r\n    value: function getLocalData(state) {\r\n      var _this10 = this;\r\n\r\n      var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\r\n      var currentState = state || this.state;\r\n      var dataSource = this.props.dataSource;\r\n      var data = dataSource || []; // 优化本地排序\r\n\r\n      data = data.slice(0);\r\n      var sorterFn = this.getSorterFn(currentState);\r\n\r\n      if (sorterFn) {\r\n        data = this.recursiveSort(data, sorterFn);\r\n      } // 筛选\r\n\r\n\r\n      if (filter && currentState.filters) {\r\n        Object.keys(currentState.filters).forEach(function (columnKey) {\r\n          var col = _this10.findColumn(columnKey);\r\n\r\n          if (!col) {\r\n            return;\r\n          }\r\n\r\n          var values = currentState.filters[columnKey] || [];\r\n\r\n          if (values.length === 0) {\r\n            return;\r\n          }\r\n\r\n          var onFilter = col.onFilter;\r\n          data = onFilter ? data.filter(function (record) {\r\n            return values.some(function (v) {\r\n              return onFilter(v, record);\r\n            });\r\n          }) : data;\r\n        });\r\n      }\r\n\r\n      return data;\r\n    }\r\n  }, {\r\n    key: \"createComponents\",\r\n    value: function createComponents() {\r\n      var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n      var prevComponents = arguments.length > 1 ? arguments[1] : undefined;\r\n      var bodyRow = components && components.body && components.body.row;\r\n      var preBodyRow = prevComponents && prevComponents.body && prevComponents.body.row;\r\n\r\n      if (!this.row || bodyRow !== preBodyRow) {\r\n        this.row = createBodyRow(bodyRow);\r\n      }\r\n\r\n      this.components = _extends({}, components, {\r\n        body: _extends({}, components.body, {\r\n          row: this.row\r\n        })\r\n      });\r\n    }\r\n  }, {\r\n    key: \"render\",\r\n    value: function render() {\r\n      return React.createElement(ConfigConsumer, null, this.renderComponent);\r\n    }\r\n  }]);\r\n\r\n  return Table;\r\n}(React.Component);\r\n\r\nexport { Table as default };\r\nTable.Column = Column;\r\nTable.ColumnGroup = ColumnGroup;\r\nTable.propTypes = {\r\n  dataSource: PropTypes.array,\r\n  columns: PropTypes.array,\r\n  prefixCls: PropTypes.string,\r\n  useFixedHeader: PropTypes.bool,\r\n  rowSelection: PropTypes.object,\r\n  className: PropTypes.string,\r\n  size: PropTypes.string,\r\n  loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\r\n  bordered: PropTypes.bool,\r\n  onChange: PropTypes.func,\r\n  locale: PropTypes.object,\r\n  dropdownPrefixCls: PropTypes.string,\r\n  sortDirections: PropTypes.array\r\n};\r\nTable.defaultProps = {\r\n  dataSource: [],\r\n  useFixedHeader: false,\r\n  className: '',\r\n  size: 'default',\r\n  loading: false,\r\n  bordered: false,\r\n  indentSize: 20,\r\n  locale: {},\r\n  rowKey: 'key',\r\n  showHeader: true,\r\n  sortDirections: ['ascend', 'descend']\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}