{"ast":null,"code":"import*as types from'../constants';import*as apis from'../apis';var userLogin=function userLogin(){return{type:types.LOGIN_REQUEST};};var userLoginSucceed=function userLoginSucceed(payload){return{type:types.LOGIN_SUCCEED,payload:payload};};var userLoginFail=function userLoginFail(payload){return{type:types.LOGIN_FAIL,payload:payload};};var userRegister=function userRegister(){return{type:types.REGISTER_REQUEST};};var userRegisterSucceed=function userRegisterSucceed(payload){return{type:types.REGISTER_SUCCEED,payload:payload};};var userRegisterFail=function userRegisterFail(payload){return{type:types.REGISTER_FAIL,payload:payload};};var userCheckLogin=function userCheckLogin(){return{type:types.TOKEN_RECEIVE};};var userIsLoggedIn=function userIsLoggedIn(payload){return{type:types.TOKEN_VERIFY,payload:payload};};var userIsNotLoggedIn=function userIsNotLoggedIn(){return{type:types.TOKEN_REJECT};};var userLogout=function userLogout(){return{type:types.LOGOUT_REQUEST};};var userLogoutSucceed=function userLogoutSucceed(){return{type:types.LOGOUT_SUCCEED};};//actions for login\nexport var loginUser=function loginUser(form){return function(dispatch,getState){dispatch(userLogin);apis.login(form).then(function(res){dispatch(userLoginSucceed(res));apis.user().then(function(res){dispatch(userIsLoggedIn(res));});}).catch(function(e){dispatch(userLoginFail(e));});};};export var registerUser=function registerUser(form){return function(dispatch,getState){dispatch(userRegister);apis.register(form).then(function(res){dispatch(userRegisterSucceed(res));apis.user().then(function(res){dispatch(userIsLoggedIn(res));});}).catch(function(e){console.log('error',e);dispatch(userRegisterFail(e));});};};export var checkUser=function checkUser(){return function(dispatch,getState){dispatch(userCheckLogin());apis.user().then(function(res){dispatch(userIsLoggedIn(res));}).catch(function(e){dispatch(userIsNotLoggedIn(e));throw e;});};};export var logout=function logout(){return function(dispatch,getState){dispatch(userLogout());dispatch(userLogoutSucceed());};};","map":{"version":3,"names":["types","apis","userLogin","type","LOGIN_REQUEST","userLoginSucceed","payload","LOGIN_SUCCEED","userLoginFail","LOGIN_FAIL","userRegister","REGISTER_REQUEST","userRegisterSucceed","REGISTER_SUCCEED","userRegisterFail","REGISTER_FAIL","userCheckLogin","TOKEN_RECEIVE","userIsLoggedIn","TOKEN_VERIFY","userIsNotLoggedIn","TOKEN_REJECT","userLogout","LOGOUT_REQUEST","userLogoutSucceed","LOGOUT_SUCCEED","loginUser","form","dispatch","getState","login","then","res","user","catch","e","registerUser","register","console","log","checkUser","logout"],"sources":["C:/Users/ajayg/Desktop/vssample/stock_mocker/client/src/actions/index.js"],"sourcesContent":[" \r\nimport * as types from '../constants'\r\nimport * as apis from '../apis'\r\n\r\nconst userLogin = () => ({\r\n  type: types.LOGIN_REQUEST\r\n})\r\n\r\nconst userLoginSucceed = payload => ({\r\n  type: types.LOGIN_SUCCEED,\r\n  payload\r\n})\r\n\r\nconst userLoginFail = payload => ({\r\n  type: types.LOGIN_FAIL,\r\n  payload\r\n})\r\n\r\nconst userRegister = () => ({\r\n  type: types.REGISTER_REQUEST\r\n})\r\n\r\nconst userRegisterSucceed = payload => ({\r\n  type: types.REGISTER_SUCCEED,\r\n  payload\r\n})\r\n\r\nconst userRegisterFail = payload => ({\r\n  type: types.REGISTER_FAIL,\r\n  payload\r\n})\r\n\r\nconst userCheckLogin = () => ({\r\n  type: types.TOKEN_RECEIVE,\r\n})\r\n\r\nconst userIsLoggedIn = (payload) => ({\r\n  type: types.TOKEN_VERIFY,\r\n  payload\r\n})\r\n\r\nconst userIsNotLoggedIn = () => ({\r\n  type: types.TOKEN_REJECT,\r\n})\r\n\r\nconst userLogout = () => ({\r\n  type: types.LOGOUT_REQUEST\r\n})\r\n\r\nconst userLogoutSucceed = () => ({\r\n  type: types.LOGOUT_SUCCEED\r\n})\r\n\r\n//actions for login\r\nexport const loginUser = form => (dispatch, getState) => {\r\n  dispatch(userLogin)\r\n  apis.login(form)\r\n  .then( res => {\r\n    dispatch(userLoginSucceed(res))\r\n    apis.user()\r\n    .then(res => {\r\n      dispatch(userIsLoggedIn(res))\r\n    })\r\n  })\r\n  .catch( e => {\r\n    dispatch(userLoginFail(e))\r\n  })\r\n}\r\n\r\nexport const registerUser = form => (dispatch, getState) => {\r\n  dispatch(userRegister)\r\n  apis.register(form)\r\n  .then(res => {\r\n    dispatch(userRegisterSucceed(res))\r\n    apis.user()\r\n    .then(res => {\r\n      dispatch(userIsLoggedIn(res))\r\n    })\r\n  })\r\n  .catch( e => {\r\n    console.log('error', e)\r\n    dispatch(userRegisterFail(e))\r\n  })\r\n}\r\n\r\nexport const checkUser = () => (dispatch, getState) => {\r\n  dispatch(userCheckLogin())\r\n  apis.user()\r\n  .then(res => {\r\n    dispatch(userIsLoggedIn(res))\r\n  })\r\n  .catch(e => {\r\n    dispatch(userIsNotLoggedIn(e))\r\n    throw e\r\n  })\r\n}\r\n\r\nexport const logout = () => (dispatch, getState) => {\r\n  dispatch(userLogout())\r\n  dispatch(userLogoutSucceed())\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}