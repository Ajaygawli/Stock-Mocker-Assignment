{"ast":null,"code":"import addEventListener from \"rc-util/es/Dom/addEventListener\"; // ======================== Observer ========================\n\nvar TRIGGER_EVENTS = ['resize', 'scroll', 'touchstart', 'touchmove', 'touchend', 'pageshow', 'load'];\nvar observerEntities = [];\nexport function addObserveTarget(target, affix) {\n  if (!target) return;\n  var entity = observerEntities.find(function (item) {\n    return item.target === target;\n  });\n  if (entity) {\n    entity.affixList.push(affix);\n  } else {\n    entity = {\n      target: target,\n      affixList: [affix],\n      eventHandlers: {}\n    };\n    observerEntities.push(entity); // Add listener\n\n    TRIGGER_EVENTS.forEach(function (eventName) {\n      entity.eventHandlers[eventName] = addEventListener(target, eventName, function (event) {\n        entity.affixList.forEach(function (affix) {\n          affix.updatePosition(event);\n        });\n      });\n    });\n  }\n}\nexport function removeObserveTarget(affix) {\n  var observerEntity = observerEntities.find(function (oriObserverEntity) {\n    var hasAffix = oriObserverEntity.affixList.some(function (item) {\n      return item === affix;\n    });\n    if (hasAffix) {\n      oriObserverEntity.affixList = oriObserverEntity.affixList.filter(function (item) {\n        return item !== affix;\n      });\n    }\n    return hasAffix;\n  });\n  if (observerEntity && observerEntity.affixList.length === 0) {\n    observerEntities = observerEntities.filter(function (item) {\n      return item !== observerEntity;\n    }); // Remove listener\n\n    TRIGGER_EVENTS.forEach(function (eventName) {\n      var handler = observerEntity.eventHandlers[eventName];\n      if (handler && handler.remove) {\n        handler.remove();\n      }\n    });\n  }\n}\nexport function getTargetRect(target) {\n  return target !== window ? target.getBoundingClientRect() : {\n    top: 0,\n    bottom: window.innerHeight\n  };\n}","map":{"version":3,"names":["addEventListener","TRIGGER_EVENTS","observerEntities","addObserveTarget","target","affix","entity","find","item","affixList","push","eventHandlers","forEach","eventName","event","updatePosition","removeObserveTarget","observerEntity","oriObserverEntity","hasAffix","some","filter","length","handler","remove","getTargetRect","window","getBoundingClientRect","top","bottom","innerHeight"],"sources":["C:/Users/ajayg/Desktop/vssample/stock_mocker/client/node_modules/antd/es/affix/utils.js"],"sourcesContent":["import addEventListener from \"rc-util/es/Dom/addEventListener\"; // ======================== Observer ========================\r\n\r\nvar TRIGGER_EVENTS = ['resize', 'scroll', 'touchstart', 'touchmove', 'touchend', 'pageshow', 'load'];\r\nvar observerEntities = [];\r\nexport function addObserveTarget(target, affix) {\r\n  if (!target) return;\r\n  var entity = observerEntities.find(function (item) {\r\n    return item.target === target;\r\n  });\r\n\r\n  if (entity) {\r\n    entity.affixList.push(affix);\r\n  } else {\r\n    entity = {\r\n      target: target,\r\n      affixList: [affix],\r\n      eventHandlers: {}\r\n    };\r\n    observerEntities.push(entity); // Add listener\r\n\r\n    TRIGGER_EVENTS.forEach(function (eventName) {\r\n      entity.eventHandlers[eventName] = addEventListener(target, eventName, function (event) {\r\n        entity.affixList.forEach(function (affix) {\r\n          affix.updatePosition(event);\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\nexport function removeObserveTarget(affix) {\r\n  var observerEntity = observerEntities.find(function (oriObserverEntity) {\r\n    var hasAffix = oriObserverEntity.affixList.some(function (item) {\r\n      return item === affix;\r\n    });\r\n\r\n    if (hasAffix) {\r\n      oriObserverEntity.affixList = oriObserverEntity.affixList.filter(function (item) {\r\n        return item !== affix;\r\n      });\r\n    }\r\n\r\n    return hasAffix;\r\n  });\r\n\r\n  if (observerEntity && observerEntity.affixList.length === 0) {\r\n    observerEntities = observerEntities.filter(function (item) {\r\n      return item !== observerEntity;\r\n    }); // Remove listener\r\n\r\n    TRIGGER_EVENTS.forEach(function (eventName) {\r\n      var handler = observerEntity.eventHandlers[eventName];\r\n\r\n      if (handler && handler.remove) {\r\n        handler.remove();\r\n      }\r\n    });\r\n  }\r\n}\r\nexport function getTargetRect(target) {\r\n  return target !== window ? target.getBoundingClientRect() : {\r\n    top: 0,\r\n    bottom: window.innerHeight\r\n  };\r\n}"],"mappings":"AAAA,OAAOA,gBAAgB,MAAM,iCAAiC,CAAC,CAAC;;AAEhE,IAAIC,cAAc,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,CAAC;AACpG,IAAIC,gBAAgB,GAAG,EAAE;AACzB,OAAO,SAASC,gBAAgBA,CAACC,MAAM,EAAEC,KAAK,EAAE;EAC9C,IAAI,CAACD,MAAM,EAAE;EACb,IAAIE,MAAM,GAAGJ,gBAAgB,CAACK,IAAI,CAAC,UAAUC,IAAI,EAAE;IACjD,OAAOA,IAAI,CAACJ,MAAM,KAAKA,MAAM;EAC/B,CAAC,CAAC;EAEF,IAAIE,MAAM,EAAE;IACVA,MAAM,CAACG,SAAS,CAACC,IAAI,CAACL,KAAK,CAAC;EAC9B,CAAC,MAAM;IACLC,MAAM,GAAG;MACPF,MAAM,EAAEA,MAAM;MACdK,SAAS,EAAE,CAACJ,KAAK,CAAC;MAClBM,aAAa,EAAE,CAAC;IAClB,CAAC;IACDT,gBAAgB,CAACQ,IAAI,CAACJ,MAAM,CAAC,CAAC,CAAC;;IAE/BL,cAAc,CAACW,OAAO,CAAC,UAAUC,SAAS,EAAE;MAC1CP,MAAM,CAACK,aAAa,CAACE,SAAS,CAAC,GAAGb,gBAAgB,CAACI,MAAM,EAAES,SAAS,EAAE,UAAUC,KAAK,EAAE;QACrFR,MAAM,CAACG,SAAS,CAACG,OAAO,CAAC,UAAUP,KAAK,EAAE;UACxCA,KAAK,CAACU,cAAc,CAACD,KAAK,CAAC;QAC7B,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;AACF;AACA,OAAO,SAASE,mBAAmBA,CAACX,KAAK,EAAE;EACzC,IAAIY,cAAc,GAAGf,gBAAgB,CAACK,IAAI,CAAC,UAAUW,iBAAiB,EAAE;IACtE,IAAIC,QAAQ,GAAGD,iBAAiB,CAACT,SAAS,CAACW,IAAI,CAAC,UAAUZ,IAAI,EAAE;MAC9D,OAAOA,IAAI,KAAKH,KAAK;IACvB,CAAC,CAAC;IAEF,IAAIc,QAAQ,EAAE;MACZD,iBAAiB,CAACT,SAAS,GAAGS,iBAAiB,CAACT,SAAS,CAACY,MAAM,CAAC,UAAUb,IAAI,EAAE;QAC/E,OAAOA,IAAI,KAAKH,KAAK;MACvB,CAAC,CAAC;IACJ;IAEA,OAAOc,QAAQ;EACjB,CAAC,CAAC;EAEF,IAAIF,cAAc,IAAIA,cAAc,CAACR,SAAS,CAACa,MAAM,KAAK,CAAC,EAAE;IAC3DpB,gBAAgB,GAAGA,gBAAgB,CAACmB,MAAM,CAAC,UAAUb,IAAI,EAAE;MACzD,OAAOA,IAAI,KAAKS,cAAc;IAChC,CAAC,CAAC,CAAC,CAAC;;IAEJhB,cAAc,CAACW,OAAO,CAAC,UAAUC,SAAS,EAAE;MAC1C,IAAIU,OAAO,GAAGN,cAAc,CAACN,aAAa,CAACE,SAAS,CAAC;MAErD,IAAIU,OAAO,IAAIA,OAAO,CAACC,MAAM,EAAE;QAC7BD,OAAO,CAACC,MAAM,EAAE;MAClB;IACF,CAAC,CAAC;EACJ;AACF;AACA,OAAO,SAASC,aAAaA,CAACrB,MAAM,EAAE;EACpC,OAAOA,MAAM,KAAKsB,MAAM,GAAGtB,MAAM,CAACuB,qBAAqB,EAAE,GAAG;IAC1DC,GAAG,EAAE,CAAC;IACNC,MAAM,EAAEH,MAAM,CAACI;EACjB,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}