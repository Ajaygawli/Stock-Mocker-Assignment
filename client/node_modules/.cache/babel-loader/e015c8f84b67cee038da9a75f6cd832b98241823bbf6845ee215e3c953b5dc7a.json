{"ast":null,"code":"import * as types from '../constants';\nimport * as apis from '../apis';\nvar userLogin = function userLogin() {\n  return {\n    type: types.LOGIN_REQUEST\n  };\n};\nvar userLoginSucceed = function userLoginSucceed(payload) {\n  return {\n    type: types.LOGIN_SUCCEED,\n    payload: payload\n  };\n};\nvar userLoginFail = function userLoginFail(payload) {\n  return {\n    type: types.LOGIN_FAIL,\n    payload: payload\n  };\n};\nvar userRegister = function userRegister() {\n  return {\n    type: types.REGISTER_REQUEST\n  };\n};\nvar userRegisterSucceed = function userRegisterSucceed(payload) {\n  return {\n    type: types.REGISTER_SUCCEED,\n    payload: payload\n  };\n};\nvar userRegisterFail = function userRegisterFail(payload) {\n  return {\n    type: types.REGISTER_FAIL,\n    payload: payload\n  };\n};\nvar userCheckLogin = function userCheckLogin() {\n  return {\n    type: types.TOKEN_RECEIVE\n  };\n};\nvar userIsLoggedIn = function userIsLoggedIn(payload) {\n  return {\n    type: types.TOKEN_VERIFY,\n    payload: payload\n  };\n};\nvar userIsNotLoggedIn = function userIsNotLoggedIn() {\n  return {\n    type: types.TOKEN_REJECT\n  };\n};\nvar userLogout = function userLogout() {\n  return {\n    type: types.LOGOUT_REQUEST\n  };\n};\nvar userLogoutSucceed = function userLogoutSucceed() {\n  return {\n    type: types.LOGOUT_SUCCEED\n  };\n};\n\n//actions for login\nexport var loginUser = function loginUser(form) {\n  return function (dispatch, getState) {\n    dispatch(userLogin);\n    apis.login(form).then(function (res) {\n      dispatch(userLoginSucceed(res));\n      apis.user().then(function (res) {\n        dispatch(userIsLoggedIn(res));\n      });\n    }).catch(function (e) {\n      dispatch(userLoginFail(e));\n    });\n  };\n};\nexport var registerUser = function registerUser(form) {\n  return function (dispatch, getState) {\n    dispatch(userRegister);\n    apis.register(form).then(function (res) {\n      dispatch(userRegisterSucceed(res));\n      apis.user().then(function (res) {\n        dispatch(userIsLoggedIn(res));\n      });\n    }).catch(function (e) {\n      console.log('error', e);\n      dispatch(userRegisterFail(e));\n    });\n  };\n};\nexport var checkUser = function checkUser() {\n  return function (dispatch, getState) {\n    dispatch(userCheckLogin());\n    apis.user().then(function (res) {\n      dispatch(userIsLoggedIn(res));\n    }).catch(function (e) {\n      dispatch(userIsNotLoggedIn(e));\n      throw e;\n    });\n  };\n};\nexport var logout = function logout() {\n  return function (dispatch, getState) {\n    dispatch(userLogout());\n    dispatch(userLogoutSucceed());\n  };\n};","map":{"version":3,"names":["types","apis","userLogin","type","LOGIN_REQUEST","userLoginSucceed","payload","LOGIN_SUCCEED","userLoginFail","LOGIN_FAIL","userRegister","REGISTER_REQUEST","userRegisterSucceed","REGISTER_SUCCEED","userRegisterFail","REGISTER_FAIL","userCheckLogin","TOKEN_RECEIVE","userIsLoggedIn","TOKEN_VERIFY","userIsNotLoggedIn","TOKEN_REJECT","userLogout","LOGOUT_REQUEST","userLogoutSucceed","LOGOUT_SUCCEED","loginUser","form","dispatch","getState","login","then","res","user","catch","e","registerUser","register","console","log","checkUser","logout"],"sources":["C:/Users/ajayg/Desktop/vssample/stock_mocker/client/src/actions/index.js"],"sourcesContent":[" \r\nimport * as types from '../constants'\r\nimport * as apis from '../apis'\r\n\r\nconst userLogin = () => ({\r\n  type: types.LOGIN_REQUEST\r\n})\r\n\r\nconst userLoginSucceed = payload => ({\r\n  type: types.LOGIN_SUCCEED,\r\n  payload\r\n})\r\n\r\nconst userLoginFail = payload => ({\r\n  type: types.LOGIN_FAIL,\r\n  payload\r\n})\r\n\r\nconst userRegister = () => ({\r\n  type: types.REGISTER_REQUEST\r\n})\r\n\r\nconst userRegisterSucceed = payload => ({\r\n  type: types.REGISTER_SUCCEED,\r\n  payload\r\n})\r\n\r\nconst userRegisterFail = payload => ({\r\n  type: types.REGISTER_FAIL,\r\n  payload\r\n})\r\n\r\nconst userCheckLogin = () => ({\r\n  type: types.TOKEN_RECEIVE,\r\n})\r\n\r\nconst userIsLoggedIn = (payload) => ({\r\n  type: types.TOKEN_VERIFY,\r\n  payload\r\n})\r\n\r\nconst userIsNotLoggedIn = () => ({\r\n  type: types.TOKEN_REJECT,\r\n})\r\n\r\nconst userLogout = () => ({\r\n  type: types.LOGOUT_REQUEST\r\n})\r\n\r\nconst userLogoutSucceed = () => ({\r\n  type: types.LOGOUT_SUCCEED\r\n})\r\n\r\n//actions for login\r\nexport const loginUser = form => (dispatch, getState) => {\r\n  dispatch(userLogin)\r\n  apis.login(form)\r\n  .then( res => {\r\n    dispatch(userLoginSucceed(res))\r\n    apis.user()\r\n    .then(res => {\r\n      dispatch(userIsLoggedIn(res))\r\n    })\r\n  })\r\n  .catch( e => {\r\n    dispatch(userLoginFail(e))\r\n  })\r\n}\r\n\r\nexport const registerUser = form => (dispatch, getState) => {\r\n  dispatch(userRegister)\r\n  apis.register(form)\r\n  .then(res => {\r\n    dispatch(userRegisterSucceed(res))\r\n    apis.user()\r\n    .then(res => {\r\n      dispatch(userIsLoggedIn(res))\r\n    })\r\n  })\r\n  .catch( e => {\r\n    console.log('error', e)\r\n    dispatch(userRegisterFail(e))\r\n  })\r\n}\r\n\r\nexport const checkUser = () => (dispatch, getState) => {\r\n  dispatch(userCheckLogin())\r\n  apis.user()\r\n  .then(res => {\r\n    dispatch(userIsLoggedIn(res))\r\n  })\r\n  .catch(e => {\r\n    dispatch(userIsNotLoggedIn(e))\r\n    throw e\r\n  })\r\n}\r\n\r\nexport const logout = () => (dispatch, getState) => {\r\n  dispatch(userLogout())\r\n  dispatch(userLogoutSucceed())\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}