{"ast":null,"code":"/**\r\n * Copyright (c) 2013-present, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule editOnBlur\r\n * @format\r\n * \r\n */\n\n'use strict';\n\nvar EditorState = require('./EditorState');\nvar containsNode = require('fbjs/lib/containsNode');\nvar getActiveElement = require('fbjs/lib/getActiveElement');\nfunction editOnBlur(editor, e) {\n  // In a contentEditable element, when you select a range and then click\n  // another active element, this does trigger a `blur` event but will not\n  // remove the DOM selection from the contenteditable.\n  // This is consistent across all browsers, but we prefer that the editor\n  // behave like a textarea, where a `blur` event clears the DOM selection.\n  // We therefore force the issue to be certain, checking whether the active\n  // element is `body` to force it when blurring occurs within the window (as\n  // opposed to clicking to another tab or window).\n  if (getActiveElement() === document.body) {\n    var _selection = global.getSelection();\n    var editorNode = editor.editor;\n    if (_selection.rangeCount === 1 && containsNode(editorNode, _selection.anchorNode) && containsNode(editorNode, _selection.focusNode)) {\n      _selection.removeAllRanges();\n    }\n  }\n  var editorState = editor._latestEditorState;\n  var currentSelection = editorState.getSelection();\n  if (!currentSelection.getHasFocus()) {\n    return;\n  }\n  var selection = currentSelection.set('hasFocus', false);\n  editor.props.onBlur && editor.props.onBlur(e);\n  editor.update(EditorState.acceptSelection(editorState, selection));\n}\nmodule.exports = editOnBlur;","map":{"version":3,"names":["EditorState","require","containsNode","getActiveElement","editOnBlur","editor","e","document","body","_selection","global","getSelection","editorNode","rangeCount","anchorNode","focusNode","removeAllRanges","editorState","_latestEditorState","currentSelection","getHasFocus","selection","set","props","onBlur","update","acceptSelection","module","exports"],"sources":["C:/Users/ajayg/Desktop/vssample/stock_mocker/client/node_modules/draft-js/lib/editOnBlur.js"],"sourcesContent":["/**\r\n * Copyright (c) 2013-present, Facebook, Inc.\r\n * All rights reserved.\r\n *\r\n * This source code is licensed under the BSD-style license found in the\r\n * LICENSE file in the root directory of this source tree. An additional grant\r\n * of patent rights can be found in the PATENTS file in the same directory.\r\n *\r\n * @providesModule editOnBlur\r\n * @format\r\n * \r\n */\r\n\r\n'use strict';\r\n\r\nvar EditorState = require('./EditorState');\r\n\r\nvar containsNode = require('fbjs/lib/containsNode');\r\nvar getActiveElement = require('fbjs/lib/getActiveElement');\r\n\r\nfunction editOnBlur(editor, e) {\r\n  // In a contentEditable element, when you select a range and then click\r\n  // another active element, this does trigger a `blur` event but will not\r\n  // remove the DOM selection from the contenteditable.\r\n  // This is consistent across all browsers, but we prefer that the editor\r\n  // behave like a textarea, where a `blur` event clears the DOM selection.\r\n  // We therefore force the issue to be certain, checking whether the active\r\n  // element is `body` to force it when blurring occurs within the window (as\r\n  // opposed to clicking to another tab or window).\r\n  if (getActiveElement() === document.body) {\r\n    var _selection = global.getSelection();\r\n    var editorNode = editor.editor;\r\n    if (_selection.rangeCount === 1 && containsNode(editorNode, _selection.anchorNode) && containsNode(editorNode, _selection.focusNode)) {\r\n      _selection.removeAllRanges();\r\n    }\r\n  }\r\n\r\n  var editorState = editor._latestEditorState;\r\n  var currentSelection = editorState.getSelection();\r\n  if (!currentSelection.getHasFocus()) {\r\n    return;\r\n  }\r\n\r\n  var selection = currentSelection.set('hasFocus', false);\r\n  editor.props.onBlur && editor.props.onBlur(e);\r\n  editor.update(EditorState.acceptSelection(editorState, selection));\r\n}\r\n\r\nmodule.exports = editOnBlur;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,IAAIA,WAAW,GAAGC,OAAO,CAAC,eAAe,CAAC;AAE1C,IAAIC,YAAY,GAAGD,OAAO,CAAC,uBAAuB,CAAC;AACnD,IAAIE,gBAAgB,GAAGF,OAAO,CAAC,2BAA2B,CAAC;AAE3D,SAASG,UAAUA,CAACC,MAAM,EAAEC,CAAC,EAAE;EAC7B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAIH,gBAAgB,EAAE,KAAKI,QAAQ,CAACC,IAAI,EAAE;IACxC,IAAIC,UAAU,GAAGC,MAAM,CAACC,YAAY,EAAE;IACtC,IAAIC,UAAU,GAAGP,MAAM,CAACA,MAAM;IAC9B,IAAII,UAAU,CAACI,UAAU,KAAK,CAAC,IAAIX,YAAY,CAACU,UAAU,EAAEH,UAAU,CAACK,UAAU,CAAC,IAAIZ,YAAY,CAACU,UAAU,EAAEH,UAAU,CAACM,SAAS,CAAC,EAAE;MACpIN,UAAU,CAACO,eAAe,EAAE;IAC9B;EACF;EAEA,IAAIC,WAAW,GAAGZ,MAAM,CAACa,kBAAkB;EAC3C,IAAIC,gBAAgB,GAAGF,WAAW,CAACN,YAAY,EAAE;EACjD,IAAI,CAACQ,gBAAgB,CAACC,WAAW,EAAE,EAAE;IACnC;EACF;EAEA,IAAIC,SAAS,GAAGF,gBAAgB,CAACG,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC;EACvDjB,MAAM,CAACkB,KAAK,CAACC,MAAM,IAAInB,MAAM,CAACkB,KAAK,CAACC,MAAM,CAAClB,CAAC,CAAC;EAC7CD,MAAM,CAACoB,MAAM,CAACzB,WAAW,CAAC0B,eAAe,CAACT,WAAW,EAAEI,SAAS,CAAC,CAAC;AACpE;AAEAM,MAAM,CAACC,OAAO,GAAGxB,UAAU"},"metadata":{},"sourceType":"script","externalDependencies":[]}