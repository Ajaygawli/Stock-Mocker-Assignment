{"ast":null,"code":"import _objectSpread from\"C:/Users/ajayg/Desktop/vssample/stock_mocker/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{LOGIN_REQUEST,LOGIN_SUCCEED,LOGIN_FAIL,REGISTER_FAIL,REGISTER_SUCCEED,REGISTER_REQUEST,TOKEN_RECEIVE,TOKEN_VERIFY,TOKEN_REJECT,LOGOUT_REQUEST,LOGOUT_SUCCEED}from'../constants';import{combineReducers}from'redux';var initialState={type:'',status:''};var initUser={isPageLoading:true,isLoggedIn:false,email:'',name:''};var message=function message(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var _ref=arguments.length>1?arguments[1]:undefined,type=_ref.type,payload=_ref.payload;switch(type){case LOGIN_REQUEST:return _objectSpread(_objectSpread({},state),{},{type:\"login\",status:'Logging in'});case LOGIN_FAIL:return _objectSpread(_objectSpread({},state),{},{type:\"login error\",status:'Failed to Log in, '+payload});case LOGIN_SUCCEED:window.localStorage.setItem('token',payload.token);return _objectSpread(_objectSpread({},state),{},{type:\"login success\",status:payload.success});case REGISTER_REQUEST:return _objectSpread(_objectSpread({},state),{},{type:\"register\",status:\"Registering\"});case REGISTER_FAIL:return _objectSpread(_objectSpread({},state),{},{type:\"register error\",status:\"Failed to register, \"+payload});case REGISTER_SUCCEED:window.localStorage.setItem('token',payload.token);return _objectSpread(_objectSpread({},state),{},{type:'register success',status:payload.success});default:return state;}};var user=function user(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initUser;var _ref2=arguments.length>1?arguments[1]:undefined,type=_ref2.type,payload=_ref2.payload;switch(type){case TOKEN_RECEIVE:return initUser;case TOKEN_VERIFY:return _objectSpread(_objectSpread({},state),{},{isLoggedIn:true,isPageLoading:false,email:payload.email,name:payload.name});case TOKEN_REJECT:return _objectSpread(_objectSpread({},initUser),{},{isPageLoading:false});case LOGOUT_REQUEST:return state;case LOGOUT_SUCCEED:window.localStorage.setItem('token','');return initUser;default:return state;}};export default combineReducers({user:user,message:message});","map":{"version":3,"names":["LOGIN_REQUEST","LOGIN_SUCCEED","LOGIN_FAIL","REGISTER_FAIL","REGISTER_SUCCEED","REGISTER_REQUEST","TOKEN_RECEIVE","TOKEN_VERIFY","TOKEN_REJECT","LOGOUT_REQUEST","LOGOUT_SUCCEED","combineReducers","initialState","type","status","initUser","isPageLoading","isLoggedIn","email","name","message","state","arguments","length","undefined","_ref","payload","_objectSpread","window","localStorage","setItem","token","success","user","_ref2"],"sources":["C:/Users/ajayg/Desktop/vssample/stock_mocker/client/src/reducers/index.js"],"sourcesContent":["\r\n\r\nimport { \r\n  LOGIN_REQUEST, LOGIN_SUCCEED, LOGIN_FAIL, \r\n  REGISTER_FAIL, REGISTER_SUCCEED, REGISTER_REQUEST, \r\n  TOKEN_RECEIVE, TOKEN_VERIFY, TOKEN_REJECT,\r\n  LOGOUT_REQUEST, LOGOUT_SUCCEED\r\n} from '../constants'\r\nimport { combineReducers } from 'redux';\r\n\r\nconst initialState = {\r\n  type: '',\r\n  status: '',\r\n}\r\n\r\nconst initUser = {\r\n  isPageLoading: true,\r\n  isLoggedIn: false,\r\n  email: '',\r\n  name: '',\r\n}\r\n\r\nconst message = (state = initialState, {type, payload} ) => {\r\n  switch(type){\r\n    case LOGIN_REQUEST:\r\n      return {\r\n        ...state,\r\n        type: \"login\",\r\n        status: 'Logging in'\r\n      }\r\n    case LOGIN_FAIL:\r\n      return {\r\n        ...state,\r\n        type: \"login error\",\r\n        status: 'Failed to Log in, ' + payload\r\n      }\r\n    case LOGIN_SUCCEED:\r\n      window.localStorage.setItem('token', payload.token)\r\n      return {\r\n        ...state,\r\n        type: \"login success\",\r\n        status: payload.success\r\n      }\r\n    case REGISTER_REQUEST:\r\n      return {\r\n        ...state,\r\n        type: \"register\",\r\n        status: \"Registering\"\r\n      }\r\n    case REGISTER_FAIL:\r\n      return {\r\n        ...state,\r\n        type: \"register error\",\r\n        status: \"Failed to register, \" + payload\r\n      }\r\n    case REGISTER_SUCCEED:\r\n      window.localStorage.setItem('token', payload.token)\r\n      return {\r\n        ...state,\r\n        type: 'register success',\r\n        status: payload.success\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst user = (state = initUser, {type, payload} ) => {\r\n  switch(type){\r\n    case TOKEN_RECEIVE:\r\n      return initUser\r\n    case TOKEN_VERIFY:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: true,\r\n        isPageLoading: false,\r\n        email: payload.email,\r\n        name: payload.name\r\n      }\r\n    case TOKEN_REJECT:\r\n      return {\r\n        ...initUser,\r\n        isPageLoading: false\r\n      }\r\n    case LOGOUT_REQUEST:\r\n      return state\r\n    case LOGOUT_SUCCEED:\r\n      window.localStorage.setItem('token', '')\r\n      return initUser\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default combineReducers({\r\n  user,\r\n  message\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}