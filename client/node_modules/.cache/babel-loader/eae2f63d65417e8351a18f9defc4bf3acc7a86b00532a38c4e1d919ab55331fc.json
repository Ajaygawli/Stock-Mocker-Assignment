{"ast":null,"code":"function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nimport classnames from 'classnames';\nimport classes from 'component-classes';\nimport Animate from 'rc-animate';\nimport { Item as MenuItem, ItemGroup as MenuItemGroup } from 'rc-menu';\nimport childrenToArray from \"rc-util/es/Children/toArray\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport warning from 'warning';\nimport Option from './Option';\nimport SelectPropTypes from './PropTypes';\nimport SelectTrigger from './SelectTrigger';\nimport { defaultFilterFn, findFirstMenuItem, findIndexInValueBySingleValue, generateUUID, getLabelFromPropsValue, getMapKey, getPropValue, getValuePropValue, includesSeparators, isCombobox, isMultipleOrTags, isMultipleOrTagsOrCombobox, isSingleMode, preventDefaultEvent, saveRef, splitBySeparators, toArray, toTitle, UNSELECTABLE_ATTRIBUTE, UNSELECTABLE_STYLE, validateOptionValue } from './util';\nvar SELECT_EMPTY_VALUE_KEY = 'RC_SELECT_EMPTY_VALUE_KEY';\nvar noop = function noop() {\n  return null;\n};\nfunction chaining() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    // tslint:disable-next-line:prefer-for-of\n    for (var i = 0; i < fns.length; i++) {\n      if (fns[i] && typeof fns[i] === 'function') {\n        fns[i].apply(chaining, args);\n      }\n    }\n  };\n}\nvar Select = /*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Select, _React$Component);\n  function Select(props) {\n    var _this;\n    _classCallCheck(this, Select);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));\n    _this.inputRef = null;\n    _this.inputMirrorRef = null;\n    _this.topCtrlRef = null;\n    _this.selectTriggerRef = null;\n    _this.rootRef = null;\n    _this.selectionRef = null;\n    _this.dropdownContainer = null;\n    _this.blurTimer = null;\n    _this.focusTimer = null; // tslint:disable-next-line:variable-name\n\n    _this._focused = false; // tslint:disable-next-line:variable-name\n\n    _this._mouseDown = false; // tslint:disable-next-line:variable-name\n\n    _this._options = []; // tslint:disable-next-line:variable-name\n\n    _this._empty = false;\n    _this.onInputChange = function (event) {\n      var tokenSeparators = _this.props.tokenSeparators;\n      var val = event.target.value;\n      if (isMultipleOrTags(_this.props) && tokenSeparators.length && includesSeparators(val, tokenSeparators)) {\n        var nextValue = _this.getValueByInput(val);\n        if (nextValue !== undefined) {\n          _this.fireChange(nextValue);\n        }\n        _this.setOpenState(false, true);\n        _this.setInputValue('', false);\n        return;\n      }\n      _this.setInputValue(val);\n      _this.setState({\n        open: true\n      });\n      if (isCombobox(_this.props)) {\n        _this.fireChange([val]);\n      }\n    };\n    _this.onDropdownVisibleChange = function (open) {\n      if (open && !_this._focused) {\n        _this.clearBlurTime();\n        _this.timeoutFocus();\n        _this._focused = true;\n        _this.updateFocusClassName();\n      }\n      _this.setOpenState(open);\n    }; // combobox ignore\n\n    _this.onKeyDown = function (event) {\n      var open = _this.state.open;\n      var disabled = _this.props.disabled;\n      if (disabled) {\n        return;\n      }\n      var keyCode = event.keyCode;\n      if (open && !_this.getInputDOMNode()) {\n        _this.onInputKeyDown(event);\n      } else if (keyCode === KeyCode.ENTER || keyCode === KeyCode.DOWN) {\n        if (!open) {\n          _this.setOpenState(true);\n        }\n        event.preventDefault();\n      } else if (keyCode === KeyCode.SPACE) {\n        // Not block space if popup is shown\n        if (!open) {\n          _this.setOpenState(true);\n          event.preventDefault();\n        }\n      }\n    };\n    _this.onInputKeyDown = function (event) {\n      var _this$props = _this.props,\n        disabled = _this$props.disabled,\n        combobox = _this$props.combobox;\n      if (disabled) {\n        return;\n      }\n      var state = _this.state;\n      var isRealOpen = _this.getRealOpenState(state); // magic code\n\n      var keyCode = event.keyCode;\n      if (isMultipleOrTags(_this.props) && !event.target.value && keyCode === KeyCode.BACKSPACE) {\n        event.preventDefault();\n        var value = state.value;\n        if (value.length) {\n          _this.removeSelected(value[value.length - 1]);\n        }\n        return;\n      }\n      if (keyCode === KeyCode.DOWN) {\n        if (!state.open) {\n          _this.openIfHasChildren();\n          event.preventDefault();\n          event.stopPropagation();\n          return;\n        }\n      } else if (keyCode === KeyCode.ENTER && state.open) {\n        // Aviod trigger form submit when select item\n        // https://github.com/ant-design/ant-design/issues/10861\n        // https://github.com/ant-design/ant-design/issues/14544\n        if (isRealOpen || !combobox) {\n          event.preventDefault();\n        }\n      } else if (keyCode === KeyCode.ESC) {\n        if (state.open) {\n          _this.setOpenState(false);\n          event.preventDefault();\n          event.stopPropagation();\n        }\n        return;\n      }\n      if (isRealOpen && _this.selectTriggerRef) {\n        var menu = _this.selectTriggerRef.getInnerMenu();\n        if (menu && menu.onKeyDown(event, _this.handleBackfill)) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n    };\n    _this.onMenuSelect = function (_ref) {\n      var item = _ref.item;\n      if (!item) {\n        return;\n      }\n      var value = _this.state.value;\n      var props = _this.props;\n      var selectedValue = getValuePropValue(item);\n      var lastValue = value[value.length - 1];\n      _this.fireSelect(selectedValue);\n      if (isMultipleOrTags(props)) {\n        if (findIndexInValueBySingleValue(value, selectedValue) !== -1) {\n          return;\n        }\n        value = value.concat([selectedValue]);\n      } else {\n        if (!isCombobox(props) && lastValue !== undefined && lastValue === selectedValue && selectedValue !== _this.state.backfillValue) {\n          _this.setOpenState(false, true);\n          return;\n        }\n        value = [selectedValue];\n        _this.setOpenState(false, true);\n      }\n      _this.fireChange(value);\n      var inputValue = isCombobox(props) ? getPropValue(item, props.optionLabelProp) : '';\n      if (props.autoClearSearchValue) {\n        _this.setInputValue(inputValue, false);\n      }\n    };\n    _this.onMenuDeselect = function (_ref2) {\n      var item = _ref2.item,\n        domEvent = _ref2.domEvent;\n      if (domEvent.type === 'keydown' && domEvent.keyCode === KeyCode.ENTER) {\n        _this.removeSelected(getValuePropValue(item));\n        return;\n      }\n      if (domEvent.type === 'click') {\n        _this.removeSelected(getValuePropValue(item));\n      }\n      var props = _this.props;\n      if (props.autoClearSearchValue) {\n        _this.setInputValue('', false);\n      }\n    };\n    _this.onArrowClick = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      if (!_this.props.disabled) {\n        _this.setOpenState(!_this.state.open, !_this.state.open);\n      }\n    };\n    _this.onPlaceholderClick = function () {\n      if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n        _this.getInputDOMNode().focus();\n      }\n    };\n    _this.onOuterFocus = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n      _this.clearBlurTime();\n      if (!isMultipleOrTagsOrCombobox(_this.props) && e.target === _this.getInputDOMNode()) {\n        return;\n      }\n      if (_this._focused) {\n        return;\n      }\n      _this._focused = true;\n      _this.updateFocusClassName(); // only effect multiple or tag mode\n\n      if (!isMultipleOrTags(_this.props) || !_this._mouseDown) {\n        _this.timeoutFocus();\n      }\n    };\n    _this.onPopupFocus = function () {\n      // fix ie scrollbar, focus element again\n      _this.maybeFocus(true, true);\n    };\n    _this.onOuterBlur = function (e) {\n      if (_this.props.disabled) {\n        e.preventDefault();\n        return;\n      }\n      _this.blurTimer = window.setTimeout(function () {\n        _this._focused = false;\n        _this.updateFocusClassName();\n        var props = _this.props;\n        var value = _this.state.value;\n        var inputValue = _this.state.inputValue;\n        if (isSingleMode(props) && props.showSearch && inputValue && props.defaultActiveFirstOption) {\n          var options = _this._options || [];\n          if (options.length) {\n            var firstOption = findFirstMenuItem(options);\n            if (firstOption) {\n              value = [getValuePropValue(firstOption)];\n              _this.fireChange(value);\n            }\n          }\n        } else if (isMultipleOrTags(props) && inputValue) {\n          if (_this._mouseDown) {\n            // need update dropmenu when not blur\n            _this.setInputValue('');\n          } else {\n            // why not use setState?\n            // https://github.com/ant-design/ant-design/issues/14262\n            _this.state.inputValue = '';\n            if (_this.getInputDOMNode && _this.getInputDOMNode()) {\n              _this.getInputDOMNode().value = '';\n            }\n          }\n          var tmpValue = _this.getValueByInput(inputValue);\n          if (tmpValue !== undefined) {\n            value = tmpValue;\n            _this.fireChange(value);\n          }\n        } // if click the rest space of Select in multiple mode\n\n        if (isMultipleOrTags(props) && _this._mouseDown) {\n          _this.maybeFocus(true, true);\n          _this._mouseDown = false;\n          return;\n        }\n        _this.setOpenState(false);\n        if (props.onBlur) {\n          props.onBlur(_this.getVLForOnChange(value));\n        }\n      }, 10);\n    };\n    _this.onClearSelection = function (event) {\n      var props = _this.props;\n      var state = _this.state;\n      if (props.disabled) {\n        return;\n      }\n      var inputValue = state.inputValue;\n      var value = state.value;\n      event.stopPropagation();\n      if (inputValue || value.length) {\n        if (value.length) {\n          _this.fireChange([]);\n        }\n        _this.setOpenState(false, true);\n        if (inputValue) {\n          _this.setInputValue('');\n        }\n      }\n    };\n    _this.onChoiceAnimationLeave = function () {\n      _this.forcePopupAlign();\n    };\n    _this.getOptionInfoBySingleValue = function (value, optionsInfo) {\n      var info;\n      optionsInfo = optionsInfo || _this.state.optionsInfo;\n      if (optionsInfo[getMapKey(value)]) {\n        info = optionsInfo[getMapKey(value)];\n      }\n      if (info) {\n        return info;\n      }\n      var defaultLabel = value;\n      if (_this.props.labelInValue) {\n        var label = getLabelFromPropsValue(_this.props.value, value);\n        if (label !== undefined) {\n          defaultLabel = label;\n        }\n      }\n      var defaultInfo = {\n        option: React.createElement(Option, {\n          value: value,\n          key: value\n        }, value),\n        value: value,\n        label: defaultLabel\n      };\n      return defaultInfo;\n    };\n    _this.getOptionBySingleValue = function (value) {\n      var _this$getOptionInfoBy = _this.getOptionInfoBySingleValue(value),\n        option = _this$getOptionInfoBy.option;\n      return option;\n    };\n    _this.getOptionsBySingleValue = function (values) {\n      return values.map(function (value) {\n        return _this.getOptionBySingleValue(value);\n      });\n    };\n    _this.getValueByLabel = function (label) {\n      if (label === undefined) {\n        return null;\n      }\n      var value = null;\n      Object.keys(_this.state.optionsInfo).forEach(function (key) {\n        var info = _this.state.optionsInfo[key];\n        var disabled = info.disabled;\n        if (disabled) {\n          return;\n        }\n        var oldLable = toArray(info.label);\n        if (oldLable && oldLable.join('') === label) {\n          value = info.value;\n        }\n      });\n      return value;\n    };\n    _this.getVLBySingleValue = function (value) {\n      if (_this.props.labelInValue) {\n        return {\n          key: value,\n          label: _this.getLabelBySingleValue(value)\n        };\n      }\n      return value;\n    };\n    _this.getVLForOnChange = function (vlsS) {\n      var vls = vlsS;\n      if (vls !== undefined) {\n        if (!_this.props.labelInValue) {\n          vls = vls.map(function (v) {\n            return v;\n          });\n        } else {\n          vls = vls.map(function (vl) {\n            return {\n              key: vl,\n              label: _this.getLabelBySingleValue(vl)\n            };\n          });\n        }\n        return isMultipleOrTags(_this.props) ? vls : vls[0];\n      }\n      return vls;\n    };\n    _this.getLabelBySingleValue = function (value, optionsInfo) {\n      var _this$getOptionInfoBy2 = _this.getOptionInfoBySingleValue(value, optionsInfo),\n        label = _this$getOptionInfoBy2.label;\n      return label;\n    };\n    _this.getDropdownContainer = function () {\n      if (!_this.dropdownContainer) {\n        _this.dropdownContainer = document.createElement('div');\n        document.body.appendChild(_this.dropdownContainer);\n      }\n      return _this.dropdownContainer;\n    };\n    _this.getPlaceholderElement = function () {\n      var props = _this.props;\n      var state = _this.state;\n      var hidden = false;\n      if (state.inputValue) {\n        hidden = true;\n      }\n      var value = state.value;\n      if (value.length) {\n        hidden = true;\n      }\n      if (isCombobox(props) && value.length === 1 && state.value && !state.value[0]) {\n        hidden = false;\n      }\n      var placeholder = props.placeholder;\n      if (placeholder) {\n        return React.createElement(\"div\", _extends({\n          onMouseDown: preventDefaultEvent,\n          style: _extends({\n            display: hidden ? 'none' : 'block'\n          }, UNSELECTABLE_STYLE)\n        }, UNSELECTABLE_ATTRIBUTE, {\n          onClick: _this.onPlaceholderClick,\n          className: \"\".concat(props.prefixCls, \"-selection__placeholder\")\n        }), placeholder);\n      }\n      return null;\n    };\n    _this.getInputElement = function () {\n      var props = _this.props;\n      var defaultInput = React.createElement(\"input\", {\n        id: props.id,\n        autoComplete: \"off\"\n      }); // tslint:disable-next-line:typedef-whitespace\n\n      var inputElement = props.getInputElement ? props.getInputElement() : defaultInput;\n      var inputCls = classnames(inputElement.props.className, _defineProperty({}, \"\".concat(props.prefixCls, \"-search__field\"), true)); // https://github.com/ant-design/ant-design/issues/4992#issuecomment-281542159\n      // Add space to the end of the inputValue as the width measurement tolerance\n\n      return React.createElement(\"div\", {\n        className: \"\".concat(props.prefixCls, \"-search__field__wrap\")\n      }, React.cloneElement(inputElement, {\n        ref: _this.saveInputRef,\n        onChange: _this.onInputChange,\n        onKeyDown: chaining(_this.onInputKeyDown, inputElement.props.onKeyDown, _this.props.onInputKeyDown),\n        value: _this.state.inputValue,\n        disabled: props.disabled,\n        className: inputCls\n      }), React.createElement(\"span\", {\n        ref: _this.saveInputMirrorRef,\n        className: \"\".concat(props.prefixCls, \"-search__field__mirror\")\n      }, _this.state.inputValue, \"\\xA0\"));\n    };\n    _this.getInputDOMNode = function () {\n      return _this.topCtrlRef ? _this.topCtrlRef.querySelector('input,textarea,div[contentEditable]') : _this.inputRef;\n    };\n    _this.getInputMirrorDOMNode = function () {\n      return _this.inputMirrorRef;\n    };\n    _this.getPopupDOMNode = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getPopupDOMNode();\n      }\n    };\n    _this.getPopupMenuComponent = function () {\n      if (_this.selectTriggerRef) {\n        return _this.selectTriggerRef.getInnerMenu();\n      }\n    };\n    _this.setOpenState = function (open, needFocus) {\n      var props = _this.props;\n      var state = _this.state;\n      if (state.open === open) {\n        _this.maybeFocus(open, !!needFocus);\n        return;\n      }\n      if (_this.props.onDropdownVisibleChange) {\n        _this.props.onDropdownVisibleChange(open);\n      }\n      var nextState = {\n        open: open,\n        backfillValue: ''\n      }; // clear search input value when open is false in singleMode.\n\n      if (!open && isSingleMode(props) && props.showSearch) {\n        _this.setInputValue('', false);\n      }\n      if (!open) {\n        _this.maybeFocus(open, !!needFocus);\n      }\n      _this.setState(_extends({\n        open: open\n      }, nextState), function () {\n        if (open) {\n          _this.maybeFocus(open, !!needFocus);\n        }\n      });\n    };\n    _this.setInputValue = function (inputValue) {\n      var fireSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (inputValue !== _this.state.inputValue) {\n        _this.setState({\n          inputValue: inputValue\n        }, _this.forcePopupAlign);\n        if (fireSearch && _this.props.onSearch) {\n          _this.props.onSearch(inputValue);\n        }\n      }\n    };\n    _this.getValueByInput = function (str) {\n      var _this$props2 = _this.props,\n        multiple = _this$props2.multiple,\n        tokenSeparators = _this$props2.tokenSeparators;\n      var nextValue = _this.state.value;\n      var hasNewValue = false;\n      splitBySeparators(str, tokenSeparators).forEach(function (label) {\n        var selectedValue = [label];\n        if (multiple) {\n          var value = _this.getValueByLabel(label);\n          if (value && findIndexInValueBySingleValue(nextValue, value) === -1) {\n            nextValue = nextValue.concat(value);\n            hasNewValue = true;\n            _this.fireSelect(value);\n          }\n        } else if (findIndexInValueBySingleValue(nextValue, label) === -1) {\n          nextValue = nextValue.concat(selectedValue);\n          hasNewValue = true;\n          _this.fireSelect(label);\n        }\n      });\n      return hasNewValue ? nextValue : undefined;\n    };\n    _this.getRealOpenState = function (state) {\n      // tslint:disable-next-line:variable-name\n      var _open = _this.props.open;\n      if (typeof _open === 'boolean') {\n        return _open;\n      }\n      var open = (state || _this.state).open;\n      var options = _this._options || [];\n      if (isMultipleOrTagsOrCombobox(_this.props) || !_this.props.showSearch) {\n        if (open && !options.length) {\n          open = false;\n        }\n      }\n      return open;\n    };\n    _this.markMouseDown = function () {\n      _this._mouseDown = true;\n    };\n    _this.markMouseLeave = function () {\n      _this._mouseDown = false;\n    };\n    _this.handleBackfill = function (item) {\n      if (!_this.props.backfill || !(isSingleMode(_this.props) || isCombobox(_this.props))) {\n        return;\n      }\n      var key = getValuePropValue(item);\n      if (isCombobox(_this.props)) {\n        _this.setInputValue(key, false);\n      }\n      _this.setState({\n        value: [key],\n        backfillValue: key\n      });\n    };\n    _this.filterOption = function (input, child) {\n      var defaultFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultFilterFn;\n      var value = _this.state.value;\n      var lastValue = value[value.length - 1];\n      if (!input || lastValue && lastValue === _this.state.backfillValue) {\n        return true;\n      }\n      var filterFn = _this.props.filterOption;\n      if ('filterOption' in _this.props) {\n        if (filterFn === true) {\n          filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n        }\n      } else {\n        filterFn = defaultFilter.bind(_assertThisInitialized(_this));\n      }\n      if (!filterFn) {\n        return true;\n      } else if (typeof filterFn === 'function') {\n        return filterFn.call(_assertThisInitialized(_this), input, child);\n      } else if (child.props.disabled) {\n        return false;\n      }\n      return true;\n    };\n    _this.timeoutFocus = function () {\n      if (_this.focusTimer) {\n        _this.clearFocusTime();\n      }\n      _this.focusTimer = window.setTimeout(function () {\n        if (_this.props.onFocus) {\n          _this.props.onFocus();\n        }\n      }, 10);\n    };\n    _this.clearFocusTime = function () {\n      if (_this.focusTimer) {\n        clearTimeout(_this.focusTimer);\n        _this.focusTimer = null;\n      }\n    };\n    _this.clearBlurTime = function () {\n      if (_this.blurTimer) {\n        clearTimeout(_this.blurTimer);\n        _this.blurTimer = null;\n      }\n    };\n    _this.updateFocusClassName = function () {\n      var rootRef = _this.rootRef;\n      var props = _this.props; // avoid setState and its side effect\n\n      if (_this._focused) {\n        classes(rootRef).add(\"\".concat(props.prefixCls, \"-focused\"));\n      } else {\n        classes(rootRef).remove(\"\".concat(props.prefixCls, \"-focused\"));\n      }\n    };\n    _this.maybeFocus = function (open, needFocus) {\n      if (needFocus || open) {\n        var input = _this.getInputDOMNode();\n        var _document = document,\n          activeElement = _document.activeElement;\n        if (input && (open || isMultipleOrTagsOrCombobox(_this.props))) {\n          if (activeElement !== input) {\n            input.focus();\n            _this._focused = true;\n          }\n        } else if (activeElement !== _this.selectionRef && _this.selectionRef) {\n          _this.selectionRef.focus();\n          _this._focused = true;\n        }\n      }\n    };\n    _this.removeSelected = function (selectedKey, e) {\n      var props = _this.props;\n      if (props.disabled || _this.isChildDisabled(selectedKey)) {\n        return;\n      } // Do not trigger Trigger popup\n\n      if (e && e.stopPropagation) {\n        e.stopPropagation();\n      }\n      var oldValue = _this.state.value;\n      var value = oldValue.filter(function (singleValue) {\n        return singleValue !== selectedKey;\n      });\n      var canMultiple = isMultipleOrTags(props);\n      if (canMultiple) {\n        var event = selectedKey;\n        if (props.labelInValue) {\n          event = {\n            key: selectedKey,\n            label: _this.getLabelBySingleValue(selectedKey)\n          };\n        }\n        if (props.onDeselect) {\n          props.onDeselect(event, _this.getOptionBySingleValue(selectedKey));\n        }\n      }\n      _this.fireChange(value);\n    };\n    _this.openIfHasChildren = function () {\n      var props = _this.props;\n      if (React.Children.count(props.children) || isSingleMode(props)) {\n        _this.setOpenState(true);\n      }\n    };\n    _this.fireSelect = function (value) {\n      if (_this.props.onSelect) {\n        _this.props.onSelect(_this.getVLBySingleValue(value), _this.getOptionBySingleValue(value));\n      }\n    };\n    _this.fireChange = function (value) {\n      var props = _this.props;\n      if (!('value' in props)) {\n        _this.setState({\n          value: value\n        }, _this.forcePopupAlign);\n      }\n      var vls = _this.getVLForOnChange(value);\n      var options = _this.getOptionsBySingleValue(value);\n      if (props.onChange) {\n        props.onChange(vls, isMultipleOrTags(_this.props) ? options : options[0]);\n      }\n    };\n    _this.isChildDisabled = function (key) {\n      return childrenToArray(_this.props.children).some(function (child) {\n        var childValue = getValuePropValue(child);\n        return childValue === key && child.props && child.props.disabled;\n      });\n    };\n    _this.forcePopupAlign = function () {\n      if (!_this.state.open) {\n        return;\n      }\n      if (_this.selectTriggerRef && _this.selectTriggerRef.triggerRef) {\n        _this.selectTriggerRef.triggerRef.forcePopupAlign();\n      }\n    };\n    _this.renderFilterOptions = function () {\n      var inputValue = _this.state.inputValue;\n      var _this$props3 = _this.props,\n        children = _this$props3.children,\n        tags = _this$props3.tags,\n        notFoundContent = _this$props3.notFoundContent;\n      var menuItems = [];\n      var childrenKeys = [];\n      var empty = false;\n      var options = _this.renderFilterOptionsFromChildren(children, childrenKeys, menuItems);\n      if (tags) {\n        // tags value must be string\n        var value = _this.state.value;\n        value = value.filter(function (singleValue) {\n          return childrenKeys.indexOf(singleValue) === -1 && (!inputValue || String(singleValue).indexOf(String(inputValue)) > -1);\n        }); // sort by length\n\n        value.sort(function (val1, val2) {\n          return val1.length - val2.length;\n        });\n        value.forEach(function (singleValue) {\n          var key = singleValue;\n          var menuItem = React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: key,\n            key: key\n          }, key);\n          options.push(menuItem);\n          menuItems.push(menuItem);\n        }); // ref: https://github.com/ant-design/ant-design/issues/14090\n\n        if (inputValue && menuItems.every(function (option) {\n          return getValuePropValue(option) !== inputValue;\n        })) {\n          options.unshift(React.createElement(MenuItem, {\n            style: UNSELECTABLE_STYLE,\n            role: \"option\",\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: inputValue,\n            key: inputValue\n          }, inputValue));\n        }\n      }\n      if (!options.length && notFoundContent) {\n        empty = true;\n        options = [React.createElement(MenuItem, {\n          style: UNSELECTABLE_STYLE,\n          attribute: UNSELECTABLE_ATTRIBUTE,\n          disabled: true,\n          role: \"option\",\n          value: \"NOT_FOUND\",\n          key: \"NOT_FOUND\"\n        }, notFoundContent)];\n      }\n      return {\n        empty: empty,\n        options: options\n      };\n    };\n    _this.renderFilterOptionsFromChildren = function (children, childrenKeys, menuItems) {\n      var sel = [];\n      var props = _this.props;\n      var inputValue = _this.state.inputValue;\n      var tags = props.tags;\n      React.Children.forEach(children, function (child) {\n        if (!child) {\n          return;\n        }\n        var type = child.type;\n        if (type.isSelectOptGroup) {\n          var label = child.props.label;\n          var key = child.key;\n          if (!key && typeof label === 'string') {\n            key = label;\n          } else if (!label && key) {\n            label = key;\n          } // Match option group label\n\n          if (inputValue && _this.filterOption(inputValue, child)) {\n            var innerItems = childrenToArray(child.props.children).map(function (subChild) {\n              var childValueSub = getValuePropValue(subChild) || subChild.key;\n              return React.createElement(MenuItem, _extends({\n                key: childValueSub,\n                value: childValueSub\n              }, subChild.props));\n            });\n            sel.push(React.createElement(MenuItemGroup, {\n              key: key,\n              title: label\n            }, innerItems)); // Not match\n          } else {\n            var _innerItems = _this.renderFilterOptionsFromChildren(child.props.children, childrenKeys, menuItems);\n            if (_innerItems.length) {\n              sel.push(React.createElement(MenuItemGroup, {\n                key: key,\n                title: label\n              }, _innerItems));\n            }\n          }\n          return;\n        }\n        warning(type.isSelectOption, 'the children of `Select` should be `Select.Option` or `Select.OptGroup`, ' + \"instead of `\".concat(type.name || type.displayName || child.type, \"`.\"));\n        var childValue = getValuePropValue(child);\n        validateOptionValue(childValue, _this.props);\n        if (_this.filterOption(inputValue, child)) {\n          var menuItem = React.createElement(MenuItem, _extends({\n            style: UNSELECTABLE_STYLE,\n            attribute: UNSELECTABLE_ATTRIBUTE,\n            value: childValue,\n            key: childValue,\n            role: \"option\"\n          }, child.props));\n          sel.push(menuItem);\n          menuItems.push(menuItem);\n        }\n        if (tags) {\n          childrenKeys.push(childValue);\n        }\n      });\n      return sel;\n    };\n    _this.renderTopControlNode = function () {\n      var _this$state = _this.state,\n        open = _this$state.open,\n        inputValue = _this$state.inputValue;\n      var value = _this.state.value;\n      var props = _this.props;\n      var choiceTransitionName = props.choiceTransitionName,\n        prefixCls = props.prefixCls,\n        maxTagTextLength = props.maxTagTextLength,\n        maxTagCount = props.maxTagCount,\n        showSearch = props.showSearch,\n        removeIcon = props.removeIcon;\n      var maxTagPlaceholder = props.maxTagPlaceholder;\n      var className = \"\".concat(prefixCls, \"-selection__rendered\"); // search input is inside topControlNode in single, multiple & combobox. 2016/04/13\n\n      var innerNode = null;\n      if (isSingleMode(props)) {\n        var selectedValue = null;\n        if (value.length) {\n          var showSelectedValue = false;\n          var opacity = 1;\n          if (!showSearch) {\n            showSelectedValue = true;\n          } else if (open) {\n            showSelectedValue = !inputValue;\n            if (showSelectedValue) {\n              opacity = 0.4;\n            }\n          } else {\n            showSelectedValue = true;\n          }\n          var singleValue = value[0];\n          var _this$getOptionInfoBy3 = _this.getOptionInfoBySingleValue(singleValue),\n            label = _this$getOptionInfoBy3.label,\n            title = _this$getOptionInfoBy3.title;\n          selectedValue = React.createElement(\"div\", {\n            key: \"value\",\n            className: \"\".concat(prefixCls, \"-selection-selected-value\"),\n            title: toTitle(title || label),\n            style: {\n              display: showSelectedValue ? 'block' : 'none',\n              opacity: opacity\n            }\n          }, label);\n        }\n        if (!showSearch) {\n          innerNode = [selectedValue];\n        } else {\n          innerNode = [selectedValue, React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n            key: \"input\",\n            style: {\n              display: open ? 'block' : 'none'\n            }\n          }, _this.getInputElement())];\n        }\n      } else {\n        var selectedValueNodes = [];\n        var limitedCountValue = value;\n        var maxTagPlaceholderEl;\n        if (maxTagCount !== undefined && value.length > maxTagCount) {\n          limitedCountValue = limitedCountValue.slice(0, maxTagCount);\n          var omittedValues = _this.getVLForOnChange(value.slice(maxTagCount, value.length));\n          var content = \"+ \".concat(value.length - maxTagCount, \" ...\");\n          if (maxTagPlaceholder) {\n            content = typeof maxTagPlaceholder === 'function' ? maxTagPlaceholder(omittedValues) : maxTagPlaceholder;\n          }\n          maxTagPlaceholderEl = React.createElement(\"li\", _extends({\n            style: UNSELECTABLE_STYLE\n          }, UNSELECTABLE_ATTRIBUTE, {\n            role: \"presentation\",\n            onMouseDown: preventDefaultEvent,\n            className: \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\"),\n            key: \"maxTagPlaceholder\",\n            title: toTitle(content)\n          }), React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-selection__choice__content\")\n          }, content));\n        }\n        if (isMultipleOrTags(props)) {\n          selectedValueNodes = limitedCountValue.map(function (singleValue) {\n            var info = _this.getOptionInfoBySingleValue(singleValue);\n            var content = info.label;\n            var title = info.title || content;\n            if (maxTagTextLength && typeof content === 'string' && content.length > maxTagTextLength) {\n              content = \"\".concat(content.slice(0, maxTagTextLength), \"...\");\n            }\n            var disabled = _this.isChildDisabled(singleValue);\n            var choiceClassName = disabled ? \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\") : \"\".concat(prefixCls, \"-selection__choice\");\n            return React.createElement(\"li\", _extends({\n              style: UNSELECTABLE_STYLE\n            }, UNSELECTABLE_ATTRIBUTE, {\n              onMouseDown: preventDefaultEvent,\n              className: choiceClassName,\n              role: \"presentation\",\n              key: singleValue || SELECT_EMPTY_VALUE_KEY,\n              title: toTitle(title)\n            }), React.createElement(\"div\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__content\")\n            }, content), disabled ? null : React.createElement(\"span\", {\n              onClick: function onClick(event) {\n                _this.removeSelected(singleValue, event);\n              },\n              className: \"\".concat(prefixCls, \"-selection__choice__remove\")\n            }, removeIcon || React.createElement(\"i\", {\n              className: \"\".concat(prefixCls, \"-selection__choice__remove-icon\")\n            }, \"\\xD7\")));\n          });\n        }\n        if (maxTagPlaceholderEl) {\n          selectedValueNodes.push(maxTagPlaceholderEl);\n        }\n        selectedValueNodes.push(React.createElement(\"li\", {\n          className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\n          key: \"__input\"\n        }, _this.getInputElement()));\n        if (isMultipleOrTags(props) && choiceTransitionName) {\n          innerNode = React.createElement(Animate, {\n            onLeave: _this.onChoiceAnimationLeave,\n            component: \"ul\",\n            transitionName: choiceTransitionName\n          }, selectedValueNodes);\n        } else {\n          innerNode = React.createElement(\"ul\", null, selectedValueNodes);\n        }\n      }\n      return React.createElement(\"div\", {\n        className: className,\n        ref: _this.saveTopCtrlRef\n      }, _this.getPlaceholderElement(), innerNode);\n    };\n    var optionsInfo = Select.getOptionsInfoFromProps(props);\n    if (props.tags && typeof props.filterOption !== 'function') {\n      var isDisabledExist = Object.keys(optionsInfo).some(function (key) {\n        return optionsInfo[key].disabled;\n      });\n      warning(!isDisabledExist, 'Please avoid setting option to disabled in tags mode since user can always type text as tag.');\n    }\n    _this.state = {\n      value: Select.getValueFromProps(props, true),\n      inputValue: props.combobox ? Select.getInputValueForCombobox(props, optionsInfo, true) : '',\n      open: props.defaultOpen,\n      optionsInfo: optionsInfo,\n      backfillValue: '',\n      // a flag for aviod redundant getOptionsInfoFromProps call\n      skipBuildOptionsInfo: true,\n      ariaId: ''\n    };\n    _this.saveInputRef = saveRef(_assertThisInitialized(_this), 'inputRef');\n    _this.saveInputMirrorRef = saveRef(_assertThisInitialized(_this), 'inputMirrorRef');\n    _this.saveTopCtrlRef = saveRef(_assertThisInitialized(_this), 'topCtrlRef');\n    _this.saveSelectTriggerRef = saveRef(_assertThisInitialized(_this), 'selectTriggerRef');\n    _this.saveRootRef = saveRef(_assertThisInitialized(_this), 'rootRef');\n    _this.saveSelectionRef = saveRef(_assertThisInitialized(_this), 'selectionRef');\n    return _this;\n  }\n  _createClass(Select, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // when defaultOpen is true, we should auto focus search input\n      // https://github.com/ant-design/ant-design/issues/14254\n      if (this.props.autoFocus || this.state.open) {\n        this.focus();\n      }\n      this.setState({\n        ariaId: generateUUID()\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (isMultipleOrTags(this.props)) {\n        var inputNode = this.getInputDOMNode();\n        var mirrorNode = this.getInputMirrorDOMNode();\n        if (inputNode && inputNode.value && mirrorNode) {\n          inputNode.style.width = '';\n          inputNode.style.width = \"\".concat(mirrorNode.clientWidth, \"px\");\n        } else if (inputNode) {\n          inputNode.style.width = '';\n        }\n      }\n      this.forcePopupAlign();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.clearFocusTime();\n      this.clearBlurTime();\n      if (this.dropdownContainer) {\n        ReactDOM.unmountComponentAtNode(this.dropdownContainer);\n        document.body.removeChild(this.dropdownContainer);\n        this.dropdownContainer = null;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.focus();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (isSingleMode(this.props) && this.selectionRef) {\n        this.selectionRef.blur();\n      } else if (this.getInputDOMNode()) {\n        this.getInputDOMNode().blur();\n      }\n    }\n  }, {\n    key: \"renderArrow\",\n    value: function renderArrow(multiple) {\n      // showArrow : Set to true if not multiple by default but keep set value.\n      var _this$props4 = this.props,\n        _this$props4$showArro = _this$props4.showArrow,\n        showArrow = _this$props4$showArro === void 0 ? !multiple : _this$props4$showArro,\n        loading = _this$props4.loading,\n        inputIcon = _this$props4.inputIcon,\n        prefixCls = _this$props4.prefixCls;\n      if (!showArrow && !loading) {\n        return null;\n      } // if loading  have loading icon\n\n      var defaultIcon = loading ? React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-loading\")\n      }) : React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow-icon\")\n      });\n      return React.createElement(\"span\", _extends({\n        key: \"arrow\",\n        className: \"\".concat(prefixCls, \"-arrow\"),\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onArrowClick\n      }), inputIcon || defaultIcon);\n    }\n  }, {\n    key: \"renderClear\",\n    value: function renderClear() {\n      var _this$props5 = this.props,\n        prefixCls = _this$props5.prefixCls,\n        allowClear = _this$props5.allowClear,\n        clearIcon = _this$props5.clearIcon;\n      var inputValue = this.state.inputValue;\n      var value = this.state.value;\n      var clear = React.createElement(\"span\", _extends({\n        key: \"clear\",\n        className: \"\".concat(prefixCls, \"-selection__clear\"),\n        onMouseDown: preventDefaultEvent,\n        style: UNSELECTABLE_STYLE\n      }, UNSELECTABLE_ATTRIBUTE, {\n        onClick: this.onClearSelection\n      }), clearIcon || React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-selection__clear-icon\")\n      }, \"\\xD7\"));\n      if (!allowClear) {\n        return null;\n      }\n      if (isCombobox(this.props)) {\n        if (inputValue) {\n          return clear;\n        }\n        return null;\n      }\n      if (inputValue || value.length) {\n        return clear;\n      }\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _rootCls;\n      var props = this.props;\n      var multiple = isMultipleOrTags(props); // Default set showArrow to true if not set (not set directly in defaultProps to handle multiple case)\n\n      var _props$showArrow = props.showArrow,\n        showArrow = _props$showArrow === void 0 ? true : _props$showArrow;\n      var state = this.state;\n      var className = props.className,\n        disabled = props.disabled,\n        prefixCls = props.prefixCls,\n        loading = props.loading;\n      var ctrlNode = this.renderTopControlNode();\n      var _this$state2 = this.state,\n        open = _this$state2.open,\n        ariaId = _this$state2.ariaId;\n      if (open) {\n        var filterOptions = this.renderFilterOptions();\n        this._empty = filterOptions.empty;\n        this._options = filterOptions.options;\n      }\n      var realOpen = this.getRealOpenState();\n      var empty = this._empty;\n      var options = this._options || [];\n      var dataOrAriaAttributeProps = {};\n      Object.keys(props).forEach(function (key) {\n        if (Object.prototype.hasOwnProperty.call(props, key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\n          dataOrAriaAttributeProps[key] = props[key];\n        }\n      }); // for (const key in props) {\n      //   if (\n      //     Object.prototype.hasOwnProperty.call(props, key) &&\n      //     (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')\n      //   ) {\n      //     dataOrAriaAttributeProps[key] = props[key];\n      //   }\n      // }\n\n      var extraSelectionProps = _extends({}, dataOrAriaAttributeProps);\n      if (!isMultipleOrTagsOrCombobox(props)) {\n        extraSelectionProps = _extends({}, extraSelectionProps, {\n          onKeyDown: this.onKeyDown,\n          tabIndex: props.disabled ? -1 : props.tabIndex\n        });\n      }\n      var rootCls = (_rootCls = {}, _defineProperty(_rootCls, className, !!className), _defineProperty(_rootCls, prefixCls, 1), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-focused\"), open || !!this._focused), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-combobox\"), isCombobox(props)), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-enabled\"), !disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-allow-clear\"), !!props.allowClear), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-no-arrow\"), !showArrow), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-loading\"), !!loading), _rootCls);\n      return React.createElement(SelectTrigger, {\n        onPopupFocus: this.onPopupFocus,\n        onMouseEnter: this.props.onMouseEnter,\n        onMouseLeave: this.props.onMouseLeave,\n        dropdownAlign: props.dropdownAlign,\n        dropdownClassName: props.dropdownClassName,\n        dropdownMatchSelectWidth: props.dropdownMatchSelectWidth,\n        defaultActiveFirstOption: props.defaultActiveFirstOption,\n        dropdownMenuStyle: props.dropdownMenuStyle,\n        transitionName: props.transitionName,\n        animation: props.animation,\n        prefixCls: props.prefixCls,\n        dropdownStyle: props.dropdownStyle,\n        combobox: props.combobox,\n        showSearch: props.showSearch,\n        options: options,\n        empty: empty,\n        multiple: multiple,\n        disabled: disabled,\n        visible: realOpen,\n        inputValue: state.inputValue,\n        value: state.value,\n        backfillValue: state.backfillValue,\n        firstActiveValue: props.firstActiveValue,\n        onDropdownVisibleChange: this.onDropdownVisibleChange,\n        getPopupContainer: props.getPopupContainer,\n        onMenuSelect: this.onMenuSelect,\n        onMenuDeselect: this.onMenuDeselect,\n        onPopupScroll: props.onPopupScroll,\n        showAction: props.showAction,\n        ref: this.saveSelectTriggerRef,\n        menuItemSelectedIcon: props.menuItemSelectedIcon,\n        dropdownRender: props.dropdownRender,\n        ariaId: ariaId\n      }, React.createElement(\"div\", {\n        id: props.id,\n        style: props.style,\n        ref: this.saveRootRef,\n        onBlur: this.onOuterBlur,\n        onFocus: this.onOuterFocus,\n        className: classnames(rootCls),\n        onMouseDown: this.markMouseDown,\n        onMouseUp: this.markMouseLeave,\n        onMouseOut: this.markMouseLeave\n      }, React.createElement(\"div\", _extends({\n        ref: this.saveSelectionRef,\n        key: \"selection\",\n        className: \"\".concat(prefixCls, \"-selection\\n            \").concat(prefixCls, \"-selection--\").concat(multiple ? 'multiple' : 'single'),\n        role: \"combobox\",\n        \"aria-autocomplete\": \"list\",\n        \"aria-haspopup\": \"true\",\n        \"aria-controls\": ariaId,\n        \"aria-expanded\": realOpen\n      }, extraSelectionProps), ctrlNode, this.renderClear(), this.renderArrow(!!multiple))));\n    }\n  }]);\n  return Select;\n}(React.Component);\nSelect.propTypes = SelectPropTypes;\nSelect.defaultProps = {\n  prefixCls: 'rc-select',\n  defaultOpen: false,\n  labelInValue: false,\n  defaultActiveFirstOption: true,\n  showSearch: true,\n  allowClear: false,\n  placeholder: '',\n  onChange: noop,\n  onFocus: noop,\n  onBlur: noop,\n  onSelect: noop,\n  onSearch: noop,\n  onDeselect: noop,\n  onInputKeyDown: noop,\n  dropdownMatchSelectWidth: true,\n  dropdownStyle: {},\n  dropdownMenuStyle: {},\n  optionFilterProp: 'value',\n  optionLabelProp: 'value',\n  notFoundContent: 'Not Found',\n  backfill: false,\n  showAction: ['click'],\n  tokenSeparators: [],\n  autoClearSearchValue: true,\n  tabIndex: 0,\n  dropdownRender: function dropdownRender(menu) {\n    return menu;\n  }\n};\nSelect.getDerivedStateFromProps = function (nextProps, prevState) {\n  var optionsInfo = prevState.skipBuildOptionsInfo ? prevState.optionsInfo : Select.getOptionsInfoFromProps(nextProps, prevState);\n  var newState = {\n    optionsInfo: optionsInfo,\n    skipBuildOptionsInfo: false\n  };\n  if ('open' in nextProps) {\n    newState.open = nextProps.open;\n  }\n  if ('value' in nextProps) {\n    var value = Select.getValueFromProps(nextProps);\n    newState.value = value;\n    if (nextProps.combobox) {\n      newState.inputValue = Select.getInputValueForCombobox(nextProps, optionsInfo);\n    }\n  }\n  return newState;\n};\nSelect.getOptionsFromChildren = function (children) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  React.Children.forEach(children, function (child) {\n    if (!child) {\n      return;\n    }\n    var type = child.type;\n    if (type.isSelectOptGroup) {\n      Select.getOptionsFromChildren(child.props.children, options);\n    } else {\n      options.push(child);\n    }\n  });\n  return options;\n};\nSelect.getInputValueForCombobox = function (props, optionsInfo, useDefaultValue) {\n  var value = [];\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n  if (value.length) {\n    value = value[0];\n  } else {\n    return '';\n  }\n  var label = value;\n  if (props.labelInValue) {\n    label = value.label;\n  } else if (optionsInfo[getMapKey(value)]) {\n    label = optionsInfo[getMapKey(value)].label;\n  }\n  if (label === undefined) {\n    label = '';\n  }\n  return label;\n};\nSelect.getLabelFromOption = function (props, option) {\n  return getPropValue(option, props.optionLabelProp);\n};\nSelect.getOptionsInfoFromProps = function (props, preState) {\n  var options = Select.getOptionsFromChildren(props.children);\n  var optionsInfo = {};\n  options.forEach(function (option) {\n    var singleValue = getValuePropValue(option);\n    optionsInfo[getMapKey(singleValue)] = {\n      option: option,\n      value: singleValue,\n      label: Select.getLabelFromOption(props, option),\n      title: option.props.title,\n      disabled: option.props.disabled\n    };\n  });\n  if (preState) {\n    // keep option info in pre state value.\n    var oldOptionsInfo = preState.optionsInfo;\n    var value = preState.value;\n    if (value) {\n      value.forEach(function (v) {\n        var key = getMapKey(v);\n        if (!optionsInfo[key] && oldOptionsInfo[key] !== undefined) {\n          optionsInfo[key] = oldOptionsInfo[key];\n        }\n      });\n    }\n  }\n  return optionsInfo;\n};\nSelect.getValueFromProps = function (props, useDefaultValue) {\n  var value = [];\n  if ('value' in props && !useDefaultValue) {\n    value = toArray(props.value);\n  }\n  if ('defaultValue' in props && useDefaultValue) {\n    value = toArray(props.defaultValue);\n  }\n  if (props.labelInValue) {\n    value = value.map(function (v) {\n      return v.key;\n    });\n  }\n  return value;\n};\nSelect.displayName = 'Select';\npolyfill(Select);\nexport default Select;","map":{"version":3,"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","p","classnames","classes","Animate","Item","MenuItem","ItemGroup","MenuItemGroup","childrenToArray","KeyCode","React","ReactDOM","polyfill","warning","Option","SelectPropTypes","SelectTrigger","defaultFilterFn","findFirstMenuItem","findIndexInValueBySingleValue","generateUUID","getLabelFromPropsValue","getMapKey","getPropValue","getValuePropValue","includesSeparators","isCombobox","isMultipleOrTags","isMultipleOrTagsOrCombobox","isSingleMode","preventDefaultEvent","saveRef","splitBySeparators","toArray","toTitle","UNSELECTABLE_ATTRIBUTE","UNSELECTABLE_STYLE","validateOptionValue","SELECT_EMPTY_VALUE_KEY","noop","chaining","_len","fns","Array","_key","_len2","args","_key2","Select","_React$Component","_this","inputRef","inputMirrorRef","topCtrlRef","selectTriggerRef","rootRef","selectionRef","dropdownContainer","blurTimer","focusTimer","_focused","_mouseDown","_options","_empty","onInputChange","event","tokenSeparators","val","nextValue","getValueByInput","undefined","fireChange","setOpenState","setInputValue","setState","open","onDropdownVisibleChange","clearBlurTime","timeoutFocus","updateFocusClassName","onKeyDown","state","disabled","keyCode","getInputDOMNode","onInputKeyDown","ENTER","DOWN","preventDefault","SPACE","_this$props","combobox","isRealOpen","getRealOpenState","BACKSPACE","removeSelected","openIfHasChildren","stopPropagation","ESC","menu","getInnerMenu","handleBackfill","onMenuSelect","_ref","item","selectedValue","lastValue","fireSelect","concat","backfillValue","inputValue","optionLabelProp","autoClearSearchValue","onMenuDeselect","_ref2","domEvent","type","onArrowClick","e","onPlaceholderClick","focus","onOuterFocus","onPopupFocus","maybeFocus","onOuterBlur","window","setTimeout","showSearch","defaultActiveFirstOption","options","firstOption","tmpValue","onBlur","getVLForOnChange","onClearSelection","onChoiceAnimationLeave","forcePopupAlign","getOptionInfoBySingleValue","optionsInfo","info","defaultLabel","labelInValue","label","defaultInfo","option","createElement","getOptionBySingleValue","_this$getOptionInfoBy","getOptionsBySingleValue","values","map","getValueByLabel","keys","forEach","oldLable","join","getVLBySingleValue","getLabelBySingleValue","vlsS","vls","v","vl","_this$getOptionInfoBy2","getDropdownContainer","document","body","appendChild","getPlaceholderElement","hidden","placeholder","onMouseDown","style","display","onClick","className","prefixCls","getInputElement","defaultInput","id","autoComplete","inputElement","inputCls","cloneElement","ref","saveInputRef","onChange","saveInputMirrorRef","querySelector","getInputMirrorDOMNode","getPopupDOMNode","getPopupMenuComponent","needFocus","nextState","fireSearch","onSearch","str","_this$props2","multiple","hasNewValue","_open","markMouseDown","markMouseLeave","backfill","filterOption","input","child","defaultFilter","filterFn","bind","clearFocusTime","onFocus","clearTimeout","add","remove","_document","activeElement","selectedKey","isChildDisabled","oldValue","filter","singleValue","canMultiple","onDeselect","Children","count","children","onSelect","some","childValue","triggerRef","renderFilterOptions","_this$props3","tags","notFoundContent","menuItems","childrenKeys","empty","renderFilterOptionsFromChildren","indexOf","String","sort","val1","val2","menuItem","role","attribute","push","every","unshift","sel","isSelectOptGroup","innerItems","subChild","childValueSub","title","_innerItems","isSelectOption","name","displayName","renderTopControlNode","_this$state","choiceTransitionName","maxTagTextLength","maxTagCount","removeIcon","maxTagPlaceholder","innerNode","showSelectedValue","opacity","_this$getOptionInfoBy3","selectedValueNodes","limitedCountValue","maxTagPlaceholderEl","slice","omittedValues","content","choiceClassName","onLeave","component","transitionName","saveTopCtrlRef","getOptionsInfoFromProps","isDisabledExist","getValueFromProps","getInputValueForCombobox","defaultOpen","skipBuildOptionsInfo","ariaId","saveSelectTriggerRef","saveRootRef","saveSelectionRef","componentDidMount","autoFocus","componentDidUpdate","inputNode","mirrorNode","width","clientWidth","componentWillUnmount","unmountComponentAtNode","removeChild","blur","renderArrow","_this$props4","_this$props4$showArro","showArrow","loading","inputIcon","defaultIcon","renderClear","_this$props5","allowClear","clearIcon","clear","render","_rootCls","_props$showArrow","ctrlNode","_this$state2","filterOptions","realOpen","dataOrAriaAttributeProps","substr","extraSelectionProps","tabIndex","rootCls","onMouseEnter","onMouseLeave","dropdownAlign","dropdownClassName","dropdownMatchSelectWidth","dropdownMenuStyle","animation","dropdownStyle","visible","firstActiveValue","getPopupContainer","onPopupScroll","showAction","menuItemSelectedIcon","dropdownRender","onMouseUp","onMouseOut","Component","propTypes","defaultProps","optionFilterProp","getDerivedStateFromProps","nextProps","prevState","newState","getOptionsFromChildren","useDefaultValue","defaultValue","getLabelFromOption","preState","oldOptionsInfo"],"sources":["C:/Users/ajayg/Desktop/vssample/stock_mocker/client/node_modules/rc-select/es/Select.js"],"sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\r\n\r\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\r\n\r\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\r\n\r\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\r\n\r\nimport classnames from 'classnames';\r\nimport classes from 'component-classes';\r\nimport Animate from 'rc-animate';\r\nimport { Item as MenuItem, ItemGroup as MenuItemGroup } from 'rc-menu';\r\nimport childrenToArray from \"rc-util/es/Children/toArray\";\r\nimport KeyCode from \"rc-util/es/KeyCode\";\r\nimport * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport { polyfill } from 'react-lifecycles-compat';\r\nimport warning from 'warning';\r\nimport Option from './Option';\r\nimport SelectPropTypes from './PropTypes';\r\nimport SelectTrigger from './SelectTrigger';\r\nimport { defaultFilterFn, findFirstMenuItem, findIndexInValueBySingleValue, generateUUID, getLabelFromPropsValue, getMapKey, getPropValue, getValuePropValue, includesSeparators, isCombobox, isMultipleOrTags, isMultipleOrTagsOrCombobox, isSingleMode, preventDefaultEvent, saveRef, splitBySeparators, toArray, toTitle, UNSELECTABLE_ATTRIBUTE, UNSELECTABLE_STYLE, validateOptionValue } from './util';\r\nvar SELECT_EMPTY_VALUE_KEY = 'RC_SELECT_EMPTY_VALUE_KEY';\r\n\r\nvar noop = function noop() {\r\n  return null;\r\n};\r\n\r\nfunction chaining() {\r\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\r\n    fns[_key] = arguments[_key];\r\n  }\r\n\r\n  return function () {\r\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\r\n      args[_key2] = arguments[_key2];\r\n    }\r\n\r\n    // tslint:disable-next-line:prefer-for-of\r\n    for (var i = 0; i < fns.length; i++) {\r\n      if (fns[i] && typeof fns[i] === 'function') {\r\n        fns[i].apply(chaining, args);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nvar Select =\r\n/*#__PURE__*/\r\nfunction (_React$Component) {\r\n  _inherits(Select, _React$Component);\r\n\r\n  function Select(props) {\r\n    var _this;\r\n\r\n    _classCallCheck(this, Select);\r\n\r\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, props));\r\n    _this.inputRef = null;\r\n    _this.inputMirrorRef = null;\r\n    _this.topCtrlRef = null;\r\n    _this.selectTriggerRef = null;\r\n    _this.rootRef = null;\r\n    _this.selectionRef = null;\r\n    _this.dropdownContainer = null;\r\n    _this.blurTimer = null;\r\n    _this.focusTimer = null; // tslint:disable-next-line:variable-name\r\n\r\n    _this._focused = false; // tslint:disable-next-line:variable-name\r\n\r\n    _this._mouseDown = false; // tslint:disable-next-line:variable-name\r\n\r\n    _this._options = []; // tslint:disable-next-line:variable-name\r\n\r\n    _this._empty = false;\r\n\r\n    _this.onInputChange = function (event) {\r\n      var tokenSeparators = _this.props.tokenSeparators;\r\n      var val = event.target.value;\r\n\r\n      if (isMultipleOrTags(_this.props) && tokenSeparators.length && includesSeparators(val, tokenSeparators)) {\r\n        var nextValue = _this.getValueByInput(val);\r\n\r\n        if (nextValue !== undefined) {\r\n          _this.fireChange(nextValue);\r\n        }\r\n\r\n        _this.setOpenState(false, true);\r\n\r\n        _this.setInputValue('', false);\r\n\r\n        return;\r\n      }\r\n\r\n      _this.setInputValue(val);\r\n\r\n      _this.setState({\r\n        open: true\r\n      });\r\n\r\n      if (isCombobox(_this.props)) {\r\n        _this.fireChange([val]);\r\n      }\r\n    };\r\n\r\n    _this.onDropdownVisibleChange = function (open) {\r\n      if (open && !_this._focused) {\r\n        _this.clearBlurTime();\r\n\r\n        _this.timeoutFocus();\r\n\r\n        _this._focused = true;\r\n\r\n        _this.updateFocusClassName();\r\n      }\r\n\r\n      _this.setOpenState(open);\r\n    }; // combobox ignore\r\n\r\n\r\n    _this.onKeyDown = function (event) {\r\n      var open = _this.state.open;\r\n      var disabled = _this.props.disabled;\r\n\r\n      if (disabled) {\r\n        return;\r\n      }\r\n\r\n      var keyCode = event.keyCode;\r\n\r\n      if (open && !_this.getInputDOMNode()) {\r\n        _this.onInputKeyDown(event);\r\n      } else if (keyCode === KeyCode.ENTER || keyCode === KeyCode.DOWN) {\r\n        if (!open) {\r\n          _this.setOpenState(true);\r\n        }\r\n\r\n        event.preventDefault();\r\n      } else if (keyCode === KeyCode.SPACE) {\r\n        // Not block space if popup is shown\r\n        if (!open) {\r\n          _this.setOpenState(true);\r\n\r\n          event.preventDefault();\r\n        }\r\n      }\r\n    };\r\n\r\n    _this.onInputKeyDown = function (event) {\r\n      var _this$props = _this.props,\r\n          disabled = _this$props.disabled,\r\n          combobox = _this$props.combobox;\r\n\r\n      if (disabled) {\r\n        return;\r\n      }\r\n\r\n      var state = _this.state;\r\n\r\n      var isRealOpen = _this.getRealOpenState(state); // magic code\r\n\r\n\r\n      var keyCode = event.keyCode;\r\n\r\n      if (isMultipleOrTags(_this.props) && !event.target.value && keyCode === KeyCode.BACKSPACE) {\r\n        event.preventDefault();\r\n        var value = state.value;\r\n\r\n        if (value.length) {\r\n          _this.removeSelected(value[value.length - 1]);\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if (keyCode === KeyCode.DOWN) {\r\n        if (!state.open) {\r\n          _this.openIfHasChildren();\r\n\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          return;\r\n        }\r\n      } else if (keyCode === KeyCode.ENTER && state.open) {\r\n        // Aviod trigger form submit when select item\r\n        // https://github.com/ant-design/ant-design/issues/10861\r\n        // https://github.com/ant-design/ant-design/issues/14544\r\n        if (isRealOpen || !combobox) {\r\n          event.preventDefault();\r\n        }\r\n      } else if (keyCode === KeyCode.ESC) {\r\n        if (state.open) {\r\n          _this.setOpenState(false);\r\n\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if (isRealOpen && _this.selectTriggerRef) {\r\n        var menu = _this.selectTriggerRef.getInnerMenu();\r\n\r\n        if (menu && menu.onKeyDown(event, _this.handleBackfill)) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }\r\n      }\r\n    };\r\n\r\n    _this.onMenuSelect = function (_ref) {\r\n      var item = _ref.item;\r\n\r\n      if (!item) {\r\n        return;\r\n      }\r\n\r\n      var value = _this.state.value;\r\n      var props = _this.props;\r\n      var selectedValue = getValuePropValue(item);\r\n      var lastValue = value[value.length - 1];\r\n\r\n      _this.fireSelect(selectedValue);\r\n\r\n      if (isMultipleOrTags(props)) {\r\n        if (findIndexInValueBySingleValue(value, selectedValue) !== -1) {\r\n          return;\r\n        }\r\n\r\n        value = value.concat([selectedValue]);\r\n      } else {\r\n        if (!isCombobox(props) && lastValue !== undefined && lastValue === selectedValue && selectedValue !== _this.state.backfillValue) {\r\n          _this.setOpenState(false, true);\r\n\r\n          return;\r\n        }\r\n\r\n        value = [selectedValue];\r\n\r\n        _this.setOpenState(false, true);\r\n      }\r\n\r\n      _this.fireChange(value);\r\n\r\n      var inputValue = isCombobox(props) ? getPropValue(item, props.optionLabelProp) : '';\r\n\r\n      if (props.autoClearSearchValue) {\r\n        _this.setInputValue(inputValue, false);\r\n      }\r\n    };\r\n\r\n    _this.onMenuDeselect = function (_ref2) {\r\n      var item = _ref2.item,\r\n          domEvent = _ref2.domEvent;\r\n\r\n      if (domEvent.type === 'keydown' && domEvent.keyCode === KeyCode.ENTER) {\r\n        _this.removeSelected(getValuePropValue(item));\r\n\r\n        return;\r\n      }\r\n\r\n      if (domEvent.type === 'click') {\r\n        _this.removeSelected(getValuePropValue(item));\r\n      }\r\n\r\n      var props = _this.props;\r\n\r\n      if (props.autoClearSearchValue) {\r\n        _this.setInputValue('', false);\r\n      }\r\n    };\r\n\r\n    _this.onArrowClick = function (e) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n\r\n      if (!_this.props.disabled) {\r\n        _this.setOpenState(!_this.state.open, !_this.state.open);\r\n      }\r\n    };\r\n\r\n    _this.onPlaceholderClick = function () {\r\n      if (_this.getInputDOMNode && _this.getInputDOMNode()) {\r\n        _this.getInputDOMNode().focus();\r\n      }\r\n    };\r\n\r\n    _this.onOuterFocus = function (e) {\r\n      if (_this.props.disabled) {\r\n        e.preventDefault();\r\n        return;\r\n      }\r\n\r\n      _this.clearBlurTime();\r\n\r\n      if (!isMultipleOrTagsOrCombobox(_this.props) && e.target === _this.getInputDOMNode()) {\r\n        return;\r\n      }\r\n\r\n      if (_this._focused) {\r\n        return;\r\n      }\r\n\r\n      _this._focused = true;\r\n\r\n      _this.updateFocusClassName(); // only effect multiple or tag mode\r\n\r\n\r\n      if (!isMultipleOrTags(_this.props) || !_this._mouseDown) {\r\n        _this.timeoutFocus();\r\n      }\r\n    };\r\n\r\n    _this.onPopupFocus = function () {\r\n      // fix ie scrollbar, focus element again\r\n      _this.maybeFocus(true, true);\r\n    };\r\n\r\n    _this.onOuterBlur = function (e) {\r\n      if (_this.props.disabled) {\r\n        e.preventDefault();\r\n        return;\r\n      }\r\n\r\n      _this.blurTimer = window.setTimeout(function () {\r\n        _this._focused = false;\r\n\r\n        _this.updateFocusClassName();\r\n\r\n        var props = _this.props;\r\n        var value = _this.state.value;\r\n        var inputValue = _this.state.inputValue;\r\n\r\n        if (isSingleMode(props) && props.showSearch && inputValue && props.defaultActiveFirstOption) {\r\n          var options = _this._options || [];\r\n\r\n          if (options.length) {\r\n            var firstOption = findFirstMenuItem(options);\r\n\r\n            if (firstOption) {\r\n              value = [getValuePropValue(firstOption)];\r\n\r\n              _this.fireChange(value);\r\n            }\r\n          }\r\n        } else if (isMultipleOrTags(props) && inputValue) {\r\n          if (_this._mouseDown) {\r\n            // need update dropmenu when not blur\r\n            _this.setInputValue('');\r\n          } else {\r\n            // why not use setState?\r\n            // https://github.com/ant-design/ant-design/issues/14262\r\n            _this.state.inputValue = '';\r\n\r\n            if (_this.getInputDOMNode && _this.getInputDOMNode()) {\r\n              _this.getInputDOMNode().value = '';\r\n            }\r\n          }\r\n\r\n          var tmpValue = _this.getValueByInput(inputValue);\r\n\r\n          if (tmpValue !== undefined) {\r\n            value = tmpValue;\r\n\r\n            _this.fireChange(value);\r\n          }\r\n        } // if click the rest space of Select in multiple mode\r\n\r\n\r\n        if (isMultipleOrTags(props) && _this._mouseDown) {\r\n          _this.maybeFocus(true, true);\r\n\r\n          _this._mouseDown = false;\r\n          return;\r\n        }\r\n\r\n        _this.setOpenState(false);\r\n\r\n        if (props.onBlur) {\r\n          props.onBlur(_this.getVLForOnChange(value));\r\n        }\r\n      }, 10);\r\n    };\r\n\r\n    _this.onClearSelection = function (event) {\r\n      var props = _this.props;\r\n      var state = _this.state;\r\n\r\n      if (props.disabled) {\r\n        return;\r\n      }\r\n\r\n      var inputValue = state.inputValue;\r\n      var value = state.value;\r\n      event.stopPropagation();\r\n\r\n      if (inputValue || value.length) {\r\n        if (value.length) {\r\n          _this.fireChange([]);\r\n        }\r\n\r\n        _this.setOpenState(false, true);\r\n\r\n        if (inputValue) {\r\n          _this.setInputValue('');\r\n        }\r\n      }\r\n    };\r\n\r\n    _this.onChoiceAnimationLeave = function () {\r\n      _this.forcePopupAlign();\r\n    };\r\n\r\n    _this.getOptionInfoBySingleValue = function (value, optionsInfo) {\r\n      var info;\r\n      optionsInfo = optionsInfo || _this.state.optionsInfo;\r\n\r\n      if (optionsInfo[getMapKey(value)]) {\r\n        info = optionsInfo[getMapKey(value)];\r\n      }\r\n\r\n      if (info) {\r\n        return info;\r\n      }\r\n\r\n      var defaultLabel = value;\r\n\r\n      if (_this.props.labelInValue) {\r\n        var label = getLabelFromPropsValue(_this.props.value, value);\r\n\r\n        if (label !== undefined) {\r\n          defaultLabel = label;\r\n        }\r\n      }\r\n\r\n      var defaultInfo = {\r\n        option: React.createElement(Option, {\r\n          value: value,\r\n          key: value\r\n        }, value),\r\n        value: value,\r\n        label: defaultLabel\r\n      };\r\n      return defaultInfo;\r\n    };\r\n\r\n    _this.getOptionBySingleValue = function (value) {\r\n      var _this$getOptionInfoBy = _this.getOptionInfoBySingleValue(value),\r\n          option = _this$getOptionInfoBy.option;\r\n\r\n      return option;\r\n    };\r\n\r\n    _this.getOptionsBySingleValue = function (values) {\r\n      return values.map(function (value) {\r\n        return _this.getOptionBySingleValue(value);\r\n      });\r\n    };\r\n\r\n    _this.getValueByLabel = function (label) {\r\n      if (label === undefined) {\r\n        return null;\r\n      }\r\n\r\n      var value = null;\r\n      Object.keys(_this.state.optionsInfo).forEach(function (key) {\r\n        var info = _this.state.optionsInfo[key];\r\n        var disabled = info.disabled;\r\n\r\n        if (disabled) {\r\n          return;\r\n        }\r\n\r\n        var oldLable = toArray(info.label);\r\n\r\n        if (oldLable && oldLable.join('') === label) {\r\n          value = info.value;\r\n        }\r\n      });\r\n      return value;\r\n    };\r\n\r\n    _this.getVLBySingleValue = function (value) {\r\n      if (_this.props.labelInValue) {\r\n        return {\r\n          key: value,\r\n          label: _this.getLabelBySingleValue(value)\r\n        };\r\n      }\r\n\r\n      return value;\r\n    };\r\n\r\n    _this.getVLForOnChange = function (vlsS) {\r\n      var vls = vlsS;\r\n\r\n      if (vls !== undefined) {\r\n        if (!_this.props.labelInValue) {\r\n          vls = vls.map(function (v) {\r\n            return v;\r\n          });\r\n        } else {\r\n          vls = vls.map(function (vl) {\r\n            return {\r\n              key: vl,\r\n              label: _this.getLabelBySingleValue(vl)\r\n            };\r\n          });\r\n        }\r\n\r\n        return isMultipleOrTags(_this.props) ? vls : vls[0];\r\n      }\r\n\r\n      return vls;\r\n    };\r\n\r\n    _this.getLabelBySingleValue = function (value, optionsInfo) {\r\n      var _this$getOptionInfoBy2 = _this.getOptionInfoBySingleValue(value, optionsInfo),\r\n          label = _this$getOptionInfoBy2.label;\r\n\r\n      return label;\r\n    };\r\n\r\n    _this.getDropdownContainer = function () {\r\n      if (!_this.dropdownContainer) {\r\n        _this.dropdownContainer = document.createElement('div');\r\n        document.body.appendChild(_this.dropdownContainer);\r\n      }\r\n\r\n      return _this.dropdownContainer;\r\n    };\r\n\r\n    _this.getPlaceholderElement = function () {\r\n      var props = _this.props;\r\n      var state = _this.state;\r\n      var hidden = false;\r\n\r\n      if (state.inputValue) {\r\n        hidden = true;\r\n      }\r\n\r\n      var value = state.value;\r\n\r\n      if (value.length) {\r\n        hidden = true;\r\n      }\r\n\r\n      if (isCombobox(props) && value.length === 1 && state.value && !state.value[0]) {\r\n        hidden = false;\r\n      }\r\n\r\n      var placeholder = props.placeholder;\r\n\r\n      if (placeholder) {\r\n        return React.createElement(\"div\", _extends({\r\n          onMouseDown: preventDefaultEvent,\r\n          style: _extends({\r\n            display: hidden ? 'none' : 'block'\r\n          }, UNSELECTABLE_STYLE)\r\n        }, UNSELECTABLE_ATTRIBUTE, {\r\n          onClick: _this.onPlaceholderClick,\r\n          className: \"\".concat(props.prefixCls, \"-selection__placeholder\")\r\n        }), placeholder);\r\n      }\r\n\r\n      return null;\r\n    };\r\n\r\n    _this.getInputElement = function () {\r\n      var props = _this.props;\r\n      var defaultInput = React.createElement(\"input\", {\r\n        id: props.id,\r\n        autoComplete: \"off\"\r\n      }); // tslint:disable-next-line:typedef-whitespace\r\n\r\n      var inputElement = props.getInputElement ? props.getInputElement() : defaultInput;\r\n      var inputCls = classnames(inputElement.props.className, _defineProperty({}, \"\".concat(props.prefixCls, \"-search__field\"), true)); // https://github.com/ant-design/ant-design/issues/4992#issuecomment-281542159\r\n      // Add space to the end of the inputValue as the width measurement tolerance\r\n\r\n      return React.createElement(\"div\", {\r\n        className: \"\".concat(props.prefixCls, \"-search__field__wrap\")\r\n      }, React.cloneElement(inputElement, {\r\n        ref: _this.saveInputRef,\r\n        onChange: _this.onInputChange,\r\n        onKeyDown: chaining(_this.onInputKeyDown, inputElement.props.onKeyDown, _this.props.onInputKeyDown),\r\n        value: _this.state.inputValue,\r\n        disabled: props.disabled,\r\n        className: inputCls\r\n      }), React.createElement(\"span\", {\r\n        ref: _this.saveInputMirrorRef,\r\n        className: \"\".concat(props.prefixCls, \"-search__field__mirror\")\r\n      }, _this.state.inputValue, \"\\xA0\"));\r\n    };\r\n\r\n    _this.getInputDOMNode = function () {\r\n      return _this.topCtrlRef ? _this.topCtrlRef.querySelector('input,textarea,div[contentEditable]') : _this.inputRef;\r\n    };\r\n\r\n    _this.getInputMirrorDOMNode = function () {\r\n      return _this.inputMirrorRef;\r\n    };\r\n\r\n    _this.getPopupDOMNode = function () {\r\n      if (_this.selectTriggerRef) {\r\n        return _this.selectTriggerRef.getPopupDOMNode();\r\n      }\r\n    };\r\n\r\n    _this.getPopupMenuComponent = function () {\r\n      if (_this.selectTriggerRef) {\r\n        return _this.selectTriggerRef.getInnerMenu();\r\n      }\r\n    };\r\n\r\n    _this.setOpenState = function (open, needFocus) {\r\n      var props = _this.props;\r\n      var state = _this.state;\r\n\r\n      if (state.open === open) {\r\n        _this.maybeFocus(open, !!needFocus);\r\n\r\n        return;\r\n      }\r\n\r\n      if (_this.props.onDropdownVisibleChange) {\r\n        _this.props.onDropdownVisibleChange(open);\r\n      }\r\n\r\n      var nextState = {\r\n        open: open,\r\n        backfillValue: ''\r\n      }; // clear search input value when open is false in singleMode.\r\n\r\n      if (!open && isSingleMode(props) && props.showSearch) {\r\n        _this.setInputValue('', false);\r\n      }\r\n\r\n      if (!open) {\r\n        _this.maybeFocus(open, !!needFocus);\r\n      }\r\n\r\n      _this.setState(_extends({\r\n        open: open\r\n      }, nextState), function () {\r\n        if (open) {\r\n          _this.maybeFocus(open, !!needFocus);\r\n        }\r\n      });\r\n    };\r\n\r\n    _this.setInputValue = function (inputValue) {\r\n      var fireSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\r\n\r\n      if (inputValue !== _this.state.inputValue) {\r\n        _this.setState({\r\n          inputValue: inputValue\r\n        }, _this.forcePopupAlign);\r\n\r\n        if (fireSearch && _this.props.onSearch) {\r\n          _this.props.onSearch(inputValue);\r\n        }\r\n      }\r\n    };\r\n\r\n    _this.getValueByInput = function (str) {\r\n      var _this$props2 = _this.props,\r\n          multiple = _this$props2.multiple,\r\n          tokenSeparators = _this$props2.tokenSeparators;\r\n      var nextValue = _this.state.value;\r\n      var hasNewValue = false;\r\n      splitBySeparators(str, tokenSeparators).forEach(function (label) {\r\n        var selectedValue = [label];\r\n\r\n        if (multiple) {\r\n          var value = _this.getValueByLabel(label);\r\n\r\n          if (value && findIndexInValueBySingleValue(nextValue, value) === -1) {\r\n            nextValue = nextValue.concat(value);\r\n            hasNewValue = true;\r\n\r\n            _this.fireSelect(value);\r\n          }\r\n        } else if (findIndexInValueBySingleValue(nextValue, label) === -1) {\r\n          nextValue = nextValue.concat(selectedValue);\r\n          hasNewValue = true;\r\n\r\n          _this.fireSelect(label);\r\n        }\r\n      });\r\n      return hasNewValue ? nextValue : undefined;\r\n    };\r\n\r\n    _this.getRealOpenState = function (state) {\r\n      // tslint:disable-next-line:variable-name\r\n      var _open = _this.props.open;\r\n\r\n      if (typeof _open === 'boolean') {\r\n        return _open;\r\n      }\r\n\r\n      var open = (state || _this.state).open;\r\n      var options = _this._options || [];\r\n\r\n      if (isMultipleOrTagsOrCombobox(_this.props) || !_this.props.showSearch) {\r\n        if (open && !options.length) {\r\n          open = false;\r\n        }\r\n      }\r\n\r\n      return open;\r\n    };\r\n\r\n    _this.markMouseDown = function () {\r\n      _this._mouseDown = true;\r\n    };\r\n\r\n    _this.markMouseLeave = function () {\r\n      _this._mouseDown = false;\r\n    };\r\n\r\n    _this.handleBackfill = function (item) {\r\n      if (!_this.props.backfill || !(isSingleMode(_this.props) || isCombobox(_this.props))) {\r\n        return;\r\n      }\r\n\r\n      var key = getValuePropValue(item);\r\n\r\n      if (isCombobox(_this.props)) {\r\n        _this.setInputValue(key, false);\r\n      }\r\n\r\n      _this.setState({\r\n        value: [key],\r\n        backfillValue: key\r\n      });\r\n    };\r\n\r\n    _this.filterOption = function (input, child) {\r\n      var defaultFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultFilterFn;\r\n      var value = _this.state.value;\r\n      var lastValue = value[value.length - 1];\r\n\r\n      if (!input || lastValue && lastValue === _this.state.backfillValue) {\r\n        return true;\r\n      }\r\n\r\n      var filterFn = _this.props.filterOption;\r\n\r\n      if ('filterOption' in _this.props) {\r\n        if (filterFn === true) {\r\n          filterFn = defaultFilter.bind(_assertThisInitialized(_this));\r\n        }\r\n      } else {\r\n        filterFn = defaultFilter.bind(_assertThisInitialized(_this));\r\n      }\r\n\r\n      if (!filterFn) {\r\n        return true;\r\n      } else if (typeof filterFn === 'function') {\r\n        return filterFn.call(_assertThisInitialized(_this), input, child);\r\n      } else if (child.props.disabled) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    };\r\n\r\n    _this.timeoutFocus = function () {\r\n      if (_this.focusTimer) {\r\n        _this.clearFocusTime();\r\n      }\r\n\r\n      _this.focusTimer = window.setTimeout(function () {\r\n        if (_this.props.onFocus) {\r\n          _this.props.onFocus();\r\n        }\r\n      }, 10);\r\n    };\r\n\r\n    _this.clearFocusTime = function () {\r\n      if (_this.focusTimer) {\r\n        clearTimeout(_this.focusTimer);\r\n        _this.focusTimer = null;\r\n      }\r\n    };\r\n\r\n    _this.clearBlurTime = function () {\r\n      if (_this.blurTimer) {\r\n        clearTimeout(_this.blurTimer);\r\n        _this.blurTimer = null;\r\n      }\r\n    };\r\n\r\n    _this.updateFocusClassName = function () {\r\n      var rootRef = _this.rootRef;\r\n      var props = _this.props; // avoid setState and its side effect\r\n\r\n      if (_this._focused) {\r\n        classes(rootRef).add(\"\".concat(props.prefixCls, \"-focused\"));\r\n      } else {\r\n        classes(rootRef).remove(\"\".concat(props.prefixCls, \"-focused\"));\r\n      }\r\n    };\r\n\r\n    _this.maybeFocus = function (open, needFocus) {\r\n      if (needFocus || open) {\r\n        var input = _this.getInputDOMNode();\r\n\r\n        var _document = document,\r\n            activeElement = _document.activeElement;\r\n\r\n        if (input && (open || isMultipleOrTagsOrCombobox(_this.props))) {\r\n          if (activeElement !== input) {\r\n            input.focus();\r\n            _this._focused = true;\r\n          }\r\n        } else if (activeElement !== _this.selectionRef && _this.selectionRef) {\r\n          _this.selectionRef.focus();\r\n\r\n          _this._focused = true;\r\n        }\r\n      }\r\n    };\r\n\r\n    _this.removeSelected = function (selectedKey, e) {\r\n      var props = _this.props;\r\n\r\n      if (props.disabled || _this.isChildDisabled(selectedKey)) {\r\n        return;\r\n      } // Do not trigger Trigger popup\r\n\r\n\r\n      if (e && e.stopPropagation) {\r\n        e.stopPropagation();\r\n      }\r\n\r\n      var oldValue = _this.state.value;\r\n      var value = oldValue.filter(function (singleValue) {\r\n        return singleValue !== selectedKey;\r\n      });\r\n      var canMultiple = isMultipleOrTags(props);\r\n\r\n      if (canMultiple) {\r\n        var event = selectedKey;\r\n\r\n        if (props.labelInValue) {\r\n          event = {\r\n            key: selectedKey,\r\n            label: _this.getLabelBySingleValue(selectedKey)\r\n          };\r\n        }\r\n\r\n        if (props.onDeselect) {\r\n          props.onDeselect(event, _this.getOptionBySingleValue(selectedKey));\r\n        }\r\n      }\r\n\r\n      _this.fireChange(value);\r\n    };\r\n\r\n    _this.openIfHasChildren = function () {\r\n      var props = _this.props;\r\n\r\n      if (React.Children.count(props.children) || isSingleMode(props)) {\r\n        _this.setOpenState(true);\r\n      }\r\n    };\r\n\r\n    _this.fireSelect = function (value) {\r\n      if (_this.props.onSelect) {\r\n        _this.props.onSelect(_this.getVLBySingleValue(value), _this.getOptionBySingleValue(value));\r\n      }\r\n    };\r\n\r\n    _this.fireChange = function (value) {\r\n      var props = _this.props;\r\n\r\n      if (!('value' in props)) {\r\n        _this.setState({\r\n          value: value\r\n        }, _this.forcePopupAlign);\r\n      }\r\n\r\n      var vls = _this.getVLForOnChange(value);\r\n\r\n      var options = _this.getOptionsBySingleValue(value);\r\n\r\n      if (props.onChange) {\r\n        props.onChange(vls, isMultipleOrTags(_this.props) ? options : options[0]);\r\n      }\r\n    };\r\n\r\n    _this.isChildDisabled = function (key) {\r\n      return childrenToArray(_this.props.children).some(function (child) {\r\n        var childValue = getValuePropValue(child);\r\n        return childValue === key && child.props && child.props.disabled;\r\n      });\r\n    };\r\n\r\n    _this.forcePopupAlign = function () {\r\n      if (!_this.state.open) {\r\n        return;\r\n      }\r\n\r\n      if (_this.selectTriggerRef && _this.selectTriggerRef.triggerRef) {\r\n        _this.selectTriggerRef.triggerRef.forcePopupAlign();\r\n      }\r\n    };\r\n\r\n    _this.renderFilterOptions = function () {\r\n      var inputValue = _this.state.inputValue;\r\n      var _this$props3 = _this.props,\r\n          children = _this$props3.children,\r\n          tags = _this$props3.tags,\r\n          notFoundContent = _this$props3.notFoundContent;\r\n      var menuItems = [];\r\n      var childrenKeys = [];\r\n      var empty = false;\r\n\r\n      var options = _this.renderFilterOptionsFromChildren(children, childrenKeys, menuItems);\r\n\r\n      if (tags) {\r\n        // tags value must be string\r\n        var value = _this.state.value;\r\n        value = value.filter(function (singleValue) {\r\n          return childrenKeys.indexOf(singleValue) === -1 && (!inputValue || String(singleValue).indexOf(String(inputValue)) > -1);\r\n        }); // sort by length\r\n\r\n        value.sort(function (val1, val2) {\r\n          return val1.length - val2.length;\r\n        });\r\n        value.forEach(function (singleValue) {\r\n          var key = singleValue;\r\n          var menuItem = React.createElement(MenuItem, {\r\n            style: UNSELECTABLE_STYLE,\r\n            role: \"option\",\r\n            attribute: UNSELECTABLE_ATTRIBUTE,\r\n            value: key,\r\n            key: key\r\n          }, key);\r\n          options.push(menuItem);\r\n          menuItems.push(menuItem);\r\n        }); // ref: https://github.com/ant-design/ant-design/issues/14090\r\n\r\n        if (inputValue && menuItems.every(function (option) {\r\n          return getValuePropValue(option) !== inputValue;\r\n        })) {\r\n          options.unshift(React.createElement(MenuItem, {\r\n            style: UNSELECTABLE_STYLE,\r\n            role: \"option\",\r\n            attribute: UNSELECTABLE_ATTRIBUTE,\r\n            value: inputValue,\r\n            key: inputValue\r\n          }, inputValue));\r\n        }\r\n      }\r\n\r\n      if (!options.length && notFoundContent) {\r\n        empty = true;\r\n        options = [React.createElement(MenuItem, {\r\n          style: UNSELECTABLE_STYLE,\r\n          attribute: UNSELECTABLE_ATTRIBUTE,\r\n          disabled: true,\r\n          role: \"option\",\r\n          value: \"NOT_FOUND\",\r\n          key: \"NOT_FOUND\"\r\n        }, notFoundContent)];\r\n      }\r\n\r\n      return {\r\n        empty: empty,\r\n        options: options\r\n      };\r\n    };\r\n\r\n    _this.renderFilterOptionsFromChildren = function (children, childrenKeys, menuItems) {\r\n      var sel = [];\r\n      var props = _this.props;\r\n      var inputValue = _this.state.inputValue;\r\n      var tags = props.tags;\r\n      React.Children.forEach(children, function (child) {\r\n        if (!child) {\r\n          return;\r\n        }\r\n\r\n        var type = child.type;\r\n\r\n        if (type.isSelectOptGroup) {\r\n          var label = child.props.label;\r\n          var key = child.key;\r\n\r\n          if (!key && typeof label === 'string') {\r\n            key = label;\r\n          } else if (!label && key) {\r\n            label = key;\r\n          } // Match option group label\r\n\r\n\r\n          if (inputValue && _this.filterOption(inputValue, child)) {\r\n            var innerItems = childrenToArray(child.props.children).map(function (subChild) {\r\n              var childValueSub = getValuePropValue(subChild) || subChild.key;\r\n              return React.createElement(MenuItem, _extends({\r\n                key: childValueSub,\r\n                value: childValueSub\r\n              }, subChild.props));\r\n            });\r\n            sel.push(React.createElement(MenuItemGroup, {\r\n              key: key,\r\n              title: label\r\n            }, innerItems)); // Not match\r\n          } else {\r\n            var _innerItems = _this.renderFilterOptionsFromChildren(child.props.children, childrenKeys, menuItems);\r\n\r\n            if (_innerItems.length) {\r\n              sel.push(React.createElement(MenuItemGroup, {\r\n                key: key,\r\n                title: label\r\n              }, _innerItems));\r\n            }\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        warning(type.isSelectOption, 'the children of `Select` should be `Select.Option` or `Select.OptGroup`, ' + \"instead of `\".concat(type.name || type.displayName || child.type, \"`.\"));\r\n        var childValue = getValuePropValue(child);\r\n        validateOptionValue(childValue, _this.props);\r\n\r\n        if (_this.filterOption(inputValue, child)) {\r\n          var menuItem = React.createElement(MenuItem, _extends({\r\n            style: UNSELECTABLE_STYLE,\r\n            attribute: UNSELECTABLE_ATTRIBUTE,\r\n            value: childValue,\r\n            key: childValue,\r\n            role: \"option\"\r\n          }, child.props));\r\n          sel.push(menuItem);\r\n          menuItems.push(menuItem);\r\n        }\r\n\r\n        if (tags) {\r\n          childrenKeys.push(childValue);\r\n        }\r\n      });\r\n      return sel;\r\n    };\r\n\r\n    _this.renderTopControlNode = function () {\r\n      var _this$state = _this.state,\r\n          open = _this$state.open,\r\n          inputValue = _this$state.inputValue;\r\n      var value = _this.state.value;\r\n      var props = _this.props;\r\n      var choiceTransitionName = props.choiceTransitionName,\r\n          prefixCls = props.prefixCls,\r\n          maxTagTextLength = props.maxTagTextLength,\r\n          maxTagCount = props.maxTagCount,\r\n          showSearch = props.showSearch,\r\n          removeIcon = props.removeIcon;\r\n      var maxTagPlaceholder = props.maxTagPlaceholder;\r\n      var className = \"\".concat(prefixCls, \"-selection__rendered\"); // search input is inside topControlNode in single, multiple & combobox. 2016/04/13\r\n\r\n      var innerNode = null;\r\n\r\n      if (isSingleMode(props)) {\r\n        var selectedValue = null;\r\n\r\n        if (value.length) {\r\n          var showSelectedValue = false;\r\n          var opacity = 1;\r\n\r\n          if (!showSearch) {\r\n            showSelectedValue = true;\r\n          } else if (open) {\r\n            showSelectedValue = !inputValue;\r\n\r\n            if (showSelectedValue) {\r\n              opacity = 0.4;\r\n            }\r\n          } else {\r\n            showSelectedValue = true;\r\n          }\r\n\r\n          var singleValue = value[0];\r\n\r\n          var _this$getOptionInfoBy3 = _this.getOptionInfoBySingleValue(singleValue),\r\n              label = _this$getOptionInfoBy3.label,\r\n              title = _this$getOptionInfoBy3.title;\r\n\r\n          selectedValue = React.createElement(\"div\", {\r\n            key: \"value\",\r\n            className: \"\".concat(prefixCls, \"-selection-selected-value\"),\r\n            title: toTitle(title || label),\r\n            style: {\r\n              display: showSelectedValue ? 'block' : 'none',\r\n              opacity: opacity\r\n            }\r\n          }, label);\r\n        }\r\n\r\n        if (!showSearch) {\r\n          innerNode = [selectedValue];\r\n        } else {\r\n          innerNode = [selectedValue, React.createElement(\"div\", {\r\n            className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\r\n            key: \"input\",\r\n            style: {\r\n              display: open ? 'block' : 'none'\r\n            }\r\n          }, _this.getInputElement())];\r\n        }\r\n      } else {\r\n        var selectedValueNodes = [];\r\n        var limitedCountValue = value;\r\n        var maxTagPlaceholderEl;\r\n\r\n        if (maxTagCount !== undefined && value.length > maxTagCount) {\r\n          limitedCountValue = limitedCountValue.slice(0, maxTagCount);\r\n\r\n          var omittedValues = _this.getVLForOnChange(value.slice(maxTagCount, value.length));\r\n\r\n          var content = \"+ \".concat(value.length - maxTagCount, \" ...\");\r\n\r\n          if (maxTagPlaceholder) {\r\n            content = typeof maxTagPlaceholder === 'function' ? maxTagPlaceholder(omittedValues) : maxTagPlaceholder;\r\n          }\r\n\r\n          maxTagPlaceholderEl = React.createElement(\"li\", _extends({\r\n            style: UNSELECTABLE_STYLE\r\n          }, UNSELECTABLE_ATTRIBUTE, {\r\n            role: \"presentation\",\r\n            onMouseDown: preventDefaultEvent,\r\n            className: \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\"),\r\n            key: \"maxTagPlaceholder\",\r\n            title: toTitle(content)\r\n          }), React.createElement(\"div\", {\r\n            className: \"\".concat(prefixCls, \"-selection__choice__content\")\r\n          }, content));\r\n        }\r\n\r\n        if (isMultipleOrTags(props)) {\r\n          selectedValueNodes = limitedCountValue.map(function (singleValue) {\r\n            var info = _this.getOptionInfoBySingleValue(singleValue);\r\n\r\n            var content = info.label;\r\n            var title = info.title || content;\r\n\r\n            if (maxTagTextLength && typeof content === 'string' && content.length > maxTagTextLength) {\r\n              content = \"\".concat(content.slice(0, maxTagTextLength), \"...\");\r\n            }\r\n\r\n            var disabled = _this.isChildDisabled(singleValue);\r\n\r\n            var choiceClassName = disabled ? \"\".concat(prefixCls, \"-selection__choice \").concat(prefixCls, \"-selection__choice__disabled\") : \"\".concat(prefixCls, \"-selection__choice\");\r\n            return React.createElement(\"li\", _extends({\r\n              style: UNSELECTABLE_STYLE\r\n            }, UNSELECTABLE_ATTRIBUTE, {\r\n              onMouseDown: preventDefaultEvent,\r\n              className: choiceClassName,\r\n              role: \"presentation\",\r\n              key: singleValue || SELECT_EMPTY_VALUE_KEY,\r\n              title: toTitle(title)\r\n            }), React.createElement(\"div\", {\r\n              className: \"\".concat(prefixCls, \"-selection__choice__content\")\r\n            }, content), disabled ? null : React.createElement(\"span\", {\r\n              onClick: function onClick(event) {\r\n                _this.removeSelected(singleValue, event);\r\n              },\r\n              className: \"\".concat(prefixCls, \"-selection__choice__remove\")\r\n            }, removeIcon || React.createElement(\"i\", {\r\n              className: \"\".concat(prefixCls, \"-selection__choice__remove-icon\")\r\n            }, \"\\xD7\")));\r\n          });\r\n        }\r\n\r\n        if (maxTagPlaceholderEl) {\r\n          selectedValueNodes.push(maxTagPlaceholderEl);\r\n        }\r\n\r\n        selectedValueNodes.push(React.createElement(\"li\", {\r\n          className: \"\".concat(prefixCls, \"-search \").concat(prefixCls, \"-search--inline\"),\r\n          key: \"__input\"\r\n        }, _this.getInputElement()));\r\n\r\n        if (isMultipleOrTags(props) && choiceTransitionName) {\r\n          innerNode = React.createElement(Animate, {\r\n            onLeave: _this.onChoiceAnimationLeave,\r\n            component: \"ul\",\r\n            transitionName: choiceTransitionName\r\n          }, selectedValueNodes);\r\n        } else {\r\n          innerNode = React.createElement(\"ul\", null, selectedValueNodes);\r\n        }\r\n      }\r\n\r\n      return React.createElement(\"div\", {\r\n        className: className,\r\n        ref: _this.saveTopCtrlRef\r\n      }, _this.getPlaceholderElement(), innerNode);\r\n    };\r\n\r\n    var optionsInfo = Select.getOptionsInfoFromProps(props);\r\n\r\n    if (props.tags && typeof props.filterOption !== 'function') {\r\n      var isDisabledExist = Object.keys(optionsInfo).some(function (key) {\r\n        return optionsInfo[key].disabled;\r\n      });\r\n      warning(!isDisabledExist, 'Please avoid setting option to disabled in tags mode since user can always type text as tag.');\r\n    }\r\n\r\n    _this.state = {\r\n      value: Select.getValueFromProps(props, true),\r\n      inputValue: props.combobox ? Select.getInputValueForCombobox(props, optionsInfo, true) : '',\r\n      open: props.defaultOpen,\r\n      optionsInfo: optionsInfo,\r\n      backfillValue: '',\r\n      // a flag for aviod redundant getOptionsInfoFromProps call\r\n      skipBuildOptionsInfo: true,\r\n      ariaId: ''\r\n    };\r\n    _this.saveInputRef = saveRef(_assertThisInitialized(_this), 'inputRef');\r\n    _this.saveInputMirrorRef = saveRef(_assertThisInitialized(_this), 'inputMirrorRef');\r\n    _this.saveTopCtrlRef = saveRef(_assertThisInitialized(_this), 'topCtrlRef');\r\n    _this.saveSelectTriggerRef = saveRef(_assertThisInitialized(_this), 'selectTriggerRef');\r\n    _this.saveRootRef = saveRef(_assertThisInitialized(_this), 'rootRef');\r\n    _this.saveSelectionRef = saveRef(_assertThisInitialized(_this), 'selectionRef');\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Select, [{\r\n    key: \"componentDidMount\",\r\n    value: function componentDidMount() {\r\n      // when defaultOpen is true, we should auto focus search input\r\n      // https://github.com/ant-design/ant-design/issues/14254\r\n      if (this.props.autoFocus || this.state.open) {\r\n        this.focus();\r\n      }\r\n\r\n      this.setState({\r\n        ariaId: generateUUID()\r\n      });\r\n    }\r\n  }, {\r\n    key: \"componentDidUpdate\",\r\n    value: function componentDidUpdate() {\r\n      if (isMultipleOrTags(this.props)) {\r\n        var inputNode = this.getInputDOMNode();\r\n        var mirrorNode = this.getInputMirrorDOMNode();\r\n\r\n        if (inputNode && inputNode.value && mirrorNode) {\r\n          inputNode.style.width = '';\r\n          inputNode.style.width = \"\".concat(mirrorNode.clientWidth, \"px\");\r\n        } else if (inputNode) {\r\n          inputNode.style.width = '';\r\n        }\r\n      }\r\n\r\n      this.forcePopupAlign();\r\n    }\r\n  }, {\r\n    key: \"componentWillUnmount\",\r\n    value: function componentWillUnmount() {\r\n      this.clearFocusTime();\r\n      this.clearBlurTime();\r\n\r\n      if (this.dropdownContainer) {\r\n        ReactDOM.unmountComponentAtNode(this.dropdownContainer);\r\n        document.body.removeChild(this.dropdownContainer);\r\n        this.dropdownContainer = null;\r\n      }\r\n    }\r\n  }, {\r\n    key: \"focus\",\r\n    value: function focus() {\r\n      if (isSingleMode(this.props) && this.selectionRef) {\r\n        this.selectionRef.focus();\r\n      } else if (this.getInputDOMNode()) {\r\n        this.getInputDOMNode().focus();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"blur\",\r\n    value: function blur() {\r\n      if (isSingleMode(this.props) && this.selectionRef) {\r\n        this.selectionRef.blur();\r\n      } else if (this.getInputDOMNode()) {\r\n        this.getInputDOMNode().blur();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"renderArrow\",\r\n    value: function renderArrow(multiple) {\r\n      // showArrow : Set to true if not multiple by default but keep set value.\r\n      var _this$props4 = this.props,\r\n          _this$props4$showArro = _this$props4.showArrow,\r\n          showArrow = _this$props4$showArro === void 0 ? !multiple : _this$props4$showArro,\r\n          loading = _this$props4.loading,\r\n          inputIcon = _this$props4.inputIcon,\r\n          prefixCls = _this$props4.prefixCls;\r\n\r\n      if (!showArrow && !loading) {\r\n        return null;\r\n      } // if loading  have loading icon\r\n\r\n\r\n      var defaultIcon = loading ? React.createElement(\"i\", {\r\n        className: \"\".concat(prefixCls, \"-arrow-loading\")\r\n      }) : React.createElement(\"i\", {\r\n        className: \"\".concat(prefixCls, \"-arrow-icon\")\r\n      });\r\n      return React.createElement(\"span\", _extends({\r\n        key: \"arrow\",\r\n        className: \"\".concat(prefixCls, \"-arrow\"),\r\n        style: UNSELECTABLE_STYLE\r\n      }, UNSELECTABLE_ATTRIBUTE, {\r\n        onClick: this.onArrowClick\r\n      }), inputIcon || defaultIcon);\r\n    }\r\n  }, {\r\n    key: \"renderClear\",\r\n    value: function renderClear() {\r\n      var _this$props5 = this.props,\r\n          prefixCls = _this$props5.prefixCls,\r\n          allowClear = _this$props5.allowClear,\r\n          clearIcon = _this$props5.clearIcon;\r\n      var inputValue = this.state.inputValue;\r\n      var value = this.state.value;\r\n      var clear = React.createElement(\"span\", _extends({\r\n        key: \"clear\",\r\n        className: \"\".concat(prefixCls, \"-selection__clear\"),\r\n        onMouseDown: preventDefaultEvent,\r\n        style: UNSELECTABLE_STYLE\r\n      }, UNSELECTABLE_ATTRIBUTE, {\r\n        onClick: this.onClearSelection\r\n      }), clearIcon || React.createElement(\"i\", {\r\n        className: \"\".concat(prefixCls, \"-selection__clear-icon\")\r\n      }, \"\\xD7\"));\r\n\r\n      if (!allowClear) {\r\n        return null;\r\n      }\r\n\r\n      if (isCombobox(this.props)) {\r\n        if (inputValue) {\r\n          return clear;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      if (inputValue || value.length) {\r\n        return clear;\r\n      }\r\n\r\n      return null;\r\n    }\r\n  }, {\r\n    key: \"render\",\r\n    value: function render() {\r\n      var _rootCls;\r\n\r\n      var props = this.props;\r\n      var multiple = isMultipleOrTags(props); // Default set showArrow to true if not set (not set directly in defaultProps to handle multiple case)\r\n\r\n      var _props$showArrow = props.showArrow,\r\n          showArrow = _props$showArrow === void 0 ? true : _props$showArrow;\r\n      var state = this.state;\r\n      var className = props.className,\r\n          disabled = props.disabled,\r\n          prefixCls = props.prefixCls,\r\n          loading = props.loading;\r\n      var ctrlNode = this.renderTopControlNode();\r\n      var _this$state2 = this.state,\r\n          open = _this$state2.open,\r\n          ariaId = _this$state2.ariaId;\r\n\r\n      if (open) {\r\n        var filterOptions = this.renderFilterOptions();\r\n        this._empty = filterOptions.empty;\r\n        this._options = filterOptions.options;\r\n      }\r\n\r\n      var realOpen = this.getRealOpenState();\r\n      var empty = this._empty;\r\n      var options = this._options || [];\r\n      var dataOrAriaAttributeProps = {};\r\n      Object.keys(props).forEach(function (key) {\r\n        if (Object.prototype.hasOwnProperty.call(props, key) && (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')) {\r\n          dataOrAriaAttributeProps[key] = props[key];\r\n        }\r\n      }); // for (const key in props) {\r\n      //   if (\r\n      //     Object.prototype.hasOwnProperty.call(props, key) &&\r\n      //     (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role')\r\n      //   ) {\r\n      //     dataOrAriaAttributeProps[key] = props[key];\r\n      //   }\r\n      // }\r\n\r\n      var extraSelectionProps = _extends({}, dataOrAriaAttributeProps);\r\n\r\n      if (!isMultipleOrTagsOrCombobox(props)) {\r\n        extraSelectionProps = _extends({}, extraSelectionProps, {\r\n          onKeyDown: this.onKeyDown,\r\n          tabIndex: props.disabled ? -1 : props.tabIndex\r\n        });\r\n      }\r\n\r\n      var rootCls = (_rootCls = {}, _defineProperty(_rootCls, className, !!className), _defineProperty(_rootCls, prefixCls, 1), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-focused\"), open || !!this._focused), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-combobox\"), isCombobox(props)), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-enabled\"), !disabled), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-allow-clear\"), !!props.allowClear), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-no-arrow\"), !showArrow), _defineProperty(_rootCls, \"\".concat(prefixCls, \"-loading\"), !!loading), _rootCls);\r\n      return React.createElement(SelectTrigger, {\r\n        onPopupFocus: this.onPopupFocus,\r\n        onMouseEnter: this.props.onMouseEnter,\r\n        onMouseLeave: this.props.onMouseLeave,\r\n        dropdownAlign: props.dropdownAlign,\r\n        dropdownClassName: props.dropdownClassName,\r\n        dropdownMatchSelectWidth: props.dropdownMatchSelectWidth,\r\n        defaultActiveFirstOption: props.defaultActiveFirstOption,\r\n        dropdownMenuStyle: props.dropdownMenuStyle,\r\n        transitionName: props.transitionName,\r\n        animation: props.animation,\r\n        prefixCls: props.prefixCls,\r\n        dropdownStyle: props.dropdownStyle,\r\n        combobox: props.combobox,\r\n        showSearch: props.showSearch,\r\n        options: options,\r\n        empty: empty,\r\n        multiple: multiple,\r\n        disabled: disabled,\r\n        visible: realOpen,\r\n        inputValue: state.inputValue,\r\n        value: state.value,\r\n        backfillValue: state.backfillValue,\r\n        firstActiveValue: props.firstActiveValue,\r\n        onDropdownVisibleChange: this.onDropdownVisibleChange,\r\n        getPopupContainer: props.getPopupContainer,\r\n        onMenuSelect: this.onMenuSelect,\r\n        onMenuDeselect: this.onMenuDeselect,\r\n        onPopupScroll: props.onPopupScroll,\r\n        showAction: props.showAction,\r\n        ref: this.saveSelectTriggerRef,\r\n        menuItemSelectedIcon: props.menuItemSelectedIcon,\r\n        dropdownRender: props.dropdownRender,\r\n        ariaId: ariaId\r\n      }, React.createElement(\"div\", {\r\n        id: props.id,\r\n        style: props.style,\r\n        ref: this.saveRootRef,\r\n        onBlur: this.onOuterBlur,\r\n        onFocus: this.onOuterFocus,\r\n        className: classnames(rootCls),\r\n        onMouseDown: this.markMouseDown,\r\n        onMouseUp: this.markMouseLeave,\r\n        onMouseOut: this.markMouseLeave\r\n      }, React.createElement(\"div\", _extends({\r\n        ref: this.saveSelectionRef,\r\n        key: \"selection\",\r\n        className: \"\".concat(prefixCls, \"-selection\\n            \").concat(prefixCls, \"-selection--\").concat(multiple ? 'multiple' : 'single'),\r\n        role: \"combobox\",\r\n        \"aria-autocomplete\": \"list\",\r\n        \"aria-haspopup\": \"true\",\r\n        \"aria-controls\": ariaId,\r\n        \"aria-expanded\": realOpen\r\n      }, extraSelectionProps), ctrlNode, this.renderClear(), this.renderArrow(!!multiple))));\r\n    }\r\n  }]);\r\n\r\n  return Select;\r\n}(React.Component);\r\n\r\nSelect.propTypes = SelectPropTypes;\r\nSelect.defaultProps = {\r\n  prefixCls: 'rc-select',\r\n  defaultOpen: false,\r\n  labelInValue: false,\r\n  defaultActiveFirstOption: true,\r\n  showSearch: true,\r\n  allowClear: false,\r\n  placeholder: '',\r\n  onChange: noop,\r\n  onFocus: noop,\r\n  onBlur: noop,\r\n  onSelect: noop,\r\n  onSearch: noop,\r\n  onDeselect: noop,\r\n  onInputKeyDown: noop,\r\n  dropdownMatchSelectWidth: true,\r\n  dropdownStyle: {},\r\n  dropdownMenuStyle: {},\r\n  optionFilterProp: 'value',\r\n  optionLabelProp: 'value',\r\n  notFoundContent: 'Not Found',\r\n  backfill: false,\r\n  showAction: ['click'],\r\n  tokenSeparators: [],\r\n  autoClearSearchValue: true,\r\n  tabIndex: 0,\r\n  dropdownRender: function dropdownRender(menu) {\r\n    return menu;\r\n  }\r\n};\r\n\r\nSelect.getDerivedStateFromProps = function (nextProps, prevState) {\r\n  var optionsInfo = prevState.skipBuildOptionsInfo ? prevState.optionsInfo : Select.getOptionsInfoFromProps(nextProps, prevState);\r\n  var newState = {\r\n    optionsInfo: optionsInfo,\r\n    skipBuildOptionsInfo: false\r\n  };\r\n\r\n  if ('open' in nextProps) {\r\n    newState.open = nextProps.open;\r\n  }\r\n\r\n  if ('value' in nextProps) {\r\n    var value = Select.getValueFromProps(nextProps);\r\n    newState.value = value;\r\n\r\n    if (nextProps.combobox) {\r\n      newState.inputValue = Select.getInputValueForCombobox(nextProps, optionsInfo);\r\n    }\r\n  }\r\n\r\n  return newState;\r\n};\r\n\r\nSelect.getOptionsFromChildren = function (children) {\r\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\r\n  React.Children.forEach(children, function (child) {\r\n    if (!child) {\r\n      return;\r\n    }\r\n\r\n    var type = child.type;\r\n\r\n    if (type.isSelectOptGroup) {\r\n      Select.getOptionsFromChildren(child.props.children, options);\r\n    } else {\r\n      options.push(child);\r\n    }\r\n  });\r\n  return options;\r\n};\r\n\r\nSelect.getInputValueForCombobox = function (props, optionsInfo, useDefaultValue) {\r\n  var value = [];\r\n\r\n  if ('value' in props && !useDefaultValue) {\r\n    value = toArray(props.value);\r\n  }\r\n\r\n  if ('defaultValue' in props && useDefaultValue) {\r\n    value = toArray(props.defaultValue);\r\n  }\r\n\r\n  if (value.length) {\r\n    value = value[0];\r\n  } else {\r\n    return '';\r\n  }\r\n\r\n  var label = value;\r\n\r\n  if (props.labelInValue) {\r\n    label = value.label;\r\n  } else if (optionsInfo[getMapKey(value)]) {\r\n    label = optionsInfo[getMapKey(value)].label;\r\n  }\r\n\r\n  if (label === undefined) {\r\n    label = '';\r\n  }\r\n\r\n  return label;\r\n};\r\n\r\nSelect.getLabelFromOption = function (props, option) {\r\n  return getPropValue(option, props.optionLabelProp);\r\n};\r\n\r\nSelect.getOptionsInfoFromProps = function (props, preState) {\r\n  var options = Select.getOptionsFromChildren(props.children);\r\n  var optionsInfo = {};\r\n  options.forEach(function (option) {\r\n    var singleValue = getValuePropValue(option);\r\n    optionsInfo[getMapKey(singleValue)] = {\r\n      option: option,\r\n      value: singleValue,\r\n      label: Select.getLabelFromOption(props, option),\r\n      title: option.props.title,\r\n      disabled: option.props.disabled\r\n    };\r\n  });\r\n\r\n  if (preState) {\r\n    // keep option info in pre state value.\r\n    var oldOptionsInfo = preState.optionsInfo;\r\n    var value = preState.value;\r\n\r\n    if (value) {\r\n      value.forEach(function (v) {\r\n        var key = getMapKey(v);\r\n\r\n        if (!optionsInfo[key] && oldOptionsInfo[key] !== undefined) {\r\n          optionsInfo[key] = oldOptionsInfo[key];\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  return optionsInfo;\r\n};\r\n\r\nSelect.getValueFromProps = function (props, useDefaultValue) {\r\n  var value = [];\r\n\r\n  if ('value' in props && !useDefaultValue) {\r\n    value = toArray(props.value);\r\n  }\r\n\r\n  if ('defaultValue' in props && useDefaultValue) {\r\n    value = toArray(props.defaultValue);\r\n  }\r\n\r\n  if (props.labelInValue) {\r\n    value = value.map(function (v) {\r\n      return v.key;\r\n    });\r\n  }\r\n\r\n  return value;\r\n};\r\n\r\nSelect.displayName = 'Select';\r\npolyfill(Select);\r\nexport default Select;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}