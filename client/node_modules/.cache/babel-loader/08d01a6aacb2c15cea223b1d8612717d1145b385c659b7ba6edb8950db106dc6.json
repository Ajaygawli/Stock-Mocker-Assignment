{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n    return arr2;\n  }\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n  return target;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n/**\n * ARIA: https://www.w3.org/TR/wai-aria/#combobox\n * Sample 1: https://www.w3.org/TR/2017/NOTE-wai-aria-practices-1.1-20171214/examples/combobox/aria1.1pattern/listbox-combo.html\n * Sample 2: https://www.w3.org/blog/wai-components-gallery/widget/combobox-with-aria-autocompleteinline/\n *\n * Tab logic:\n * Popup is close\n * 1. Focus input (mark component as focused)\n * 2. Press enter to show the popup\n * 3. If popup has input, focus it\n *\n * Popup is open\n * 1. press tab to close the popup\n * 2. Focus back to the selection input box\n * 3. Let the native tab going on\n *\n * TreeSelect use 2 design type.\n * In single mode, we should focus on the `span`\n * In multiple mode, we should focus on the `input`\n */\nimport React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport shallowEqual from 'shallowequal';\nimport raf from 'raf';\nimport scrollIntoView from 'dom-scroll-into-view';\nimport SelectTrigger from './SelectTrigger';\nimport { selectorContextTypes } from './Base/BaseSelector';\nimport { popupContextTypes } from './Base/BasePopup';\nimport SingleSelector from './Selector/SingleSelector';\nimport MultipleSelector, { multipleSelectorContextTypes } from './Selector/MultipleSelector';\nimport SinglePopup from './Popup/SinglePopup';\nimport MultiplePopup from './Popup/MultiplePopup';\nimport { SHOW_ALL, SHOW_PARENT, SHOW_CHILD } from './strategies';\nimport { createRef, generateAriaId, formatInternalValue, formatSelectorValue, parseSimpleTreeData, convertDataToTree, convertTreeToEntities, conductCheck, getHalfCheckedKeys, flatToHierarchy, isPosRelated, isLabelInValue, getFilterTree, cleanEntity, findPopupContainer } from './util';\nimport { valueProp } from './propTypes';\nimport SelectNode from './SelectNode';\nvar Select = /*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Select, _React$Component);\n  function Select(_props) {\n    var _this;\n    _classCallCheck(this, Select);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, _props));\n    _defineProperty(_assertThisInitialized(_this), \"onSelectorFocus\", function () {\n      _this.setState({\n        focused: true\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onSelectorBlur\", function () {\n      _this.setState({\n        focused: false\n      }); // TODO: Close when Popup is also not focused\n      // this.setState({ open: false });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onComponentKeyDown\", function (event) {\n      var open = _this.state.open;\n      var keyCode = event.keyCode;\n      if (!open) {\n        if ([KeyCode.ENTER, KeyCode.DOWN].indexOf(keyCode) !== -1) {\n          _this.setOpenState(true);\n        }\n      } else if (KeyCode.ESC === keyCode) {\n        _this.setOpenState(false);\n      } else if ([KeyCode.UP, KeyCode.DOWN, KeyCode.LEFT, KeyCode.RIGHT].indexOf(keyCode) !== -1) {\n        // TODO: Handle `open` state\n        event.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDeselect\", function (wrappedValue, node, nodeEventInfo) {\n      var onDeselect = _this.props.onDeselect;\n      if (!onDeselect) return;\n      onDeselect(wrappedValue, node, nodeEventInfo);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onSelectorClear\", function (event) {\n      var disabled = _this.props.disabled;\n      if (disabled) return;\n      _this.triggerChange([], []);\n      if (!_this.isSearchValueControlled()) {\n        _this.setUncontrolledState({\n          searchValue: '',\n          filteredTreeNodes: null\n        });\n      }\n      event.stopPropagation();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMultipleSelectorRemove\", function (event, removeValue) {\n      event.stopPropagation();\n      var _this$state = _this.state,\n        valueList = _this$state.valueList,\n        missValueList = _this$state.missValueList,\n        valueEntities = _this$state.valueEntities;\n      var _this$props = _this.props,\n        treeCheckable = _this$props.treeCheckable,\n        treeCheckStrictly = _this$props.treeCheckStrictly,\n        treeNodeLabelProp = _this$props.treeNodeLabelProp,\n        disabled = _this$props.disabled;\n      if (disabled) return; // Find trigger entity\n\n      var triggerEntity = valueEntities[removeValue]; // Clean up value\n\n      var newValueList = valueList;\n      if (triggerEntity) {\n        // If value is in tree\n        if (treeCheckable && !treeCheckStrictly) {\n          newValueList = valueList.filter(function (_ref) {\n            var value = _ref.value;\n            var entity = valueEntities[value];\n            return !isPosRelated(entity.pos, triggerEntity.pos);\n          });\n        } else {\n          newValueList = valueList.filter(function (_ref2) {\n            var value = _ref2.value;\n            return value !== removeValue;\n          });\n        }\n      }\n      var triggerNode = triggerEntity ? triggerEntity.node : null;\n      var extraInfo = {\n        triggerValue: removeValue,\n        triggerNode: triggerNode\n      };\n      var deselectInfo = {\n        node: triggerNode\n      }; // [Legacy] Little hack on this to make same action as `onCheck` event.\n\n      if (treeCheckable) {\n        var filteredEntityList = newValueList.map(function (_ref3) {\n          var value = _ref3.value;\n          return valueEntities[value];\n        });\n        deselectInfo.event = 'check';\n        deselectInfo.checked = false;\n        deselectInfo.checkedNodes = filteredEntityList.map(function (_ref4) {\n          var node = _ref4.node;\n          return node;\n        });\n        deselectInfo.checkedNodesPositions = filteredEntityList.map(function (_ref5) {\n          var node = _ref5.node,\n            pos = _ref5.pos;\n          return {\n            node: node,\n            pos: pos\n          };\n        });\n        if (treeCheckStrictly) {\n          extraInfo.allCheckedNodes = deselectInfo.checkedNodes;\n        } else {\n          // TODO: It's too expansive to get `halfCheckedKeys` in onDeselect. Not pass this.\n          extraInfo.allCheckedNodes = flatToHierarchy(filteredEntityList).map(function (_ref6) {\n            var node = _ref6.node;\n            return node;\n          });\n        }\n      } else {\n        deselectInfo.event = 'select';\n        deselectInfo.selected = false;\n        deselectInfo.selectedNodes = newValueList.map(function (_ref7) {\n          var value = _ref7.value;\n          return (valueEntities[value] || {}).node;\n        });\n      } // Some value user pass prop is not in the tree, we also need clean it\n\n      var newMissValueList = missValueList.filter(function (_ref8) {\n        var value = _ref8.value;\n        return value !== removeValue;\n      });\n      var wrappedValue;\n      if (_this.isLabelInValue()) {\n        wrappedValue = {\n          label: triggerNode ? triggerNode.props[treeNodeLabelProp] : null,\n          value: removeValue\n        };\n      } else {\n        wrappedValue = removeValue;\n      }\n      _this.onDeselect(wrappedValue, triggerNode, deselectInfo);\n      _this.triggerChange(newMissValueList, newValueList, extraInfo);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onValueTrigger\", function (isAdd, nodeList, nodeEventInfo, nodeExtraInfo) {\n      var node = nodeEventInfo.node;\n      var value = node.props.value;\n      var _this$state2 = _this.state,\n        missValueList = _this$state2.missValueList,\n        valueEntities = _this$state2.valueEntities,\n        keyEntities = _this$state2.keyEntities,\n        searchValue = _this$state2.searchValue;\n      var _this$props2 = _this.props,\n        disabled = _this$props2.disabled,\n        inputValue = _this$props2.inputValue,\n        treeNodeLabelProp = _this$props2.treeNodeLabelProp,\n        onSelect = _this$props2.onSelect,\n        onSearch = _this$props2.onSearch,\n        multiple = _this$props2.multiple,\n        treeCheckable = _this$props2.treeCheckable,\n        treeCheckStrictly = _this$props2.treeCheckStrictly,\n        autoClearSearchValue = _this$props2.autoClearSearchValue;\n      var label = node.props[treeNodeLabelProp];\n      if (disabled) return; // Wrap the return value for user\n\n      var wrappedValue;\n      if (_this.isLabelInValue()) {\n        wrappedValue = {\n          value: value,\n          label: label\n        };\n      } else {\n        wrappedValue = value;\n      } // [Legacy] Origin code not trigger `onDeselect` every time. Let's align the behaviour.\n\n      if (isAdd) {\n        if (onSelect) {\n          onSelect(wrappedValue, node, nodeEventInfo);\n        }\n      } else {\n        _this.onDeselect(wrappedValue, node, nodeEventInfo);\n      } // Get wrapped value list.\n      // This is a bit hack cause we use key to match the value.\n\n      var newValueList = nodeList.map(function (_ref9) {\n        var props = _ref9.props;\n        return {\n          value: props.value,\n          label: props[treeNodeLabelProp]\n        };\n      }); // When is `treeCheckable` and with `searchValue`, `valueList` is not full filled.\n      // We need calculate the missing nodes.\n\n      if (treeCheckable && !treeCheckStrictly) {\n        var keyList = newValueList.map(function (_ref10) {\n          var val = _ref10.value;\n          return valueEntities[val].key;\n        });\n        if (isAdd) {\n          keyList = conductCheck(keyList, true, keyEntities).checkedKeys;\n        } else {\n          keyList = conductCheck([valueEntities[value].key], false, keyEntities, {\n            checkedKeys: keyList\n          }).checkedKeys;\n        }\n        newValueList = keyList.map(function (key) {\n          var props = keyEntities[key].node.props;\n          return {\n            value: props.value,\n            label: props[treeNodeLabelProp]\n          };\n        });\n      } // Clean up `searchValue` when this prop is set\n\n      if (autoClearSearchValue || inputValue === null) {\n        // Clean state `searchValue` if uncontrolled\n        if (!_this.isSearchValueControlled() && (multiple || treeCheckable)) {\n          _this.setUncontrolledState({\n            searchValue: '',\n            filteredTreeNodes: null\n          });\n        } // Trigger onSearch if `searchValue` to be empty.\n        // We should also trigger onSearch with empty string here\n        // since if user use `treeExpandedKeys`, it need user have the ability to reset it.\n\n        if (onSearch && searchValue && searchValue.length) {\n          onSearch('');\n        }\n      } // [Legacy] Provide extra info\n\n      var extraInfo = _objectSpread({}, nodeExtraInfo, {\n        triggerValue: value,\n        triggerNode: node\n      });\n      _this.triggerChange(missValueList, newValueList, extraInfo);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTreeNodeSelect\", function (_, nodeEventInfo) {\n      var _this$state3 = _this.state,\n        valueList = _this$state3.valueList,\n        valueEntities = _this$state3.valueEntities;\n      var _this$props3 = _this.props,\n        treeCheckable = _this$props3.treeCheckable,\n        multiple = _this$props3.multiple;\n      if (treeCheckable) return;\n      if (!multiple) {\n        _this.setOpenState(false);\n      }\n      var isAdd = nodeEventInfo.selected;\n      var selectedValue = nodeEventInfo.node.props.value;\n      var newValueList;\n      if (!multiple) {\n        newValueList = [{\n          value: selectedValue\n        }];\n      } else {\n        newValueList = valueList.filter(function (_ref11) {\n          var value = _ref11.value;\n          return value !== selectedValue;\n        });\n        if (isAdd) {\n          newValueList.push({\n            value: selectedValue\n          });\n        }\n      }\n      var selectedNodes = newValueList.map(function (_ref12) {\n        var value = _ref12.value;\n        return valueEntities[value];\n      }).filter(function (entity) {\n        return entity;\n      }).map(function (_ref13) {\n        var node = _ref13.node;\n        return node;\n      });\n      _this.onValueTrigger(isAdd, selectedNodes, nodeEventInfo, {\n        selected: isAdd\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTreeNodeCheck\", function (_, nodeEventInfo) {\n      var _this$state4 = _this.state,\n        searchValue = _this$state4.searchValue,\n        keyEntities = _this$state4.keyEntities,\n        valueEntities = _this$state4.valueEntities,\n        valueList = _this$state4.valueList;\n      var treeCheckStrictly = _this.props.treeCheckStrictly;\n      var checkedNodes = nodeEventInfo.checkedNodes,\n        checkedNodesPositions = nodeEventInfo.checkedNodesPositions;\n      var isAdd = nodeEventInfo.checked;\n      var extraInfo = {\n        checked: isAdd\n      };\n      var checkedNodeList = checkedNodes; // [Legacy] Check event provide `allCheckedNodes`.\n      // When `treeCheckStrictly` or internal `searchValue` is set, TreeNode will be unrelated:\n      // - Related: Show the top checked nodes and has children prop.\n      // - Unrelated: Show all the checked nodes.\n\n      if (searchValue) {\n        var oriKeyList = valueList.map(function (_ref14) {\n          var value = _ref14.value;\n          return valueEntities[value];\n        }).filter(function (entity) {\n          return entity;\n        }).map(function (_ref15) {\n          var key = _ref15.key;\n          return key;\n        });\n        var keyList;\n        if (isAdd) {\n          keyList = Array.from(new Set([].concat(_toConsumableArray(oriKeyList), _toConsumableArray(checkedNodeList.map(function (_ref16) {\n            var value = _ref16.props.value;\n            return valueEntities[value].key;\n          })))));\n        } else {\n          keyList = conductCheck([nodeEventInfo.node.props.eventKey], false, keyEntities, {\n            checkedKeys: oriKeyList\n          }).checkedKeys;\n        }\n        checkedNodeList = keyList.map(function (key) {\n          return keyEntities[key].node;\n        }); // Let's follow as not `treeCheckStrictly` format\n\n        extraInfo.allCheckedNodes = keyList.map(function (key) {\n          return cleanEntity(keyEntities[key]);\n        });\n      } else if (treeCheckStrictly) {\n        extraInfo.allCheckedNodes = nodeEventInfo.checkedNodes;\n      } else {\n        extraInfo.allCheckedNodes = flatToHierarchy(checkedNodesPositions);\n      }\n      _this.onValueTrigger(isAdd, checkedNodeList, nodeEventInfo, extraInfo);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDropdownVisibleChange\", function (open) {\n      var _this$props4 = _this.props,\n        multiple = _this$props4.multiple,\n        treeCheckable = _this$props4.treeCheckable;\n      var searchValue = _this.state.searchValue; // When set open success and single mode,\n      // we will reset the input content.\n\n      if (open && !multiple && !treeCheckable && searchValue) {\n        _this.setUncontrolledState({\n          searchValue: '',\n          filteredTreeNodes: null\n        });\n      }\n      _this.setOpenState(open, true);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onSearchInputChange\", function (_ref17) {\n      var value = _ref17.target.value;\n      var _this$state5 = _this.state,\n        treeNodes = _this$state5.treeNodes,\n        valueEntities = _this$state5.valueEntities;\n      var _this$props5 = _this.props,\n        onSearch = _this$props5.onSearch,\n        filterTreeNode = _this$props5.filterTreeNode,\n        treeNodeFilterProp = _this$props5.treeNodeFilterProp;\n      if (onSearch) {\n        onSearch(value);\n      }\n      var isSet = false;\n      if (!_this.isSearchValueControlled()) {\n        isSet = _this.setUncontrolledState({\n          searchValue: value\n        });\n        _this.setOpenState(true);\n      }\n      if (isSet) {\n        // Do the search logic\n        var upperSearchValue = String(value).toUpperCase();\n        var filterTreeNodeFn = filterTreeNode;\n        if (filterTreeNode === false) {\n          filterTreeNodeFn = function filterTreeNodeFn() {\n            return true;\n          };\n        } else if (!filterTreeNodeFn) {\n          filterTreeNodeFn = function filterTreeNodeFn(_, node) {\n            var nodeValue = String(node.props[treeNodeFilterProp]).toUpperCase();\n            return nodeValue.indexOf(upperSearchValue) !== -1;\n          };\n        }\n        _this.setState({\n          filteredTreeNodes: getFilterTree(treeNodes, value, filterTreeNodeFn, valueEntities)\n        });\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onSearchInputKeyDown\", function (event) {\n      var _this$state6 = _this.state,\n        searchValue = _this$state6.searchValue,\n        valueList = _this$state6.valueList;\n      var keyCode = event.keyCode;\n      if (KeyCode.BACKSPACE === keyCode && _this.isMultiple() && !searchValue && valueList.length) {\n        var lastValue = valueList[valueList.length - 1].value;\n        _this.onMultipleSelectorRemove(event, lastValue);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onChoiceAnimationLeave\", function () {\n      _this.forcePopupAlign();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setPopupRef\", function (popup) {\n      _this.popup = popup;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setUncontrolledState\", function (state) {\n      var needSync = false;\n      var newState = {};\n      Object.keys(state).forEach(function (name) {\n        if (name in _this.props) return;\n        needSync = true;\n        newState[name] = state[name];\n      });\n      if (needSync) {\n        _this.setState(newState);\n      }\n      return needSync;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setOpenState\", function (open) {\n      var byTrigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var onDropdownVisibleChange = _this.props.onDropdownVisibleChange;\n      if (onDropdownVisibleChange && onDropdownVisibleChange(open, {\n        documentClickClose: !open && byTrigger\n      }) === false) {\n        return;\n      }\n      _this.setUncontrolledState({\n        open: open\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"isMultiple\", function () {\n      var _this$props6 = _this.props,\n        multiple = _this$props6.multiple,\n        treeCheckable = _this$props6.treeCheckable;\n      return !!(multiple || treeCheckable);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"isLabelInValue\", function () {\n      return isLabelInValue(_this.props);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"isSearchValueControlled\", function () {\n      var inputValue = _this.props.inputValue;\n      if ('searchValue' in _this.props) return true;\n      return 'inputValue' in _this.props && inputValue !== null;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"forcePopupAlign\", function () {\n      var $trigger = _this.selectTriggerRef.current;\n      if ($trigger) {\n        $trigger.forcePopupAlign();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"delayForcePopupAlign\", function () {\n      // Wait 2 frame to avoid dom update & dom algin in the same time\n      // https://github.com/ant-design/ant-design/issues/12031\n      raf(function () {\n        raf(_this.forcePopupAlign);\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"triggerChange\", function (missValueList, valueList) {\n      var extraInfo = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var _this$state7 = _this.state,\n        valueEntities = _this$state7.valueEntities,\n        searchValue = _this$state7.searchValue,\n        prevSelectorValueList = _this$state7.selectorValueList;\n      var _this$props7 = _this.props,\n        onChange = _this$props7.onChange,\n        disabled = _this$props7.disabled,\n        treeCheckable = _this$props7.treeCheckable,\n        treeCheckStrictly = _this$props7.treeCheckStrictly;\n      if (disabled) return; // Trigger\n\n      var extra = _objectSpread({\n        // [Legacy] Always return as array contains label & value\n        preValue: prevSelectorValueList.map(function (_ref18) {\n          var label = _ref18.label,\n            value = _ref18.value;\n          return {\n            label: label,\n            value: value\n          };\n        })\n      }, extraInfo); // Format value by `treeCheckStrictly`\n\n      var selectorValueList = formatSelectorValue(valueList, _this.props, valueEntities);\n      if (!('value' in _this.props)) {\n        var newState = {\n          missValueList: missValueList,\n          valueList: valueList,\n          selectorValueList: selectorValueList\n        };\n        if (searchValue && treeCheckable && !treeCheckStrictly) {\n          newState.searchHalfCheckedKeys = getHalfCheckedKeys(valueList, valueEntities);\n        }\n        _this.setState(newState);\n      } // Only do the logic when `onChange` function provided\n\n      if (onChange) {\n        var connectValueList; // Get value by mode\n\n        if (_this.isMultiple()) {\n          connectValueList = [].concat(_toConsumableArray(missValueList), _toConsumableArray(selectorValueList));\n        } else {\n          connectValueList = selectorValueList.slice(0, 1);\n        }\n        var labelList = null;\n        var returnValue;\n        if (_this.isLabelInValue()) {\n          returnValue = connectValueList.map(function (_ref19) {\n            var label = _ref19.label,\n              value = _ref19.value;\n            return {\n              label: label,\n              value: value\n            };\n          });\n        } else {\n          labelList = [];\n          returnValue = connectValueList.map(function (_ref20) {\n            var label = _ref20.label,\n              value = _ref20.value;\n            labelList.push(label);\n            return value;\n          });\n        }\n        if (!_this.isMultiple()) {\n          returnValue = returnValue[0];\n        }\n        onChange(returnValue, labelList, extra);\n      }\n    });\n    var prefixAria = _props.prefixAria,\n      defaultOpen = _props.defaultOpen,\n      _open = _props.open;\n    _this.state = {\n      open: _open || defaultOpen,\n      valueList: [],\n      searchHalfCheckedKeys: [],\n      missValueList: [],\n      // Contains the value not in the tree\n      selectorValueList: [],\n      // Used for multiple selector\n      valueEntities: {},\n      keyEntities: {},\n      searchValue: '',\n      init: true\n    };\n    _this.selectorRef = createRef();\n    _this.selectTriggerRef = createRef(); // ARIA need `aria-controls` props mapping\n    // Since this need user input. Let's generate ourselves\n\n    _this.ariaId = generateAriaId(\"\".concat(prefixAria, \"-list\"));\n    return _this;\n  }\n  _createClass(Select, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        rcTreeSelect: {\n          onSelectorFocus: this.onSelectorFocus,\n          onSelectorBlur: this.onSelectorBlur,\n          onSelectorKeyDown: this.onComponentKeyDown,\n          onSelectorClear: this.onSelectorClear,\n          onMultipleSelectorRemove: this.onMultipleSelectorRemove,\n          onTreeNodeSelect: this.onTreeNodeSelect,\n          onTreeNodeCheck: this.onTreeNodeCheck,\n          onPopupKeyDown: this.onComponentKeyDown,\n          onSearchInputChange: this.onSearchInputChange,\n          onSearchInputKeyDown: this.onSearchInputKeyDown\n        }\n      };\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props8 = this.props,\n        autoFocus = _this$props8.autoFocus,\n        disabled = _this$props8.disabled;\n      if (autoFocus && !disabled) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_, prevState) {\n      var _this2 = this;\n      var prefixCls = this.props.prefixCls;\n      var _this$state8 = this.state,\n        valueList = _this$state8.valueList,\n        open = _this$state8.open,\n        selectorValueList = _this$state8.selectorValueList,\n        valueEntities = _this$state8.valueEntities;\n      var isMultiple = this.isMultiple();\n      if (prevState.valueList !== valueList) {\n        this.forcePopupAlign();\n      } // Scroll to value position, only need sync on single mode\n\n      if (!isMultiple && selectorValueList.length && !prevState.open && open && this.popup) {\n        var value = selectorValueList[0].value;\n        var _this$popup$getTree = this.popup.getTree(),\n          domTreeNodes = _this$popup$getTree.domTreeNodes;\n        var _ref21 = valueEntities[value] || {},\n          key = _ref21.key;\n        var treeNode = domTreeNodes[key];\n        if (treeNode) {\n          var domNode = findDOMNode(treeNode);\n          raf(function () {\n            var popupNode = findDOMNode(_this2.popup);\n            var triggerContainer = findPopupContainer(popupNode, \"\".concat(prefixCls, \"-dropdown\"));\n            if (domNode && triggerContainer) {\n              scrollIntoView(domNode, triggerContainer, {\n                onlyScrollIfNeeded: true,\n                offsetTop: _this2.popup.searchRef.current.offsetHeight\n              });\n            }\n          });\n        }\n      }\n    } // ==================== Selector ====================\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.selectorRef.current.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.selectorRef.current.blur();\n    } // ===================== Render =====================\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state9 = this.state,\n        valueList = _this$state9.valueList,\n        missValueList = _this$state9.missValueList,\n        selectorValueList = _this$state9.selectorValueList,\n        searchHalfCheckedKeys = _this$state9.searchHalfCheckedKeys,\n        valueEntities = _this$state9.valueEntities,\n        keyEntities = _this$state9.keyEntities,\n        searchValue = _this$state9.searchValue,\n        open = _this$state9.open,\n        focused = _this$state9.focused,\n        treeNodes = _this$state9.treeNodes,\n        filteredTreeNodes = _this$state9.filteredTreeNodes;\n      var _this$props9 = this.props,\n        prefixCls = _this$props9.prefixCls,\n        treeExpandedKeys = _this$props9.treeExpandedKeys,\n        onTreeExpand = _this$props9.onTreeExpand;\n      var isMultiple = this.isMultiple();\n      var passProps = _objectSpread({}, this.props, {\n        isMultiple: isMultiple,\n        valueList: valueList,\n        searchHalfCheckedKeys: searchHalfCheckedKeys,\n        selectorValueList: [].concat(_toConsumableArray(missValueList), _toConsumableArray(selectorValueList)),\n        valueEntities: valueEntities,\n        keyEntities: keyEntities,\n        searchValue: searchValue,\n        upperSearchValue: (searchValue || '').toUpperCase(),\n        // Perf save\n        open: open,\n        focused: focused,\n        onChoiceAnimationLeave: this.onChoiceAnimationLeave,\n        dropdownPrefixCls: \"\".concat(prefixCls, \"-dropdown\"),\n        ariaId: this.ariaId\n      });\n      var Popup = isMultiple ? MultiplePopup : SinglePopup;\n      var $popup = React.createElement(Popup, _extends({\n        ref: this.setPopupRef\n      }, passProps, {\n        onTreeExpanded: this.delayForcePopupAlign,\n        treeNodes: treeNodes,\n        filteredTreeNodes: filteredTreeNodes // Tree expanded control\n        ,\n\n        treeExpandedKeys: treeExpandedKeys,\n        onTreeExpand: onTreeExpand\n      }));\n      var Selector = isMultiple ? MultipleSelector : SingleSelector;\n      var $selector = React.createElement(Selector, _extends({}, passProps, {\n        ref: this.selectorRef\n      }));\n      return React.createElement(SelectTrigger, _extends({}, passProps, {\n        ref: this.selectTriggerRef,\n        popupElement: $popup,\n        onKeyDown: this.onKeyDown,\n        onDropdownVisibleChange: this.onDropdownVisibleChange\n      }), $selector);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var _prevState$prevProps = prevState.prevProps,\n        prevProps = _prevState$prevProps === void 0 ? {} : _prevState$prevProps;\n      var treeCheckable = nextProps.treeCheckable,\n        treeCheckStrictly = nextProps.treeCheckStrictly,\n        filterTreeNode = nextProps.filterTreeNode,\n        treeNodeFilterProp = nextProps.treeNodeFilterProp,\n        treeDataSimpleMode = nextProps.treeDataSimpleMode;\n      var newState = {\n        prevProps: nextProps,\n        init: false\n      }; // Process the state when props updated\n\n      function processState(propName, updater) {\n        if (prevProps[propName] !== nextProps[propName]) {\n          updater(nextProps[propName], prevProps[propName]);\n          return true;\n        }\n        return false;\n      }\n      var valueRefresh = false; // Open\n\n      processState('open', function (propValue) {\n        newState.open = propValue;\n      }); // Tree Nodes\n\n      var treeNodes;\n      var treeDataChanged = false;\n      var treeDataModeChanged = false;\n      processState('treeData', function (propValue) {\n        treeNodes = convertDataToTree(propValue);\n        treeDataChanged = true;\n      });\n      processState('treeDataSimpleMode', function (propValue, prevValue) {\n        if (!propValue) return;\n        var prev = !prevValue || prevValue === true ? {} : prevValue; // Shallow equal to avoid dynamic prop object\n\n        if (!shallowEqual(propValue, prev)) {\n          treeDataModeChanged = true;\n        }\n      }); // Parse by `treeDataSimpleMode`\n\n      if (treeDataSimpleMode && (treeDataChanged || treeDataModeChanged)) {\n        var simpleMapper = _objectSpread({\n          id: 'id',\n          pId: 'pId',\n          rootPId: null\n        }, treeDataSimpleMode !== true ? treeDataSimpleMode : {});\n        treeNodes = convertDataToTree(parseSimpleTreeData(nextProps.treeData, simpleMapper));\n      } // If `treeData` not provide, use children TreeNodes\n\n      if (!nextProps.treeData) {\n        processState('children', function (propValue) {\n          treeNodes = Array.isArray(propValue) ? propValue : [propValue];\n        });\n      } // Convert `treeData` to entities\n\n      if (treeNodes) {\n        var entitiesMap = convertTreeToEntities(treeNodes);\n        newState.treeNodes = treeNodes;\n        newState.posEntities = entitiesMap.posEntities;\n        newState.valueEntities = entitiesMap.valueEntities;\n        newState.keyEntities = entitiesMap.keyEntities;\n        valueRefresh = true;\n      } // Value List\n\n      if (prevState.init) {\n        processState('defaultValue', function (propValue) {\n          newState.valueList = formatInternalValue(propValue, nextProps);\n          valueRefresh = true;\n        });\n      }\n      processState('value', function (propValue) {\n        newState.valueList = formatInternalValue(propValue, nextProps);\n        valueRefresh = true;\n      }); // Selector Value List\n\n      if (valueRefresh) {\n        // Find out that value not exist in the tree\n        var missValueList = [];\n        var filteredValueList = [];\n        var keyList = []; // Get latest value list\n\n        var latestValueList = newState.valueList;\n        if (!latestValueList) {\n          // Also need add prev missValueList to avoid new treeNodes contains the value\n          latestValueList = [].concat(_toConsumableArray(prevState.valueList), _toConsumableArray(prevState.missValueList));\n        } // Get key by value\n\n        latestValueList.forEach(function (wrapperValue) {\n          var value = wrapperValue.value;\n          var entity = (newState.valueEntities || prevState.valueEntities)[value];\n          if (entity) {\n            keyList.push(entity.key);\n            filteredValueList.push(wrapperValue);\n            return;\n          } // If not match, it may caused by ajax load. We need keep this\n\n          missValueList.push(wrapperValue);\n        }); // We need calculate the value when tree is checked tree\n\n        if (treeCheckable && !treeCheckStrictly) {\n          // Calculate the keys need to be checked\n          var _conductCheck = conductCheck(keyList, true, newState.keyEntities || prevState.keyEntities),\n            checkedKeys = _conductCheck.checkedKeys; // Format value list again for internal usage\n\n          newState.valueList = checkedKeys.map(function (key) {\n            return {\n              value: (newState.keyEntities || prevState.keyEntities)[key].value\n            };\n          });\n        } else {\n          newState.valueList = filteredValueList;\n        } // Fill the missValueList, we still need display in the selector\n\n        newState.missValueList = missValueList; // Calculate the value list for `Selector` usage\n\n        newState.selectorValueList = formatSelectorValue(newState.valueList, nextProps, newState.valueEntities || prevState.valueEntities);\n      } // [Legacy] To align with `Select` component,\n      // We use `searchValue` instead of `inputValue` but still keep the api\n      // `inputValue` support `null` to work as `autoClearSearchValue`\n\n      processState('inputValue', function (propValue) {\n        if (propValue !== null) {\n          newState.searchValue = propValue;\n        }\n      }); // Search value\n\n      processState('searchValue', function (propValue) {\n        newState.searchValue = propValue;\n      }); // Do the search logic\n\n      if (newState.searchValue !== undefined || prevState.searchValue && treeNodes) {\n        var searchValue = newState.searchValue !== undefined ? newState.searchValue : prevState.searchValue;\n        var upperSearchValue = String(searchValue).toUpperCase();\n        var filterTreeNodeFn = filterTreeNode;\n        if (filterTreeNode === false) {\n          // Don't filter if is false\n          filterTreeNodeFn = function filterTreeNodeFn() {\n            return true;\n          };\n        } else if (typeof filterTreeNodeFn !== 'function') {\n          // When is not function (true or undefined), use inner filter\n          filterTreeNodeFn = function filterTreeNodeFn(_, node) {\n            var nodeValue = String(node.props[treeNodeFilterProp]).toUpperCase();\n            return nodeValue.indexOf(upperSearchValue) !== -1;\n          };\n        }\n        newState.filteredTreeNodes = getFilterTree(newState.treeNodes || prevState.treeNodes, searchValue, filterTreeNodeFn, newState.valueEntities || prevState.valueEntities);\n      } // We should re-calculate the halfCheckedKeys when in search mode\n\n      if (valueRefresh && treeCheckable && !treeCheckStrictly && (newState.searchValue || prevState.searchValue)) {\n        newState.searchHalfCheckedKeys = getHalfCheckedKeys(newState.valueList, newState.valueEntities || prevState.valueEntities);\n      } // Checked Strategy\n\n      processState('showCheckedStrategy', function () {\n        newState.selectorValueList = newState.selectorValueList || formatSelectorValue(newState.valueList || prevState.valueList, nextProps, newState.valueEntities || prevState.valueEntities);\n      });\n      return newState;\n    }\n  }]);\n  return Select;\n}(React.Component);\n_defineProperty(Select, \"propTypes\", {\n  prefixCls: PropTypes.string,\n  prefixAria: PropTypes.string,\n  multiple: PropTypes.bool,\n  showArrow: PropTypes.bool,\n  open: PropTypes.bool,\n  value: valueProp,\n  autoFocus: PropTypes.bool,\n  defaultOpen: PropTypes.bool,\n  defaultValue: valueProp,\n  showSearch: PropTypes.bool,\n  placeholder: PropTypes.node,\n  inputValue: PropTypes.string,\n  // [Legacy] Deprecated. Use `searchValue` instead.\n  searchValue: PropTypes.string,\n  autoClearSearchValue: PropTypes.bool,\n  searchPlaceholder: PropTypes.node,\n  // [Legacy] Confuse with placeholder\n  disabled: PropTypes.bool,\n  children: PropTypes.node,\n  labelInValue: PropTypes.bool,\n  maxTagCount: PropTypes.number,\n  maxTagPlaceholder: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  maxTagTextLength: PropTypes.number,\n  showCheckedStrategy: PropTypes.oneOf([SHOW_ALL, SHOW_PARENT, SHOW_CHILD]),\n  dropdownMatchSelectWidth: PropTypes.bool,\n  treeData: PropTypes.array,\n  treeDataSimpleMode: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  treeNodeFilterProp: PropTypes.string,\n  treeNodeLabelProp: PropTypes.string,\n  treeCheckable: PropTypes.oneOfType([PropTypes.bool, PropTypes.node]),\n  treeCheckStrictly: PropTypes.bool,\n  treeIcon: PropTypes.bool,\n  treeLine: PropTypes.bool,\n  treeDefaultExpandAll: PropTypes.bool,\n  treeDefaultExpandedKeys: PropTypes.array,\n  treeExpandedKeys: PropTypes.array,\n  loadData: PropTypes.func,\n  filterTreeNode: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  notFoundContent: PropTypes.node,\n  onSearch: PropTypes.func,\n  onSelect: PropTypes.func,\n  onDeselect: PropTypes.func,\n  onChange: PropTypes.func,\n  onDropdownVisibleChange: PropTypes.func,\n  onTreeExpand: PropTypes.func,\n  inputIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  clearIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  removeIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  switcherIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n});\n_defineProperty(Select, \"childContextTypes\", {\n  rcTreeSelect: PropTypes.shape(_objectSpread({}, selectorContextTypes, multipleSelectorContextTypes, popupContextTypes, {\n    onSearchInputChange: PropTypes.func,\n    onSearchInputKeyDown: PropTypes.func\n  }))\n});\n_defineProperty(Select, \"defaultProps\", {\n  prefixCls: 'rc-tree-select',\n  prefixAria: 'rc-tree-select',\n  showArrow: true,\n  showSearch: true,\n  autoClearSearchValue: true,\n  showCheckedStrategy: SHOW_CHILD,\n  // dropdownMatchSelectWidth change the origin design, set to false now\n  // ref: https://github.com/react-component/select/blob/4cad95e098a341a09de239ad6981067188842020/src/Select.jsx#L344\n  // ref: https://github.com/react-component/select/pull/71\n  treeNodeFilterProp: 'value',\n  treeNodeLabelProp: 'title',\n  treeIcon: false,\n  notFoundContent: 'Not Found'\n});\nSelect.TreeNode = SelectNode;\nSelect.SHOW_ALL = SHOW_ALL;\nSelect.SHOW_PARENT = SHOW_PARENT;\nSelect.SHOW_CHILD = SHOW_CHILD; // Let warning show correct component name\n\nSelect.displayName = 'TreeSelect';\npolyfill(Select);\nexport default Select;","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","toString","Array","from","isArray","arr2","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","p","obj","React","findDOMNode","PropTypes","polyfill","KeyCode","shallowEqual","raf","scrollIntoView","SelectTrigger","selectorContextTypes","popupContextTypes","SingleSelector","MultipleSelector","multipleSelectorContextTypes","SinglePopup","MultiplePopup","SHOW_ALL","SHOW_PARENT","SHOW_CHILD","createRef","generateAriaId","formatInternalValue","formatSelectorValue","parseSimpleTreeData","convertDataToTree","convertTreeToEntities","conductCheck","getHalfCheckedKeys","flatToHierarchy","isPosRelated","isLabelInValue","getFilterTree","cleanEntity","findPopupContainer","valueProp","SelectNode","Select","_React$Component","_props","_this","setState","focused","event","open","state","keyCode","ENTER","DOWN","indexOf","setOpenState","ESC","UP","LEFT","RIGHT","stopPropagation","wrappedValue","node","nodeEventInfo","onDeselect","disabled","triggerChange","isSearchValueControlled","setUncontrolledState","searchValue","filteredTreeNodes","removeValue","_this$state","valueList","missValueList","valueEntities","_this$props","treeCheckable","treeCheckStrictly","treeNodeLabelProp","triggerEntity","newValueList","_ref","entity","pos","_ref2","triggerNode","extraInfo","triggerValue","deselectInfo","filteredEntityList","map","_ref3","checked","checkedNodes","_ref4","checkedNodesPositions","_ref5","allCheckedNodes","_ref6","selected","selectedNodes","_ref7","newMissValueList","_ref8","label","isAdd","nodeList","nodeExtraInfo","_this$state2","keyEntities","_this$props2","inputValue","onSelect","onSearch","multiple","autoClearSearchValue","_ref9","keyList","_ref10","val","checkedKeys","_","_this$state3","_this$props3","selectedValue","_ref11","push","_ref12","_ref13","onValueTrigger","_this$state4","checkedNodeList","oriKeyList","_ref14","_ref15","Set","_ref16","eventKey","_this$props4","_ref17","_this$state5","treeNodes","_this$props5","filterTreeNode","treeNodeFilterProp","isSet","upperSearchValue","String","toUpperCase","filterTreeNodeFn","nodeValue","_this$state6","BACKSPACE","isMultiple","lastValue","onMultipleSelectorRemove","forcePopupAlign","popup","needSync","newState","name","byTrigger","undefined","onDropdownVisibleChange","documentClickClose","_this$props6","$trigger","selectTriggerRef","current","_this$state7","prevSelectorValueList","selectorValueList","_this$props7","onChange","extra","preValue","_ref18","searchHalfCheckedKeys","connectValueList","slice","labelList","returnValue","_ref19","_ref20","prefixAria","defaultOpen","_open","init","selectorRef","ariaId","getChildContext","rcTreeSelect","onSelectorFocus","onSelectorBlur","onSelectorKeyDown","onComponentKeyDown","onSelectorClear","onTreeNodeSelect","onTreeNodeCheck","onPopupKeyDown","onSearchInputChange","onSearchInputKeyDown","componentDidMount","_this$props8","autoFocus","focus","componentDidUpdate","prevState","_this2","prefixCls","_this$state8","_this$popup$getTree","getTree","domTreeNodes","_ref21","treeNode","domNode","popupNode","triggerContainer","onlyScrollIfNeeded","offsetTop","searchRef","offsetHeight","blur","render","_this$state9","_this$props9","treeExpandedKeys","onTreeExpand","passProps","onChoiceAnimationLeave","dropdownPrefixCls","Popup","$popup","createElement","ref","setPopupRef","onTreeExpanded","delayForcePopupAlign","Selector","$selector","popupElement","onKeyDown","getDerivedStateFromProps","nextProps","_prevState$prevProps","prevProps","treeDataSimpleMode","processState","propName","updater","valueRefresh","propValue","treeDataChanged","treeDataModeChanged","prevValue","prev","simpleMapper","id","pId","rootPId","treeData","entitiesMap","posEntities","filteredValueList","latestValueList","wrapperValue","_conductCheck","Component","string","bool","showArrow","defaultValue","showSearch","placeholder","searchPlaceholder","children","labelInValue","maxTagCount","number","maxTagPlaceholder","oneOfType","func","maxTagTextLength","showCheckedStrategy","oneOf","dropdownMatchSelectWidth","array","object","treeIcon","treeLine","treeDefaultExpandAll","treeDefaultExpandedKeys","loadData","notFoundContent","inputIcon","clearIcon","removeIcon","switcherIcon","shape","TreeNode","displayName"],"sources":["C:/Users/ajayg/Desktop/vssample/stock_mocker/client/node_modules/rc-tree-select/es/Select.js"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * ARIA: https://www.w3.org/TR/wai-aria/#combobox\n * Sample 1: https://www.w3.org/TR/2017/NOTE-wai-aria-practices-1.1-20171214/examples/combobox/aria1.1pattern/listbox-combo.html\n * Sample 2: https://www.w3.org/blog/wai-components-gallery/widget/combobox-with-aria-autocompleteinline/\n *\n * Tab logic:\n * Popup is close\n * 1. Focus input (mark component as focused)\n * 2. Press enter to show the popup\n * 3. If popup has input, focus it\n *\n * Popup is open\n * 1. press tab to close the popup\n * 2. Focus back to the selection input box\n * 3. Let the native tab going on\n *\n * TreeSelect use 2 design type.\n * In single mode, we should focus on the `span`\n * In multiple mode, we should focus on the `input`\n */\nimport React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport shallowEqual from 'shallowequal';\nimport raf from 'raf';\nimport scrollIntoView from 'dom-scroll-into-view';\nimport SelectTrigger from './SelectTrigger';\nimport { selectorContextTypes } from './Base/BaseSelector';\nimport { popupContextTypes } from './Base/BasePopup';\nimport SingleSelector from './Selector/SingleSelector';\nimport MultipleSelector, { multipleSelectorContextTypes } from './Selector/MultipleSelector';\nimport SinglePopup from './Popup/SinglePopup';\nimport MultiplePopup from './Popup/MultiplePopup';\nimport { SHOW_ALL, SHOW_PARENT, SHOW_CHILD } from './strategies';\nimport { createRef, generateAriaId, formatInternalValue, formatSelectorValue, parseSimpleTreeData, convertDataToTree, convertTreeToEntities, conductCheck, getHalfCheckedKeys, flatToHierarchy, isPosRelated, isLabelInValue, getFilterTree, cleanEntity, findPopupContainer } from './util';\nimport { valueProp } from './propTypes';\nimport SelectNode from './SelectNode';\n\nvar Select =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Select, _React$Component);\n\n  function Select(_props) {\n    var _this;\n\n    _classCallCheck(this, Select);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Select).call(this, _props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectorFocus\", function () {\n      _this.setState({\n        focused: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectorBlur\", function () {\n      _this.setState({\n        focused: false\n      }); // TODO: Close when Popup is also not focused\n      // this.setState({ open: false });\n\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onComponentKeyDown\", function (event) {\n      var open = _this.state.open;\n      var keyCode = event.keyCode;\n\n      if (!open) {\n        if ([KeyCode.ENTER, KeyCode.DOWN].indexOf(keyCode) !== -1) {\n          _this.setOpenState(true);\n        }\n      } else if (KeyCode.ESC === keyCode) {\n        _this.setOpenState(false);\n      } else if ([KeyCode.UP, KeyCode.DOWN, KeyCode.LEFT, KeyCode.RIGHT].indexOf(keyCode) !== -1) {\n        // TODO: Handle `open` state\n        event.stopPropagation();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDeselect\", function (wrappedValue, node, nodeEventInfo) {\n      var onDeselect = _this.props.onDeselect;\n      if (!onDeselect) return;\n      onDeselect(wrappedValue, node, nodeEventInfo);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectorClear\", function (event) {\n      var disabled = _this.props.disabled;\n      if (disabled) return;\n\n      _this.triggerChange([], []);\n\n      if (!_this.isSearchValueControlled()) {\n        _this.setUncontrolledState({\n          searchValue: '',\n          filteredTreeNodes: null\n        });\n      }\n\n      event.stopPropagation();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMultipleSelectorRemove\", function (event, removeValue) {\n      event.stopPropagation();\n      var _this$state = _this.state,\n          valueList = _this$state.valueList,\n          missValueList = _this$state.missValueList,\n          valueEntities = _this$state.valueEntities;\n      var _this$props = _this.props,\n          treeCheckable = _this$props.treeCheckable,\n          treeCheckStrictly = _this$props.treeCheckStrictly,\n          treeNodeLabelProp = _this$props.treeNodeLabelProp,\n          disabled = _this$props.disabled;\n      if (disabled) return; // Find trigger entity\n\n      var triggerEntity = valueEntities[removeValue]; // Clean up value\n\n      var newValueList = valueList;\n\n      if (triggerEntity) {\n        // If value is in tree\n        if (treeCheckable && !treeCheckStrictly) {\n          newValueList = valueList.filter(function (_ref) {\n            var value = _ref.value;\n            var entity = valueEntities[value];\n            return !isPosRelated(entity.pos, triggerEntity.pos);\n          });\n        } else {\n          newValueList = valueList.filter(function (_ref2) {\n            var value = _ref2.value;\n            return value !== removeValue;\n          });\n        }\n      }\n\n      var triggerNode = triggerEntity ? triggerEntity.node : null;\n      var extraInfo = {\n        triggerValue: removeValue,\n        triggerNode: triggerNode\n      };\n      var deselectInfo = {\n        node: triggerNode\n      }; // [Legacy] Little hack on this to make same action as `onCheck` event.\n\n      if (treeCheckable) {\n        var filteredEntityList = newValueList.map(function (_ref3) {\n          var value = _ref3.value;\n          return valueEntities[value];\n        });\n        deselectInfo.event = 'check';\n        deselectInfo.checked = false;\n        deselectInfo.checkedNodes = filteredEntityList.map(function (_ref4) {\n          var node = _ref4.node;\n          return node;\n        });\n        deselectInfo.checkedNodesPositions = filteredEntityList.map(function (_ref5) {\n          var node = _ref5.node,\n              pos = _ref5.pos;\n          return {\n            node: node,\n            pos: pos\n          };\n        });\n\n        if (treeCheckStrictly) {\n          extraInfo.allCheckedNodes = deselectInfo.checkedNodes;\n        } else {\n          // TODO: It's too expansive to get `halfCheckedKeys` in onDeselect. Not pass this.\n          extraInfo.allCheckedNodes = flatToHierarchy(filteredEntityList).map(function (_ref6) {\n            var node = _ref6.node;\n            return node;\n          });\n        }\n      } else {\n        deselectInfo.event = 'select';\n        deselectInfo.selected = false;\n        deselectInfo.selectedNodes = newValueList.map(function (_ref7) {\n          var value = _ref7.value;\n          return (valueEntities[value] || {}).node;\n        });\n      } // Some value user pass prop is not in the tree, we also need clean it\n\n\n      var newMissValueList = missValueList.filter(function (_ref8) {\n        var value = _ref8.value;\n        return value !== removeValue;\n      });\n      var wrappedValue;\n\n      if (_this.isLabelInValue()) {\n        wrappedValue = {\n          label: triggerNode ? triggerNode.props[treeNodeLabelProp] : null,\n          value: removeValue\n        };\n      } else {\n        wrappedValue = removeValue;\n      }\n\n      _this.onDeselect(wrappedValue, triggerNode, deselectInfo);\n\n      _this.triggerChange(newMissValueList, newValueList, extraInfo);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onValueTrigger\", function (isAdd, nodeList, nodeEventInfo, nodeExtraInfo) {\n      var node = nodeEventInfo.node;\n      var value = node.props.value;\n      var _this$state2 = _this.state,\n          missValueList = _this$state2.missValueList,\n          valueEntities = _this$state2.valueEntities,\n          keyEntities = _this$state2.keyEntities,\n          searchValue = _this$state2.searchValue;\n      var _this$props2 = _this.props,\n          disabled = _this$props2.disabled,\n          inputValue = _this$props2.inputValue,\n          treeNodeLabelProp = _this$props2.treeNodeLabelProp,\n          onSelect = _this$props2.onSelect,\n          onSearch = _this$props2.onSearch,\n          multiple = _this$props2.multiple,\n          treeCheckable = _this$props2.treeCheckable,\n          treeCheckStrictly = _this$props2.treeCheckStrictly,\n          autoClearSearchValue = _this$props2.autoClearSearchValue;\n      var label = node.props[treeNodeLabelProp];\n      if (disabled) return; // Wrap the return value for user\n\n      var wrappedValue;\n\n      if (_this.isLabelInValue()) {\n        wrappedValue = {\n          value: value,\n          label: label\n        };\n      } else {\n        wrappedValue = value;\n      } // [Legacy] Origin code not trigger `onDeselect` every time. Let's align the behaviour.\n\n\n      if (isAdd) {\n        if (onSelect) {\n          onSelect(wrappedValue, node, nodeEventInfo);\n        }\n      } else {\n        _this.onDeselect(wrappedValue, node, nodeEventInfo);\n      } // Get wrapped value list.\n      // This is a bit hack cause we use key to match the value.\n\n\n      var newValueList = nodeList.map(function (_ref9) {\n        var props = _ref9.props;\n        return {\n          value: props.value,\n          label: props[treeNodeLabelProp]\n        };\n      }); // When is `treeCheckable` and with `searchValue`, `valueList` is not full filled.\n      // We need calculate the missing nodes.\n\n      if (treeCheckable && !treeCheckStrictly) {\n        var keyList = newValueList.map(function (_ref10) {\n          var val = _ref10.value;\n          return valueEntities[val].key;\n        });\n\n        if (isAdd) {\n          keyList = conductCheck(keyList, true, keyEntities).checkedKeys;\n        } else {\n          keyList = conductCheck([valueEntities[value].key], false, keyEntities, {\n            checkedKeys: keyList\n          }).checkedKeys;\n        }\n\n        newValueList = keyList.map(function (key) {\n          var props = keyEntities[key].node.props;\n          return {\n            value: props.value,\n            label: props[treeNodeLabelProp]\n          };\n        });\n      } // Clean up `searchValue` when this prop is set\n\n\n      if (autoClearSearchValue || inputValue === null) {\n        // Clean state `searchValue` if uncontrolled\n        if (!_this.isSearchValueControlled() && (multiple || treeCheckable)) {\n          _this.setUncontrolledState({\n            searchValue: '',\n            filteredTreeNodes: null\n          });\n        } // Trigger onSearch if `searchValue` to be empty.\n        // We should also trigger onSearch with empty string here\n        // since if user use `treeExpandedKeys`, it need user have the ability to reset it.\n\n\n        if (onSearch && searchValue && searchValue.length) {\n          onSearch('');\n        }\n      } // [Legacy] Provide extra info\n\n\n      var extraInfo = _objectSpread({}, nodeExtraInfo, {\n        triggerValue: value,\n        triggerNode: node\n      });\n\n      _this.triggerChange(missValueList, newValueList, extraInfo);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTreeNodeSelect\", function (_, nodeEventInfo) {\n      var _this$state3 = _this.state,\n          valueList = _this$state3.valueList,\n          valueEntities = _this$state3.valueEntities;\n      var _this$props3 = _this.props,\n          treeCheckable = _this$props3.treeCheckable,\n          multiple = _this$props3.multiple;\n      if (treeCheckable) return;\n\n      if (!multiple) {\n        _this.setOpenState(false);\n      }\n\n      var isAdd = nodeEventInfo.selected;\n      var selectedValue = nodeEventInfo.node.props.value;\n      var newValueList;\n\n      if (!multiple) {\n        newValueList = [{\n          value: selectedValue\n        }];\n      } else {\n        newValueList = valueList.filter(function (_ref11) {\n          var value = _ref11.value;\n          return value !== selectedValue;\n        });\n\n        if (isAdd) {\n          newValueList.push({\n            value: selectedValue\n          });\n        }\n      }\n\n      var selectedNodes = newValueList.map(function (_ref12) {\n        var value = _ref12.value;\n        return valueEntities[value];\n      }).filter(function (entity) {\n        return entity;\n      }).map(function (_ref13) {\n        var node = _ref13.node;\n        return node;\n      });\n\n      _this.onValueTrigger(isAdd, selectedNodes, nodeEventInfo, {\n        selected: isAdd\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTreeNodeCheck\", function (_, nodeEventInfo) {\n      var _this$state4 = _this.state,\n          searchValue = _this$state4.searchValue,\n          keyEntities = _this$state4.keyEntities,\n          valueEntities = _this$state4.valueEntities,\n          valueList = _this$state4.valueList;\n      var treeCheckStrictly = _this.props.treeCheckStrictly;\n      var checkedNodes = nodeEventInfo.checkedNodes,\n          checkedNodesPositions = nodeEventInfo.checkedNodesPositions;\n      var isAdd = nodeEventInfo.checked;\n      var extraInfo = {\n        checked: isAdd\n      };\n      var checkedNodeList = checkedNodes; // [Legacy] Check event provide `allCheckedNodes`.\n      // When `treeCheckStrictly` or internal `searchValue` is set, TreeNode will be unrelated:\n      // - Related: Show the top checked nodes and has children prop.\n      // - Unrelated: Show all the checked nodes.\n\n      if (searchValue) {\n        var oriKeyList = valueList.map(function (_ref14) {\n          var value = _ref14.value;\n          return valueEntities[value];\n        }).filter(function (entity) {\n          return entity;\n        }).map(function (_ref15) {\n          var key = _ref15.key;\n          return key;\n        });\n        var keyList;\n\n        if (isAdd) {\n          keyList = Array.from(new Set([].concat(_toConsumableArray(oriKeyList), _toConsumableArray(checkedNodeList.map(function (_ref16) {\n            var value = _ref16.props.value;\n            return valueEntities[value].key;\n          })))));\n        } else {\n          keyList = conductCheck([nodeEventInfo.node.props.eventKey], false, keyEntities, {\n            checkedKeys: oriKeyList\n          }).checkedKeys;\n        }\n\n        checkedNodeList = keyList.map(function (key) {\n          return keyEntities[key].node;\n        }); // Let's follow as not `treeCheckStrictly` format\n\n        extraInfo.allCheckedNodes = keyList.map(function (key) {\n          return cleanEntity(keyEntities[key]);\n        });\n      } else if (treeCheckStrictly) {\n        extraInfo.allCheckedNodes = nodeEventInfo.checkedNodes;\n      } else {\n        extraInfo.allCheckedNodes = flatToHierarchy(checkedNodesPositions);\n      }\n\n      _this.onValueTrigger(isAdd, checkedNodeList, nodeEventInfo, extraInfo);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDropdownVisibleChange\", function (open) {\n      var _this$props4 = _this.props,\n          multiple = _this$props4.multiple,\n          treeCheckable = _this$props4.treeCheckable;\n      var searchValue = _this.state.searchValue; // When set open success and single mode,\n      // we will reset the input content.\n\n      if (open && !multiple && !treeCheckable && searchValue) {\n        _this.setUncontrolledState({\n          searchValue: '',\n          filteredTreeNodes: null\n        });\n      }\n\n      _this.setOpenState(open, true);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearchInputChange\", function (_ref17) {\n      var value = _ref17.target.value;\n      var _this$state5 = _this.state,\n          treeNodes = _this$state5.treeNodes,\n          valueEntities = _this$state5.valueEntities;\n      var _this$props5 = _this.props,\n          onSearch = _this$props5.onSearch,\n          filterTreeNode = _this$props5.filterTreeNode,\n          treeNodeFilterProp = _this$props5.treeNodeFilterProp;\n\n      if (onSearch) {\n        onSearch(value);\n      }\n\n      var isSet = false;\n\n      if (!_this.isSearchValueControlled()) {\n        isSet = _this.setUncontrolledState({\n          searchValue: value\n        });\n\n        _this.setOpenState(true);\n      }\n\n      if (isSet) {\n        // Do the search logic\n        var upperSearchValue = String(value).toUpperCase();\n        var filterTreeNodeFn = filterTreeNode;\n\n        if (filterTreeNode === false) {\n          filterTreeNodeFn = function filterTreeNodeFn() {\n            return true;\n          };\n        } else if (!filterTreeNodeFn) {\n          filterTreeNodeFn = function filterTreeNodeFn(_, node) {\n            var nodeValue = String(node.props[treeNodeFilterProp]).toUpperCase();\n            return nodeValue.indexOf(upperSearchValue) !== -1;\n          };\n        }\n\n        _this.setState({\n          filteredTreeNodes: getFilterTree(treeNodes, value, filterTreeNodeFn, valueEntities)\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearchInputKeyDown\", function (event) {\n      var _this$state6 = _this.state,\n          searchValue = _this$state6.searchValue,\n          valueList = _this$state6.valueList;\n      var keyCode = event.keyCode;\n\n      if (KeyCode.BACKSPACE === keyCode && _this.isMultiple() && !searchValue && valueList.length) {\n        var lastValue = valueList[valueList.length - 1].value;\n\n        _this.onMultipleSelectorRemove(event, lastValue);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChoiceAnimationLeave\", function () {\n      _this.forcePopupAlign();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setPopupRef\", function (popup) {\n      _this.popup = popup;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setUncontrolledState\", function (state) {\n      var needSync = false;\n      var newState = {};\n      Object.keys(state).forEach(function (name) {\n        if (name in _this.props) return;\n        needSync = true;\n        newState[name] = state[name];\n      });\n\n      if (needSync) {\n        _this.setState(newState);\n      }\n\n      return needSync;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setOpenState\", function (open) {\n      var byTrigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var onDropdownVisibleChange = _this.props.onDropdownVisibleChange;\n\n      if (onDropdownVisibleChange && onDropdownVisibleChange(open, {\n        documentClickClose: !open && byTrigger\n      }) === false) {\n        return;\n      }\n\n      _this.setUncontrolledState({\n        open: open\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isMultiple\", function () {\n      var _this$props6 = _this.props,\n          multiple = _this$props6.multiple,\n          treeCheckable = _this$props6.treeCheckable;\n      return !!(multiple || treeCheckable);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isLabelInValue\", function () {\n      return isLabelInValue(_this.props);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isSearchValueControlled\", function () {\n      var inputValue = _this.props.inputValue;\n      if ('searchValue' in _this.props) return true;\n      return 'inputValue' in _this.props && inputValue !== null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"forcePopupAlign\", function () {\n      var $trigger = _this.selectTriggerRef.current;\n\n      if ($trigger) {\n        $trigger.forcePopupAlign();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"delayForcePopupAlign\", function () {\n      // Wait 2 frame to avoid dom update & dom algin in the same time\n      // https://github.com/ant-design/ant-design/issues/12031\n      raf(function () {\n        raf(_this.forcePopupAlign);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"triggerChange\", function (missValueList, valueList) {\n      var extraInfo = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var _this$state7 = _this.state,\n          valueEntities = _this$state7.valueEntities,\n          searchValue = _this$state7.searchValue,\n          prevSelectorValueList = _this$state7.selectorValueList;\n      var _this$props7 = _this.props,\n          onChange = _this$props7.onChange,\n          disabled = _this$props7.disabled,\n          treeCheckable = _this$props7.treeCheckable,\n          treeCheckStrictly = _this$props7.treeCheckStrictly;\n      if (disabled) return; // Trigger\n\n      var extra = _objectSpread({\n        // [Legacy] Always return as array contains label & value\n        preValue: prevSelectorValueList.map(function (_ref18) {\n          var label = _ref18.label,\n              value = _ref18.value;\n          return {\n            label: label,\n            value: value\n          };\n        })\n      }, extraInfo); // Format value by `treeCheckStrictly`\n\n\n      var selectorValueList = formatSelectorValue(valueList, _this.props, valueEntities);\n\n      if (!('value' in _this.props)) {\n        var newState = {\n          missValueList: missValueList,\n          valueList: valueList,\n          selectorValueList: selectorValueList\n        };\n\n        if (searchValue && treeCheckable && !treeCheckStrictly) {\n          newState.searchHalfCheckedKeys = getHalfCheckedKeys(valueList, valueEntities);\n        }\n\n        _this.setState(newState);\n      } // Only do the logic when `onChange` function provided\n\n\n      if (onChange) {\n        var connectValueList; // Get value by mode\n\n        if (_this.isMultiple()) {\n          connectValueList = [].concat(_toConsumableArray(missValueList), _toConsumableArray(selectorValueList));\n        } else {\n          connectValueList = selectorValueList.slice(0, 1);\n        }\n\n        var labelList = null;\n        var returnValue;\n\n        if (_this.isLabelInValue()) {\n          returnValue = connectValueList.map(function (_ref19) {\n            var label = _ref19.label,\n                value = _ref19.value;\n            return {\n              label: label,\n              value: value\n            };\n          });\n        } else {\n          labelList = [];\n          returnValue = connectValueList.map(function (_ref20) {\n            var label = _ref20.label,\n                value = _ref20.value;\n            labelList.push(label);\n            return value;\n          });\n        }\n\n        if (!_this.isMultiple()) {\n          returnValue = returnValue[0];\n        }\n\n        onChange(returnValue, labelList, extra);\n      }\n    });\n\n    var prefixAria = _props.prefixAria,\n        defaultOpen = _props.defaultOpen,\n        _open = _props.open;\n    _this.state = {\n      open: _open || defaultOpen,\n      valueList: [],\n      searchHalfCheckedKeys: [],\n      missValueList: [],\n      // Contains the value not in the tree\n      selectorValueList: [],\n      // Used for multiple selector\n      valueEntities: {},\n      keyEntities: {},\n      searchValue: '',\n      init: true\n    };\n    _this.selectorRef = createRef();\n    _this.selectTriggerRef = createRef(); // ARIA need `aria-controls` props mapping\n    // Since this need user input. Let's generate ourselves\n\n    _this.ariaId = generateAriaId(\"\".concat(prefixAria, \"-list\"));\n    return _this;\n  }\n\n  _createClass(Select, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        rcTreeSelect: {\n          onSelectorFocus: this.onSelectorFocus,\n          onSelectorBlur: this.onSelectorBlur,\n          onSelectorKeyDown: this.onComponentKeyDown,\n          onSelectorClear: this.onSelectorClear,\n          onMultipleSelectorRemove: this.onMultipleSelectorRemove,\n          onTreeNodeSelect: this.onTreeNodeSelect,\n          onTreeNodeCheck: this.onTreeNodeCheck,\n          onPopupKeyDown: this.onComponentKeyDown,\n          onSearchInputChange: this.onSearchInputChange,\n          onSearchInputKeyDown: this.onSearchInputKeyDown\n        }\n      };\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props8 = this.props,\n          autoFocus = _this$props8.autoFocus,\n          disabled = _this$props8.disabled;\n\n      if (autoFocus && !disabled) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_, prevState) {\n      var _this2 = this;\n\n      var prefixCls = this.props.prefixCls;\n      var _this$state8 = this.state,\n          valueList = _this$state8.valueList,\n          open = _this$state8.open,\n          selectorValueList = _this$state8.selectorValueList,\n          valueEntities = _this$state8.valueEntities;\n      var isMultiple = this.isMultiple();\n\n      if (prevState.valueList !== valueList) {\n        this.forcePopupAlign();\n      } // Scroll to value position, only need sync on single mode\n\n\n      if (!isMultiple && selectorValueList.length && !prevState.open && open && this.popup) {\n        var value = selectorValueList[0].value;\n\n        var _this$popup$getTree = this.popup.getTree(),\n            domTreeNodes = _this$popup$getTree.domTreeNodes;\n\n        var _ref21 = valueEntities[value] || {},\n            key = _ref21.key;\n\n        var treeNode = domTreeNodes[key];\n\n        if (treeNode) {\n          var domNode = findDOMNode(treeNode);\n          raf(function () {\n            var popupNode = findDOMNode(_this2.popup);\n            var triggerContainer = findPopupContainer(popupNode, \"\".concat(prefixCls, \"-dropdown\"));\n\n            if (domNode && triggerContainer) {\n              scrollIntoView(domNode, triggerContainer, {\n                onlyScrollIfNeeded: true,\n                offsetTop: _this2.popup.searchRef.current.offsetHeight\n              });\n            }\n          });\n        }\n      }\n    } // ==================== Selector ====================\n\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.selectorRef.current.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.selectorRef.current.blur();\n    } // ===================== Render =====================\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state9 = this.state,\n          valueList = _this$state9.valueList,\n          missValueList = _this$state9.missValueList,\n          selectorValueList = _this$state9.selectorValueList,\n          searchHalfCheckedKeys = _this$state9.searchHalfCheckedKeys,\n          valueEntities = _this$state9.valueEntities,\n          keyEntities = _this$state9.keyEntities,\n          searchValue = _this$state9.searchValue,\n          open = _this$state9.open,\n          focused = _this$state9.focused,\n          treeNodes = _this$state9.treeNodes,\n          filteredTreeNodes = _this$state9.filteredTreeNodes;\n      var _this$props9 = this.props,\n          prefixCls = _this$props9.prefixCls,\n          treeExpandedKeys = _this$props9.treeExpandedKeys,\n          onTreeExpand = _this$props9.onTreeExpand;\n      var isMultiple = this.isMultiple();\n\n      var passProps = _objectSpread({}, this.props, {\n        isMultiple: isMultiple,\n        valueList: valueList,\n        searchHalfCheckedKeys: searchHalfCheckedKeys,\n        selectorValueList: [].concat(_toConsumableArray(missValueList), _toConsumableArray(selectorValueList)),\n        valueEntities: valueEntities,\n        keyEntities: keyEntities,\n        searchValue: searchValue,\n        upperSearchValue: (searchValue || '').toUpperCase(),\n        // Perf save\n        open: open,\n        focused: focused,\n        onChoiceAnimationLeave: this.onChoiceAnimationLeave,\n        dropdownPrefixCls: \"\".concat(prefixCls, \"-dropdown\"),\n        ariaId: this.ariaId\n      });\n\n      var Popup = isMultiple ? MultiplePopup : SinglePopup;\n      var $popup = React.createElement(Popup, _extends({\n        ref: this.setPopupRef\n      }, passProps, {\n        onTreeExpanded: this.delayForcePopupAlign,\n        treeNodes: treeNodes,\n        filteredTreeNodes: filteredTreeNodes // Tree expanded control\n        ,\n        treeExpandedKeys: treeExpandedKeys,\n        onTreeExpand: onTreeExpand\n      }));\n      var Selector = isMultiple ? MultipleSelector : SingleSelector;\n      var $selector = React.createElement(Selector, _extends({}, passProps, {\n        ref: this.selectorRef\n      }));\n      return React.createElement(SelectTrigger, _extends({}, passProps, {\n        ref: this.selectTriggerRef,\n        popupElement: $popup,\n        onKeyDown: this.onKeyDown,\n        onDropdownVisibleChange: this.onDropdownVisibleChange\n      }), $selector);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var _prevState$prevProps = prevState.prevProps,\n          prevProps = _prevState$prevProps === void 0 ? {} : _prevState$prevProps;\n      var treeCheckable = nextProps.treeCheckable,\n          treeCheckStrictly = nextProps.treeCheckStrictly,\n          filterTreeNode = nextProps.filterTreeNode,\n          treeNodeFilterProp = nextProps.treeNodeFilterProp,\n          treeDataSimpleMode = nextProps.treeDataSimpleMode;\n      var newState = {\n        prevProps: nextProps,\n        init: false\n      }; // Process the state when props updated\n\n      function processState(propName, updater) {\n        if (prevProps[propName] !== nextProps[propName]) {\n          updater(nextProps[propName], prevProps[propName]);\n          return true;\n        }\n\n        return false;\n      }\n\n      var valueRefresh = false; // Open\n\n      processState('open', function (propValue) {\n        newState.open = propValue;\n      }); // Tree Nodes\n\n      var treeNodes;\n      var treeDataChanged = false;\n      var treeDataModeChanged = false;\n      processState('treeData', function (propValue) {\n        treeNodes = convertDataToTree(propValue);\n        treeDataChanged = true;\n      });\n      processState('treeDataSimpleMode', function (propValue, prevValue) {\n        if (!propValue) return;\n        var prev = !prevValue || prevValue === true ? {} : prevValue; // Shallow equal to avoid dynamic prop object\n\n        if (!shallowEqual(propValue, prev)) {\n          treeDataModeChanged = true;\n        }\n      }); // Parse by `treeDataSimpleMode`\n\n      if (treeDataSimpleMode && (treeDataChanged || treeDataModeChanged)) {\n        var simpleMapper = _objectSpread({\n          id: 'id',\n          pId: 'pId',\n          rootPId: null\n        }, treeDataSimpleMode !== true ? treeDataSimpleMode : {});\n\n        treeNodes = convertDataToTree(parseSimpleTreeData(nextProps.treeData, simpleMapper));\n      } // If `treeData` not provide, use children TreeNodes\n\n\n      if (!nextProps.treeData) {\n        processState('children', function (propValue) {\n          treeNodes = Array.isArray(propValue) ? propValue : [propValue];\n        });\n      } // Convert `treeData` to entities\n\n\n      if (treeNodes) {\n        var entitiesMap = convertTreeToEntities(treeNodes);\n        newState.treeNodes = treeNodes;\n        newState.posEntities = entitiesMap.posEntities;\n        newState.valueEntities = entitiesMap.valueEntities;\n        newState.keyEntities = entitiesMap.keyEntities;\n        valueRefresh = true;\n      } // Value List\n\n\n      if (prevState.init) {\n        processState('defaultValue', function (propValue) {\n          newState.valueList = formatInternalValue(propValue, nextProps);\n          valueRefresh = true;\n        });\n      }\n\n      processState('value', function (propValue) {\n        newState.valueList = formatInternalValue(propValue, nextProps);\n        valueRefresh = true;\n      }); // Selector Value List\n\n      if (valueRefresh) {\n        // Find out that value not exist in the tree\n        var missValueList = [];\n        var filteredValueList = [];\n        var keyList = []; // Get latest value list\n\n        var latestValueList = newState.valueList;\n\n        if (!latestValueList) {\n          // Also need add prev missValueList to avoid new treeNodes contains the value\n          latestValueList = [].concat(_toConsumableArray(prevState.valueList), _toConsumableArray(prevState.missValueList));\n        } // Get key by value\n\n\n        latestValueList.forEach(function (wrapperValue) {\n          var value = wrapperValue.value;\n          var entity = (newState.valueEntities || prevState.valueEntities)[value];\n\n          if (entity) {\n            keyList.push(entity.key);\n            filteredValueList.push(wrapperValue);\n            return;\n          } // If not match, it may caused by ajax load. We need keep this\n\n\n          missValueList.push(wrapperValue);\n        }); // We need calculate the value when tree is checked tree\n\n        if (treeCheckable && !treeCheckStrictly) {\n          // Calculate the keys need to be checked\n          var _conductCheck = conductCheck(keyList, true, newState.keyEntities || prevState.keyEntities),\n              checkedKeys = _conductCheck.checkedKeys; // Format value list again for internal usage\n\n\n          newState.valueList = checkedKeys.map(function (key) {\n            return {\n              value: (newState.keyEntities || prevState.keyEntities)[key].value\n            };\n          });\n        } else {\n          newState.valueList = filteredValueList;\n        } // Fill the missValueList, we still need display in the selector\n\n\n        newState.missValueList = missValueList; // Calculate the value list for `Selector` usage\n\n        newState.selectorValueList = formatSelectorValue(newState.valueList, nextProps, newState.valueEntities || prevState.valueEntities);\n      } // [Legacy] To align with `Select` component,\n      // We use `searchValue` instead of `inputValue` but still keep the api\n      // `inputValue` support `null` to work as `autoClearSearchValue`\n\n\n      processState('inputValue', function (propValue) {\n        if (propValue !== null) {\n          newState.searchValue = propValue;\n        }\n      }); // Search value\n\n      processState('searchValue', function (propValue) {\n        newState.searchValue = propValue;\n      }); // Do the search logic\n\n      if (newState.searchValue !== undefined || prevState.searchValue && treeNodes) {\n        var searchValue = newState.searchValue !== undefined ? newState.searchValue : prevState.searchValue;\n        var upperSearchValue = String(searchValue).toUpperCase();\n        var filterTreeNodeFn = filterTreeNode;\n\n        if (filterTreeNode === false) {\n          // Don't filter if is false\n          filterTreeNodeFn = function filterTreeNodeFn() {\n            return true;\n          };\n        } else if (typeof filterTreeNodeFn !== 'function') {\n          // When is not function (true or undefined), use inner filter\n          filterTreeNodeFn = function filterTreeNodeFn(_, node) {\n            var nodeValue = String(node.props[treeNodeFilterProp]).toUpperCase();\n            return nodeValue.indexOf(upperSearchValue) !== -1;\n          };\n        }\n\n        newState.filteredTreeNodes = getFilterTree(newState.treeNodes || prevState.treeNodes, searchValue, filterTreeNodeFn, newState.valueEntities || prevState.valueEntities);\n      } // We should re-calculate the halfCheckedKeys when in search mode\n\n\n      if (valueRefresh && treeCheckable && !treeCheckStrictly && (newState.searchValue || prevState.searchValue)) {\n        newState.searchHalfCheckedKeys = getHalfCheckedKeys(newState.valueList, newState.valueEntities || prevState.valueEntities);\n      } // Checked Strategy\n\n\n      processState('showCheckedStrategy', function () {\n        newState.selectorValueList = newState.selectorValueList || formatSelectorValue(newState.valueList || prevState.valueList, nextProps, newState.valueEntities || prevState.valueEntities);\n      });\n      return newState;\n    }\n  }]);\n\n  return Select;\n}(React.Component);\n\n_defineProperty(Select, \"propTypes\", {\n  prefixCls: PropTypes.string,\n  prefixAria: PropTypes.string,\n  multiple: PropTypes.bool,\n  showArrow: PropTypes.bool,\n  open: PropTypes.bool,\n  value: valueProp,\n  autoFocus: PropTypes.bool,\n  defaultOpen: PropTypes.bool,\n  defaultValue: valueProp,\n  showSearch: PropTypes.bool,\n  placeholder: PropTypes.node,\n  inputValue: PropTypes.string,\n  // [Legacy] Deprecated. Use `searchValue` instead.\n  searchValue: PropTypes.string,\n  autoClearSearchValue: PropTypes.bool,\n  searchPlaceholder: PropTypes.node,\n  // [Legacy] Confuse with placeholder\n  disabled: PropTypes.bool,\n  children: PropTypes.node,\n  labelInValue: PropTypes.bool,\n  maxTagCount: PropTypes.number,\n  maxTagPlaceholder: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  maxTagTextLength: PropTypes.number,\n  showCheckedStrategy: PropTypes.oneOf([SHOW_ALL, SHOW_PARENT, SHOW_CHILD]),\n  dropdownMatchSelectWidth: PropTypes.bool,\n  treeData: PropTypes.array,\n  treeDataSimpleMode: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  treeNodeFilterProp: PropTypes.string,\n  treeNodeLabelProp: PropTypes.string,\n  treeCheckable: PropTypes.oneOfType([PropTypes.bool, PropTypes.node]),\n  treeCheckStrictly: PropTypes.bool,\n  treeIcon: PropTypes.bool,\n  treeLine: PropTypes.bool,\n  treeDefaultExpandAll: PropTypes.bool,\n  treeDefaultExpandedKeys: PropTypes.array,\n  treeExpandedKeys: PropTypes.array,\n  loadData: PropTypes.func,\n  filterTreeNode: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n  notFoundContent: PropTypes.node,\n  onSearch: PropTypes.func,\n  onSelect: PropTypes.func,\n  onDeselect: PropTypes.func,\n  onChange: PropTypes.func,\n  onDropdownVisibleChange: PropTypes.func,\n  onTreeExpand: PropTypes.func,\n  inputIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  clearIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  removeIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  switcherIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n});\n\n_defineProperty(Select, \"childContextTypes\", {\n  rcTreeSelect: PropTypes.shape(_objectSpread({}, selectorContextTypes, multipleSelectorContextTypes, popupContextTypes, {\n    onSearchInputChange: PropTypes.func,\n    onSearchInputKeyDown: PropTypes.func\n  }))\n});\n\n_defineProperty(Select, \"defaultProps\", {\n  prefixCls: 'rc-tree-select',\n  prefixAria: 'rc-tree-select',\n  showArrow: true,\n  showSearch: true,\n  autoClearSearchValue: true,\n  showCheckedStrategy: SHOW_CHILD,\n  // dropdownMatchSelectWidth change the origin design, set to false now\n  // ref: https://github.com/react-component/select/blob/4cad95e098a341a09de239ad6981067188842020/src/Select.jsx#L344\n  // ref: https://github.com/react-component/select/pull/71\n  treeNodeFilterProp: 'value',\n  treeNodeLabelProp: 'title',\n  treeIcon: false,\n  notFoundContent: 'Not Found'\n});\n\nSelect.TreeNode = SelectNode;\nSelect.SHOW_ALL = SHOW_ALL;\nSelect.SHOW_PARENT = SHOW_PARENT;\nSelect.SHOW_CHILD = SHOW_CHILD; // Let warning show correct component name\n\nSelect.displayName = 'TreeSelect';\npolyfill(Select);\nexport default Select;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}