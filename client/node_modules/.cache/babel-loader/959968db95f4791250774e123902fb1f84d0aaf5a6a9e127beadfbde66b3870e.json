{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport set from 'lodash/set';\nimport createFormField, { isFormField } from './createFormField';\nimport { hasRules, flattenFields, getErrorStrs, startsWith } from './utils';\nfunction partOf(a, b) {\n  return b.indexOf(a) === 0 && ['.', '['].indexOf(b[a.length]) !== -1;\n}\nfunction internalFlattenFields(fields) {\n  return flattenFields(fields, function (_, node) {\n    return isFormField(node);\n  }, 'You must wrap field data with `createFormField`.');\n}\nvar FieldsStore = function () {\n  function FieldsStore(fields) {\n    _classCallCheck(this, FieldsStore);\n    _initialiseProps.call(this);\n    this.fields = internalFlattenFields(fields);\n    this.fieldsMeta = {};\n  }\n  _createClass(FieldsStore, [{\n    key: 'updateFields',\n    value: function updateFields(fields) {\n      this.fields = internalFlattenFields(fields);\n    }\n  }, {\n    key: 'flattenRegisteredFields',\n    value: function flattenRegisteredFields(fields) {\n      var validFieldsName = this.getAllFieldsName();\n      return flattenFields(fields, function (path) {\n        return validFieldsName.indexOf(path) >= 0;\n      }, 'You cannot set a form field before rendering a field associated with the value.');\n    }\n  }, {\n    key: 'setFields',\n    value: function setFields(fields) {\n      var _this = this;\n      var fieldsMeta = this.fieldsMeta;\n      var nowFields = _extends({}, this.fields, fields);\n      var nowValues = {};\n      Object.keys(fieldsMeta).forEach(function (f) {\n        nowValues[f] = _this.getValueFromFields(f, nowFields);\n      });\n      Object.keys(nowValues).forEach(function (f) {\n        var value = nowValues[f];\n        var fieldMeta = _this.getFieldMeta(f);\n        if (fieldMeta && fieldMeta.normalize) {\n          var nowValue = fieldMeta.normalize(value, _this.getValueFromFields(f, _this.fields), nowValues);\n          if (nowValue !== value) {\n            nowFields[f] = _extends({}, nowFields[f], {\n              value: nowValue\n            });\n          }\n        }\n      });\n      this.fields = nowFields;\n    }\n  }, {\n    key: 'resetFields',\n    value: function resetFields(ns) {\n      var fields = this.fields;\n      var names = ns ? this.getValidFieldsFullName(ns) : this.getAllFieldsName();\n      return names.reduce(function (acc, name) {\n        var field = fields[name];\n        if (field && 'value' in field) {\n          acc[name] = {};\n        }\n        return acc;\n      }, {});\n    }\n  }, {\n    key: 'setFieldMeta',\n    value: function setFieldMeta(name, meta) {\n      this.fieldsMeta[name] = meta;\n    }\n  }, {\n    key: 'setFieldsAsDirty',\n    value: function setFieldsAsDirty() {\n      var _this2 = this;\n      Object.keys(this.fields).forEach(function (name) {\n        var field = _this2.fields[name];\n        var fieldMeta = _this2.fieldsMeta[name];\n        if (field && fieldMeta && hasRules(fieldMeta.validate)) {\n          _this2.fields[name] = _extends({}, field, {\n            dirty: true\n          });\n        }\n      });\n    }\n  }, {\n    key: 'getFieldMeta',\n    value: function getFieldMeta(name) {\n      this.fieldsMeta[name] = this.fieldsMeta[name] || {};\n      return this.fieldsMeta[name];\n    }\n  }, {\n    key: 'getValueFromFields',\n    value: function getValueFromFields(name, fields) {\n      var field = fields[name];\n      if (field && 'value' in field) {\n        return field.value;\n      }\n      var fieldMeta = this.getFieldMeta(name);\n      return fieldMeta && fieldMeta.initialValue;\n    }\n  }, {\n    key: 'getValidFieldsName',\n    value: function getValidFieldsName() {\n      var _this3 = this;\n      var fieldsMeta = this.fieldsMeta;\n      return fieldsMeta ? Object.keys(fieldsMeta).filter(function (name) {\n        return !_this3.getFieldMeta(name).hidden;\n      }) : [];\n    }\n  }, {\n    key: 'getAllFieldsName',\n    value: function getAllFieldsName() {\n      var fieldsMeta = this.fieldsMeta;\n      return fieldsMeta ? Object.keys(fieldsMeta) : [];\n    }\n  }, {\n    key: 'getValidFieldsFullName',\n    value: function getValidFieldsFullName(maybePartialName) {\n      var maybePartialNames = Array.isArray(maybePartialName) ? maybePartialName : [maybePartialName];\n      return this.getValidFieldsName().filter(function (fullName) {\n        return maybePartialNames.some(function (partialName) {\n          return fullName === partialName || startsWith(fullName, partialName) && ['.', '['].indexOf(fullName[partialName.length]) >= 0;\n        });\n      });\n    }\n  }, {\n    key: 'getFieldValuePropValue',\n    value: function getFieldValuePropValue(fieldMeta) {\n      var name = fieldMeta.name,\n        getValueProps = fieldMeta.getValueProps,\n        valuePropName = fieldMeta.valuePropName;\n      var field = this.getField(name);\n      var fieldValue = 'value' in field ? field.value : fieldMeta.initialValue;\n      if (getValueProps) {\n        return getValueProps(fieldValue);\n      }\n      return _defineProperty({}, valuePropName, fieldValue);\n    }\n  }, {\n    key: 'getField',\n    value: function getField(name) {\n      return _extends({}, this.fields[name], {\n        name: name\n      });\n    }\n  }, {\n    key: 'getNotCollectedFields',\n    value: function getNotCollectedFields() {\n      var _this4 = this;\n      var fieldsName = this.getValidFieldsName();\n      return fieldsName.filter(function (name) {\n        return !_this4.fields[name];\n      }).map(function (name) {\n        return {\n          name: name,\n          dirty: false,\n          value: _this4.getFieldMeta(name).initialValue\n        };\n      }).reduce(function (acc, field) {\n        return set(acc, field.name, createFormField(field));\n      }, {});\n    }\n  }, {\n    key: 'getNestedAllFields',\n    value: function getNestedAllFields() {\n      var _this5 = this;\n      return Object.keys(this.fields).reduce(function (acc, name) {\n        return set(acc, name, createFormField(_this5.fields[name]));\n      }, this.getNotCollectedFields());\n    }\n  }, {\n    key: 'getFieldMember',\n    value: function getFieldMember(name, member) {\n      return this.getField(name)[member];\n    }\n  }, {\n    key: 'getNestedFields',\n    value: function getNestedFields(names, getter) {\n      var fields = names || this.getValidFieldsName();\n      return fields.reduce(function (acc, f) {\n        return set(acc, f, getter(f));\n      }, {});\n    }\n  }, {\n    key: 'getNestedField',\n    value: function getNestedField(name, getter) {\n      var fullNames = this.getValidFieldsFullName(name);\n      if (fullNames.length === 0 ||\n      // Not registered\n      fullNames.length === 1 && fullNames[0] === name // Name already is full name.\n      ) {\n        return getter(name);\n      }\n      var isArrayValue = fullNames[0][name.length] === '[';\n      var suffixNameStartIndex = isArrayValue ? name.length : name.length + 1;\n      return fullNames.reduce(function (acc, fullName) {\n        return set(acc, fullName.slice(suffixNameStartIndex), getter(fullName));\n      }, isArrayValue ? [] : {});\n    }\n  }, {\n    key: 'isValidNestedFieldName',\n    // @private\n    // BG: `a` and `a.b` cannot be use in the same form\n    value: function isValidNestedFieldName(name) {\n      var names = this.getAllFieldsName();\n      return names.every(function (n) {\n        return !partOf(n, name) && !partOf(name, n);\n      });\n    }\n  }, {\n    key: 'clearField',\n    value: function clearField(name) {\n      delete this.fields[name];\n      delete this.fieldsMeta[name];\n    }\n  }]);\n  return FieldsStore;\n}();\nvar _initialiseProps = function _initialiseProps() {\n  var _this6 = this;\n  this.setFieldsInitialValue = function (initialValues) {\n    var flattenedInitialValues = _this6.flattenRegisteredFields(initialValues);\n    var fieldsMeta = _this6.fieldsMeta;\n    Object.keys(flattenedInitialValues).forEach(function (name) {\n      if (fieldsMeta[name]) {\n        _this6.setFieldMeta(name, _extends({}, _this6.getFieldMeta(name), {\n          initialValue: flattenedInitialValues[name]\n        }));\n      }\n    });\n  };\n  this.getAllValues = function () {\n    var fieldsMeta = _this6.fieldsMeta,\n      fields = _this6.fields;\n    return Object.keys(fieldsMeta).reduce(function (acc, name) {\n      return set(acc, name, _this6.getValueFromFields(name, fields));\n    }, {});\n  };\n  this.getFieldsValue = function (names) {\n    return _this6.getNestedFields(names, _this6.getFieldValue);\n  };\n  this.getFieldValue = function (name) {\n    var fields = _this6.fields;\n    return _this6.getNestedField(name, function (fullName) {\n      return _this6.getValueFromFields(fullName, fields);\n    });\n  };\n  this.getFieldsError = function (names) {\n    return _this6.getNestedFields(names, _this6.getFieldError);\n  };\n  this.getFieldError = function (name) {\n    return _this6.getNestedField(name, function (fullName) {\n      return getErrorStrs(_this6.getFieldMember(fullName, 'errors'));\n    });\n  };\n  this.isFieldValidating = function (name) {\n    return _this6.getFieldMember(name, 'validating');\n  };\n  this.isFieldsValidating = function (ns) {\n    var names = ns || _this6.getValidFieldsName();\n    return names.some(function (n) {\n      return _this6.isFieldValidating(n);\n    });\n  };\n  this.isFieldTouched = function (name) {\n    return _this6.getFieldMember(name, 'touched');\n  };\n  this.isFieldsTouched = function (ns) {\n    var names = ns || _this6.getValidFieldsName();\n    return names.some(function (n) {\n      return _this6.isFieldTouched(n);\n    });\n  };\n};\nexport default function createFieldsStore(fields) {\n  return new FieldsStore(fields);\n}","map":{"version":3,"names":["_defineProperty","_extends","_classCallCheck","_createClass","set","createFormField","isFormField","hasRules","flattenFields","getErrorStrs","startsWith","partOf","a","b","indexOf","length","internalFlattenFields","fields","_","node","FieldsStore","_initialiseProps","call","fieldsMeta","key","value","updateFields","flattenRegisteredFields","validFieldsName","getAllFieldsName","path","setFields","_this","nowFields","nowValues","Object","keys","forEach","f","getValueFromFields","fieldMeta","getFieldMeta","normalize","nowValue","resetFields","ns","names","getValidFieldsFullName","reduce","acc","name","field","setFieldMeta","meta","setFieldsAsDirty","_this2","validate","dirty","initialValue","getValidFieldsName","_this3","filter","hidden","maybePartialName","maybePartialNames","Array","isArray","fullName","some","partialName","getFieldValuePropValue","getValueProps","valuePropName","getField","fieldValue","getNotCollectedFields","_this4","fieldsName","map","getNestedAllFields","_this5","getFieldMember","member","getNestedFields","getter","getNestedField","fullNames","isArrayValue","suffixNameStartIndex","slice","isValidNestedFieldName","every","n","clearField","_this6","setFieldsInitialValue","initialValues","flattenedInitialValues","getAllValues","getFieldsValue","getFieldValue","getFieldsError","getFieldError","isFieldValidating","isFieldsValidating","isFieldTouched","isFieldsTouched","createFieldsStore"],"sources":["C:/Users/ajayg/Desktop/vssample/stock_mocker/client/node_modules/rc-form/es/createFieldsStore.js"],"sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\r\nimport _extends from 'babel-runtime/helpers/extends';\r\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\r\nimport _createClass from 'babel-runtime/helpers/createClass';\r\nimport set from 'lodash/set';\r\nimport createFormField, { isFormField } from './createFormField';\r\nimport { hasRules, flattenFields, getErrorStrs, startsWith } from './utils';\r\n\r\nfunction partOf(a, b) {\r\n  return b.indexOf(a) === 0 && ['.', '['].indexOf(b[a.length]) !== -1;\r\n}\r\n\r\nfunction internalFlattenFields(fields) {\r\n  return flattenFields(fields, function (_, node) {\r\n    return isFormField(node);\r\n  }, 'You must wrap field data with `createFormField`.');\r\n}\r\n\r\nvar FieldsStore = function () {\r\n  function FieldsStore(fields) {\r\n    _classCallCheck(this, FieldsStore);\r\n\r\n    _initialiseProps.call(this);\r\n\r\n    this.fields = internalFlattenFields(fields);\r\n    this.fieldsMeta = {};\r\n  }\r\n\r\n  _createClass(FieldsStore, [{\r\n    key: 'updateFields',\r\n    value: function updateFields(fields) {\r\n      this.fields = internalFlattenFields(fields);\r\n    }\r\n  }, {\r\n    key: 'flattenRegisteredFields',\r\n    value: function flattenRegisteredFields(fields) {\r\n      var validFieldsName = this.getAllFieldsName();\r\n      return flattenFields(fields, function (path) {\r\n        return validFieldsName.indexOf(path) >= 0;\r\n      }, 'You cannot set a form field before rendering a field associated with the value.');\r\n    }\r\n  }, {\r\n    key: 'setFields',\r\n    value: function setFields(fields) {\r\n      var _this = this;\r\n\r\n      var fieldsMeta = this.fieldsMeta;\r\n      var nowFields = _extends({}, this.fields, fields);\r\n      var nowValues = {};\r\n      Object.keys(fieldsMeta).forEach(function (f) {\r\n        nowValues[f] = _this.getValueFromFields(f, nowFields);\r\n      });\r\n      Object.keys(nowValues).forEach(function (f) {\r\n        var value = nowValues[f];\r\n        var fieldMeta = _this.getFieldMeta(f);\r\n        if (fieldMeta && fieldMeta.normalize) {\r\n          var nowValue = fieldMeta.normalize(value, _this.getValueFromFields(f, _this.fields), nowValues);\r\n          if (nowValue !== value) {\r\n            nowFields[f] = _extends({}, nowFields[f], {\r\n              value: nowValue\r\n            });\r\n          }\r\n        }\r\n      });\r\n      this.fields = nowFields;\r\n    }\r\n  }, {\r\n    key: 'resetFields',\r\n    value: function resetFields(ns) {\r\n      var fields = this.fields;\r\n\r\n      var names = ns ? this.getValidFieldsFullName(ns) : this.getAllFieldsName();\r\n      return names.reduce(function (acc, name) {\r\n        var field = fields[name];\r\n        if (field && 'value' in field) {\r\n          acc[name] = {};\r\n        }\r\n        return acc;\r\n      }, {});\r\n    }\r\n  }, {\r\n    key: 'setFieldMeta',\r\n    value: function setFieldMeta(name, meta) {\r\n      this.fieldsMeta[name] = meta;\r\n    }\r\n  }, {\r\n    key: 'setFieldsAsDirty',\r\n    value: function setFieldsAsDirty() {\r\n      var _this2 = this;\r\n\r\n      Object.keys(this.fields).forEach(function (name) {\r\n        var field = _this2.fields[name];\r\n        var fieldMeta = _this2.fieldsMeta[name];\r\n        if (field && fieldMeta && hasRules(fieldMeta.validate)) {\r\n          _this2.fields[name] = _extends({}, field, {\r\n            dirty: true\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: 'getFieldMeta',\r\n    value: function getFieldMeta(name) {\r\n      this.fieldsMeta[name] = this.fieldsMeta[name] || {};\r\n      return this.fieldsMeta[name];\r\n    }\r\n  }, {\r\n    key: 'getValueFromFields',\r\n    value: function getValueFromFields(name, fields) {\r\n      var field = fields[name];\r\n      if (field && 'value' in field) {\r\n        return field.value;\r\n      }\r\n      var fieldMeta = this.getFieldMeta(name);\r\n      return fieldMeta && fieldMeta.initialValue;\r\n    }\r\n  }, {\r\n    key: 'getValidFieldsName',\r\n    value: function getValidFieldsName() {\r\n      var _this3 = this;\r\n\r\n      var fieldsMeta = this.fieldsMeta;\r\n\r\n      return fieldsMeta ? Object.keys(fieldsMeta).filter(function (name) {\r\n        return !_this3.getFieldMeta(name).hidden;\r\n      }) : [];\r\n    }\r\n  }, {\r\n    key: 'getAllFieldsName',\r\n    value: function getAllFieldsName() {\r\n      var fieldsMeta = this.fieldsMeta;\r\n\r\n      return fieldsMeta ? Object.keys(fieldsMeta) : [];\r\n    }\r\n  }, {\r\n    key: 'getValidFieldsFullName',\r\n    value: function getValidFieldsFullName(maybePartialName) {\r\n      var maybePartialNames = Array.isArray(maybePartialName) ? maybePartialName : [maybePartialName];\r\n      return this.getValidFieldsName().filter(function (fullName) {\r\n        return maybePartialNames.some(function (partialName) {\r\n          return fullName === partialName || startsWith(fullName, partialName) && ['.', '['].indexOf(fullName[partialName.length]) >= 0;\r\n        });\r\n      });\r\n    }\r\n  }, {\r\n    key: 'getFieldValuePropValue',\r\n    value: function getFieldValuePropValue(fieldMeta) {\r\n      var name = fieldMeta.name,\r\n          getValueProps = fieldMeta.getValueProps,\r\n          valuePropName = fieldMeta.valuePropName;\r\n\r\n      var field = this.getField(name);\r\n      var fieldValue = 'value' in field ? field.value : fieldMeta.initialValue;\r\n      if (getValueProps) {\r\n        return getValueProps(fieldValue);\r\n      }\r\n      return _defineProperty({}, valuePropName, fieldValue);\r\n    }\r\n  }, {\r\n    key: 'getField',\r\n    value: function getField(name) {\r\n      return _extends({}, this.fields[name], {\r\n        name: name\r\n      });\r\n    }\r\n  }, {\r\n    key: 'getNotCollectedFields',\r\n    value: function getNotCollectedFields() {\r\n      var _this4 = this;\r\n\r\n      var fieldsName = this.getValidFieldsName();\r\n      return fieldsName.filter(function (name) {\r\n        return !_this4.fields[name];\r\n      }).map(function (name) {\r\n        return {\r\n          name: name,\r\n          dirty: false,\r\n          value: _this4.getFieldMeta(name).initialValue\r\n        };\r\n      }).reduce(function (acc, field) {\r\n        return set(acc, field.name, createFormField(field));\r\n      }, {});\r\n    }\r\n  }, {\r\n    key: 'getNestedAllFields',\r\n    value: function getNestedAllFields() {\r\n      var _this5 = this;\r\n\r\n      return Object.keys(this.fields).reduce(function (acc, name) {\r\n        return set(acc, name, createFormField(_this5.fields[name]));\r\n      }, this.getNotCollectedFields());\r\n    }\r\n  }, {\r\n    key: 'getFieldMember',\r\n    value: function getFieldMember(name, member) {\r\n      return this.getField(name)[member];\r\n    }\r\n  }, {\r\n    key: 'getNestedFields',\r\n    value: function getNestedFields(names, getter) {\r\n      var fields = names || this.getValidFieldsName();\r\n      return fields.reduce(function (acc, f) {\r\n        return set(acc, f, getter(f));\r\n      }, {});\r\n    }\r\n  }, {\r\n    key: 'getNestedField',\r\n    value: function getNestedField(name, getter) {\r\n      var fullNames = this.getValidFieldsFullName(name);\r\n      if (fullNames.length === 0 || // Not registered\r\n      fullNames.length === 1 && fullNames[0] === name // Name already is full name.\r\n      ) {\r\n          return getter(name);\r\n        }\r\n      var isArrayValue = fullNames[0][name.length] === '[';\r\n      var suffixNameStartIndex = isArrayValue ? name.length : name.length + 1;\r\n      return fullNames.reduce(function (acc, fullName) {\r\n        return set(acc, fullName.slice(suffixNameStartIndex), getter(fullName));\r\n      }, isArrayValue ? [] : {});\r\n    }\r\n  }, {\r\n    key: 'isValidNestedFieldName',\r\n\r\n\r\n    // @private\r\n    // BG: `a` and `a.b` cannot be use in the same form\r\n    value: function isValidNestedFieldName(name) {\r\n      var names = this.getAllFieldsName();\r\n      return names.every(function (n) {\r\n        return !partOf(n, name) && !partOf(name, n);\r\n      });\r\n    }\r\n  }, {\r\n    key: 'clearField',\r\n    value: function clearField(name) {\r\n      delete this.fields[name];\r\n      delete this.fieldsMeta[name];\r\n    }\r\n  }]);\r\n\r\n  return FieldsStore;\r\n}();\r\n\r\nvar _initialiseProps = function _initialiseProps() {\r\n  var _this6 = this;\r\n\r\n  this.setFieldsInitialValue = function (initialValues) {\r\n    var flattenedInitialValues = _this6.flattenRegisteredFields(initialValues);\r\n    var fieldsMeta = _this6.fieldsMeta;\r\n    Object.keys(flattenedInitialValues).forEach(function (name) {\r\n      if (fieldsMeta[name]) {\r\n        _this6.setFieldMeta(name, _extends({}, _this6.getFieldMeta(name), {\r\n          initialValue: flattenedInitialValues[name]\r\n        }));\r\n      }\r\n    });\r\n  };\r\n\r\n  this.getAllValues = function () {\r\n    var fieldsMeta = _this6.fieldsMeta,\r\n        fields = _this6.fields;\r\n\r\n    return Object.keys(fieldsMeta).reduce(function (acc, name) {\r\n      return set(acc, name, _this6.getValueFromFields(name, fields));\r\n    }, {});\r\n  };\r\n\r\n  this.getFieldsValue = function (names) {\r\n    return _this6.getNestedFields(names, _this6.getFieldValue);\r\n  };\r\n\r\n  this.getFieldValue = function (name) {\r\n    var fields = _this6.fields;\r\n\r\n    return _this6.getNestedField(name, function (fullName) {\r\n      return _this6.getValueFromFields(fullName, fields);\r\n    });\r\n  };\r\n\r\n  this.getFieldsError = function (names) {\r\n    return _this6.getNestedFields(names, _this6.getFieldError);\r\n  };\r\n\r\n  this.getFieldError = function (name) {\r\n    return _this6.getNestedField(name, function (fullName) {\r\n      return getErrorStrs(_this6.getFieldMember(fullName, 'errors'));\r\n    });\r\n  };\r\n\r\n  this.isFieldValidating = function (name) {\r\n    return _this6.getFieldMember(name, 'validating');\r\n  };\r\n\r\n  this.isFieldsValidating = function (ns) {\r\n    var names = ns || _this6.getValidFieldsName();\r\n    return names.some(function (n) {\r\n      return _this6.isFieldValidating(n);\r\n    });\r\n  };\r\n\r\n  this.isFieldTouched = function (name) {\r\n    return _this6.getFieldMember(name, 'touched');\r\n  };\r\n\r\n  this.isFieldsTouched = function (ns) {\r\n    var names = ns || _this6.getValidFieldsName();\r\n    return names.some(function (n) {\r\n      return _this6.isFieldTouched(n);\r\n    });\r\n  };\r\n};\r\n\r\nexport default function createFieldsStore(fields) {\r\n  return new FieldsStore(fields);\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}